import{aY as e,aZ as t,a_ as l,a$ as n,b0 as a,b1 as o,b2 as r,b3 as s,b4 as i,b5 as u,b6 as d,b7 as c,b8 as p,b as h,c as f,d as v,b9 as m,g,ba as b,r as y,f as k,e as x,u as C,w,bb as S,aE as N,M as O,bc as V,o as E,j as T,q as I,s as M,k as A,_ as D,bd as L,aG as P,aJ as _,a9 as B,be as $,aN as F,aK as j,x as K,a3 as R,ap as z,aU as q,bf as W,h as H,bg as U,m as G,l as Y,p as X,n as Q,N as Z,z as J,O as ee,y as te,T as le,t as ne,ae,bh as oe,aH as re,bi as se,bj as ie,D as ue,E as de,bk as ce,a4 as pe,ac as he,bl as fe,bm as ve,ar as me,aC as ge,aR as be,X as ye,bn as ke,aP as xe,$ as Ce,aI as we,bo as Se,aT as Ne,bp as Oe,bq as Ve,br as Ee,bs as Te,a8 as Ie,bt as Me,bu as Ae,bv as De,ao as Le,an as Pe,bw as _e,ah as Be,bx as $e,by as Fe,aQ as je,i as Ke,bz as Re,bA as ze,aS as qe,bB as We,bC as He,bD as Ue,bE as Ge,bF as Ye,a as Xe,bG as Qe,a6 as Ze,C as Je,aF as et,bH as tt,bI as lt,bJ as nt,bK as at,bL as ot,bM as rt,bN as st,ad as it,bO as ut,bP as dt,bQ as ct,bR as pt,aO as ht,bS as ft,bT as vt,bU as mt,W as gt,F as bt,J as yt,bV as kt,af as xt,ag as Ct,bW as wt,G as St,bX as Nt,bY as Ot,bZ as Vt,b_ as Et,al as Tt,ak as It}from"./index-9da7d198.js";import{a as Mt,E as At}from"./el-col-d9273186.js";import"./el-tooltip-4ed993c7.js";import{u as Dt,E as Lt,a as Pt}from"./el-popper-2fae9050.js";import{u as _t,b as Bt,c as $t,i as Ft,d as jt,a as Kt,E as Rt}from"./el-input-26eda071.js";import{b as zt,E as qt,c as Wt,r as Ht,a as Ut,p as Gt,d as Yt}from"./el-tag-aef2ce12.js";import{s as Xt}from"./el-checkbox-group-b617b779.js";import{E as Qt}from"./el-button-8f21380c.js";import{t as Zt,u as Jt,b as el,T as tl,d as ll,a as nl,c as al,e as ol,f as rl,D as sl,C as il,g as ul,h as dl,v as cl,E as pl}from"./el-date-picker-f32b0b71.js";import{i as hl,E as fl}from"./el-switch-7720805d.js";import{E as vl}from"./el-divider-fc00d058.js";import{E as ml}from"./el-progress-69812d34.js";import{_ as gl}from"./style.css_vue_type_style_index_0_src_true_lang-0e7f3b44.js";import{U as bl,I as yl,C as kl}from"./event-5568c9d8.js";import{u as xl,f as Cl,a as wl,b as Sl}from"./use-form-common-props-9d083c67.js";import{t as Nl,d as Ol}from"./debounce-778af7ed.js";import{i as Vl}from"./isNil-1f22f7b0.js";import{a as El,b as Tl,u as Il}from"./use-form-item-8b7f5d34.js";import{t as Ml,E as Al}from"./index-14d9f390.js";import{c as Dl,e as Ll}from"./strings-e2e316bd.js";import{s as Pl,i as _l,C as Bl}from"./index-13d6a136.js";import{_ as $l}from"./index-4dbb39b8.js";import{u as Fl}from"./index-cde97138.js";const jl=e=>Array.from(e.querySelectorAll('a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])')).filter((e=>Kl(e)&&(e=>"fixed"!==getComputedStyle(e).position&&null!==e.offsetParent)(e))),Kl=e=>{if(e.tabIndex>0||0===e.tabIndex&&null!==e.getAttribute("tabIndex"))return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&"ignore"!==e.rel;case"INPUT":return!("hidden"===e.type||"file"===e.type);case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Rl=function(e,t,...l){let n;n=t.includes("mouse")||t.includes("click")?"MouseEvents":t.includes("key")?"KeyboardEvent":"HTMLEvents";const a=document.createEvent(n);return a.initEvent(t,...l),e.dispatchEvent(a),e},zl=e=>!e.getAttribute("aria-owns"),ql=(e,t,l)=>{const{parentNode:n}=e;if(!n)return null;const a=n.querySelectorAll(l);return a[Array.prototype.indexOf.call(a,e)+t]||null},Wl=e=>{e&&(e.focus(),!zl(e)&&e.click())},Hl=(t,l)=>{if(!e||!t||!l)return!1;const n=t.getBoundingClientRect();let a;return a=l instanceof Element?l.getBoundingClientRect():{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<a.bottom&&n.bottom>a.top&&n.right>a.left&&n.left<a.right},Ul=e=>{let t,l;return"touchend"===e.type?(l=e.changedTouches[0].clientY,t=e.changedTouches[0].clientX):e.type.startsWith("touch")?(l=e.touches[0].clientY,t=e.touches[0].clientX):(l=e.clientY,t=e.clientX),{clientX:t,clientY:l}};var Gl=1/0,Yl=17976931348623157e292;function Xl(e){var t=function(e){return e?(e=Nl(e))===Gl||e===-Gl?(e<0?-1:1)*Yl:e==e?e:0:0===e?e:0}(e),l=t%1;return t==t?l?t-l:t:0}function Ql(){if(!arguments.length)return[];var e=arguments[0];return t(e)?e:[e]}function Zl(e){return l(e,4)}var Jl=Math.max,en=Math.min;const tn=o&&1/Pl(new o([,-0]))[1]==1/0?function(e){return new o(e)}:function(){};const ln=d((function(e){return function(e,t,l){var n=-1,a=s,o=e.length,d=!0,c=[],p=c;if(l)d=!1,a=i;else if(o>=200){var h=t?null:tn(e);if(h)return Pl(h);d=!1,a=u,p=new r}else p=t?[]:c;e:for(;++n<o;){var f=e[n],v=t?t(f):f;if(f=l||0!==f?f:0,d&&v==v){for(var m=p.length;m--;)if(p[m]===v)continue e;t&&p.push(v),c.push(f)}else a(p,v,l)||(p!==c&&p.push(v),c.push(f))}return c}(a(e,1,c,!0))})),nn=()=>Math.floor(1e4*Math.random()),an=h({size:{type:String,values:f},disabled:Boolean}),on=h({...an,model:Object,rules:{type:v(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),rn={validate:(e,t,l)=>(m(e)||g(e))&&b(t)&&g(l)};function sn(){const e=y([]),t=k((()=>{if(!e.value.length)return"0";const t=Math.max(...e.value);return t?`${t}px`:""}));function l(l){const n=e.value.indexOf(l);return-1===n&&t.value,n}return{autoLabelWidth:t,registerLabelWidth:function(t,n){if(t&&n){const a=l(n);e.value.splice(a,1,t)}else t&&e.value.push(t)},deregisterLabelWidth:function(t){const n=l(t);n>-1&&e.value.splice(n,1)}}}const un=(e,t)=>{const l=Ql(t);return l.length>0?e.filter((e=>e.prop&&l.includes(e.prop))):e},dn=x({name:"ElForm"}),cn=x({...dn,props:on,emits:rn,setup(e,{expose:t,emit:l}){const n=e,a=[],o=xl(),r=C("form"),s=k((()=>{const{labelPosition:e,inline:t}=n;return[r.b(),r.m(o.value||"default"),{[r.m(`label-${e}`)]:e,[r.m("inline")]:t}]})),i=(e=[])=>{n.model&&un(a,e).forEach((e=>e.resetField()))},u=(e=[])=>{un(a,e).forEach((e=>e.clearValidate()))},d=k((()=>!!n.model)),c=async e=>h(void 0,e),p=async(e=[])=>{if(!d.value)return!1;const t=(e=>{if(0===a.length)return[];const t=un(a,e);return t.length?t:[]})(e);if(0===t.length)return!0;let l={};for(const a of t)try{await a.validate("")}catch(n){l={...l,...n}}return 0===Object.keys(l).length||Promise.reject(l)},h=async(e=[],t)=>{const l=!L(t);try{const l=await p(e);return!0===l&&(null==t||t(l)),l}catch(Au){if(Au instanceof Error)throw Au;const a=Au;return n.scrollToError&&f(Object.keys(a)[0]),null==t||t(!1,a),l&&Promise.reject(a)}},f=e=>{var t;const l=un(a,e)[0];l&&(null==(t=l.$el)||t.scrollIntoView(n.scrollIntoViewOptions))};return w((()=>n.rules),(()=>{n.validateOnRuleChange&&c().catch((e=>S()))}),{deep:!0}),N(Cl,O({...V(n),emit:l,resetFields:i,clearValidate:u,validateField:h,addField:e=>{a.push(e)},removeField:e=>{e.prop&&a.splice(a.indexOf(e),1)},...sn()})),t({validate:c,validateField:h,resetFields:i,clearValidate:u,scrollToField:f}),(e,t)=>(E(),T("form",{class:M(A(s))},[I(e.$slots,"default")],2))}});var pn=D(cn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function hn(){return hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},hn.apply(this,arguments)}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vn(e,t){return(vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function mn(e,t,l){return(mn=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Au){return!1}}()?Reflect.construct.bind():function(e,t,l){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return l&&vn(a,l.prototype),a}).apply(null,arguments)}function gn(e){var t="function"==typeof Map?new Map:void 0;return gn=function(e){if(null===e||(l=e,-1===Function.toString.call(l).indexOf("[native code]")))return e;var l;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return mn(e,arguments,fn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),vn(n,e)},gn(e)}var bn=/%[sdj%]/g,yn=function(){};function kn(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var l=e.field;t[l]=t[l]||[],t[l].push(e)})),t}function xn(e){for(var t=arguments.length,l=new Array(t>1?t-1:0),n=1;n<t;n++)l[n-1]=arguments[n];var a=0,o=l.length;return"function"==typeof e?e.apply(null,l):"string"==typeof e?e.replace(bn,(function(e){if("%%"===e)return"%";if(a>=o)return e;switch(e){case"%s":return String(l[a++]);case"%d":return Number(l[a++]);case"%j":try{return JSON.stringify(l[a++])}catch(t){return"[Circular]"}break;default:return e}})):e}function Cn(e,t){return null==e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e))}function wn(e,t,l){var n=0,a=e.length;!function o(r){if(r&&r.length)l(r);else{var s=n;n+=1,s<a?t(e[s],o):l([])}}([])}"undefined"!=typeof process&&process.env;var Sn=function(e){var t,l;function n(t,l){var n;return(n=e.call(this,"Async Validation Error")||this).errors=t,n.fields=l,n}return l=e,(t=n).prototype=Object.create(l.prototype),t.prototype.constructor=t,vn(t,l),n}(gn(Error));function Nn(e,t,l,n,a){if(t.first){var o=new Promise((function(t,o){var r=function(e){var t=[];return Object.keys(e).forEach((function(l){t.push.apply(t,e[l]||[])})),t}(e);wn(r,l,(function(e){return n(e),e.length?o(new Sn(e,kn(e))):t(a)}))}));return o.catch((function(e){return e})),o}var r=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),i=s.length,u=0,d=[],c=new Promise((function(t,o){var c=function(e){if(d.push.apply(d,e),++u===i)return n(d),d.length?o(new Sn(d,kn(d))):t(a)};s.length||(n(d),t(a)),s.forEach((function(t){var n=e[t];-1!==r.indexOf(t)?wn(n,l,c):function(e,t,l){var n=[],a=0,o=e.length;function r(e){n.push.apply(n,e||[]),++a===o&&l(n)}e.forEach((function(e){t(e,r)}))}(n,l,c)}))}));return c.catch((function(e){return e})),c}function On(e,t){return function(l){var n,a;return n=e.fullFields?function(e,t){for(var l=e,n=0;n<t.length;n++){if(null==l)return l;l=l[t[n]]}return l}(t,e.fullFields):t[l.field||e.fullField],(a=l)&&void 0!==a.message?(l.field=l.field||e.fullField,l.fieldValue=n,l):{message:"function"==typeof l?l():l,fieldValue:n,field:l.field||e.fullField}}}function Vn(e,t){if(t)for(var l in t)if(t.hasOwnProperty(l)){var n=t[l];"object"==typeof n&&"object"==typeof e[l]?e[l]=hn({},e[l],n):e[l]=n}return e}var En,Tn=function(e,t,l,n,a,o){!e.required||l.hasOwnProperty(e.field)&&!Cn(t,o||e.type)||n.push(xn(a.messages.required,e.fullField))},In=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,Mn=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,An={integer:function(e){return An.number(e)&&parseInt(e,10)===e},float:function(e){return An.number(e)&&!An.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(Au){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!An.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(In)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(function(){if(En)return En;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},l="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",a=("\n(?:\n(?:"+n+":){7}(?:"+n+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+n+":){6}(?:"+l+"|:"+n+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+n+":){5}(?::"+l+"|(?::"+n+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+n+":){4}(?:(?::"+n+"){0,1}:"+l+"|(?::"+n+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+n+":){3}(?:(?::"+n+"){0,2}:"+l+"|(?::"+n+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+n+":){2}(?:(?::"+n+"){0,3}:"+l+"|(?::"+n+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+n+":){1}(?:(?::"+n+"){0,4}:"+l+"|(?::"+n+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+n+"){0,5}:"+l+"|(?::"+n+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+l+"$)|(?:^"+a+"$)"),r=new RegExp("^"+l+"$"),s=new RegExp("^"+a+"$"),i=function(e){return e&&e.exact?o:new RegExp("(?:"+t(e)+l+t(e)+")|(?:"+t(e)+a+t(e)+")","g")};i.v4=function(e){return e&&e.exact?r:new RegExp(""+t(e)+l+t(e),"g")},i.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+a+t(e),"g")};var u=i.v4().source,d=i.v6().source;return En=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+u+"|"+d+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"==typeof e&&!!e.match(Mn)}},Dn="enum",Ln={required:Tn,whitespace:function(e,t,l,n,a){(/^\s+$/.test(t)||""===t)&&n.push(xn(a.messages.whitespace,e.fullField))},type:function(e,t,l,n,a){if(e.required&&void 0===t)Tn(e,t,l,n,a);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?An[o](t)||n.push(xn(a.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&n.push(xn(a.messages.types[o],e.fullField,e.type))}},range:function(e,t,l,n,a){var o="number"==typeof e.len,r="number"==typeof e.min,s="number"==typeof e.max,i=t,u=null,d="number"==typeof t,c="string"==typeof t,p=Array.isArray(t);if(d?u="number":c?u="string":p&&(u="array"),!u)return!1;p&&(i=t.length),c&&(i=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?i!==e.len&&n.push(xn(a.messages[u].len,e.fullField,e.len)):r&&!s&&i<e.min?n.push(xn(a.messages[u].min,e.fullField,e.min)):s&&!r&&i>e.max?n.push(xn(a.messages[u].max,e.fullField,e.max)):r&&s&&(i<e.min||i>e.max)&&n.push(xn(a.messages[u].range,e.fullField,e.min,e.max))},enum:function(e,t,l,n,a){e[Dn]=Array.isArray(e[Dn])?e[Dn]:[],-1===e[Dn].indexOf(t)&&n.push(xn(a.messages[Dn],e.fullField,e[Dn].join(", ")))},pattern:function(e,t,l,n,a){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||n.push(xn(a.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(t)||n.push(xn(a.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},Pn=function(e,t,l,n,a){var o=e.type,r=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Cn(t,o)&&!e.required)return l();Ln.required(e,t,n,r,a,o),Cn(t,o)||Ln.type(e,t,n,r,a)}l(r)},_n={string:function(e,t,l,n,a){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Cn(t,"string")&&!e.required)return l();Ln.required(e,t,n,o,a,"string"),Cn(t,"string")||(Ln.type(e,t,n,o,a),Ln.range(e,t,n,o,a),Ln.pattern(e,t,n,o,a),!0===e.whitespace&&Ln.whitespace(e,t,n,o,a))}l(o)},method:function(e,t,l,n,a){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Cn(t)&&!e.required)return l();Ln.required(e,t,n,o,a),void 0!==t&&Ln.type(e,t,n,o,a)}l(o)},number:function(e,t,l,n,a){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(""===t&&(t=void 0),Cn(t)&&!e.required)return l();Ln.required(e,t,n,o,a),void 0!==t&&(Ln.type(e,t,n,o,a),Ln.range(e,t,n,o,a))}l(o)},boolean:function(e,t,l,n,a){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Cn(t)&&!e.required)return l();Ln.required(e,t,n,o,a),void 0!==t&&Ln.type(e,t,n,o,a)}l(o)},regexp:function(e,t,l,n,a){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Cn(t)&&!e.required)return l();Ln.required(e,t,n,o,a),Cn(t)||Ln.type(e,t,n,o,a)}l(o)},integer:function(e,t,l,n,a){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Cn(t)&&!e.required)return l();Ln.required(e,t,n,o,a),void 0!==t&&(Ln.type(e,t,n,o,a),Ln.range(e,t,n,o,a))}l(o)},float:function(e,t,l,n,a){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Cn(t)&&!e.required)return l();Ln.required(e,t,n,o,a),void 0!==t&&(Ln.type(e,t,n,o,a),Ln.range(e,t,n,o,a))}l(o)},array:function(e,t,l,n,a){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(null==t&&!e.required)return l();Ln.required(e,t,n,o,a,"array"),null!=t&&(Ln.type(e,t,n,o,a),Ln.range(e,t,n,o,a))}l(o)},object:function(e,t,l,n,a){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Cn(t)&&!e.required)return l();Ln.required(e,t,n,o,a),void 0!==t&&Ln.type(e,t,n,o,a)}l(o)},enum:function(e,t,l,n,a){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Cn(t)&&!e.required)return l();Ln.required(e,t,n,o,a),void 0!==t&&Ln.enum(e,t,n,o,a)}l(o)},pattern:function(e,t,l,n,a){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Cn(t,"string")&&!e.required)return l();Ln.required(e,t,n,o,a),Cn(t,"string")||Ln.pattern(e,t,n,o,a)}l(o)},date:function(e,t,l,n,a){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Cn(t,"date")&&!e.required)return l();var r;if(Ln.required(e,t,n,o,a),!Cn(t,"date"))r=t instanceof Date?t:new Date(t),Ln.type(e,r,n,o,a),r&&Ln.range(e,r.getTime(),n,o,a)}l(o)},url:Pn,hex:Pn,email:Pn,required:function(e,t,l,n,a){var o=[],r=Array.isArray(t)?"array":typeof t;Ln.required(e,t,n,o,a,r),l(o)},any:function(e,t,l,n,a){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(Cn(t)&&!e.required)return l();Ln.required(e,t,n,o,a)}l(o)}};function Bn(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var $n=Bn(),Fn=function(){function e(e){this.rules=null,this._messages=$n,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(l){var n=e[l];t.rules[l]=Array.isArray(n)?n:[n]}))},t.messages=function(e){return e&&(this._messages=Vn(Bn(),e)),this._messages},t.validate=function(t,l,n){var a=this;void 0===l&&(l={}),void 0===n&&(n=function(){});var o=t,r=l,s=n;if("function"==typeof r&&(s=r,r={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,o),Promise.resolve(o);if(r.messages){var i=this.messages();i===$n&&(i=Bn()),Vn(i,r.messages),r.messages=i}else r.messages=this.messages();var u={};(r.keys||Object.keys(this.rules)).forEach((function(e){var l=a.rules[e],n=o[e];l.forEach((function(l){var r=l;"function"==typeof r.transform&&(o===t&&(o=hn({},o)),n=o[e]=r.transform(n)),(r="function"==typeof r?{validator:r}:hn({},r)).validator=a.getValidationMethod(r),r.validator&&(r.field=e,r.fullField=r.fullField||e,r.type=a.getType(r),u[e]=u[e]||[],u[e].push({rule:r,value:n,source:o,field:e}))}))}));var d={};return Nn(u,r,(function(t,l){var n,a=t.rule,s=!("object"!==a.type&&"array"!==a.type||"object"!=typeof a.fields&&"object"!=typeof a.defaultField);function i(e,t){return hn({},t,{fullField:a.fullField+"."+e,fullFields:a.fullFields?[].concat(a.fullFields,[e]):[e]})}function u(n){void 0===n&&(n=[]);var u=Array.isArray(n)?n:[n];!r.suppressWarning&&u.length&&e.warning("async-validator:",u),u.length&&void 0!==a.message&&(u=[].concat(a.message));var c=u.map(On(a,o));if(r.first&&c.length)return d[a.field]=1,l(c);if(s){if(a.required&&!t.value)return void 0!==a.message?c=[].concat(a.message).map(On(a,o)):r.error&&(c=[r.error(a,xn(r.messages.required,a.field))]),l(c);var p={};a.defaultField&&Object.keys(t.value).map((function(e){p[e]=a.defaultField})),p=hn({},p,t.rule.fields);var h={};Object.keys(p).forEach((function(e){var t=p[e],l=Array.isArray(t)?t:[t];h[e]=l.map(i.bind(null,e))}));var f=new e(h);f.messages(r.messages),t.rule.options&&(t.rule.options.messages=r.messages,t.rule.options.error=r.error),f.validate(t.value,t.rule.options||r,(function(e){var t=[];c&&c.length&&t.push.apply(t,c),e&&e.length&&t.push.apply(t,e),l(t.length?t:null)}))}else l(c)}if(s=s&&(a.required||!a.required&&t.value),a.field=t.field,a.asyncValidator)n=a.asyncValidator(a,t.value,u,t.source,r);else if(a.validator){try{n=a.validator(a,t.value,u,t.source,r)}catch(c){console.error,r.suppressValidatorError||setTimeout((function(){throw c}),0),u(c.message)}!0===n?u():!1===n?u("function"==typeof a.message?a.message(a.fullField||a.field):a.message||(a.fullField||a.field)+" fails"):n instanceof Array?u(n):n instanceof Error&&u(n.message)}n&&n.then&&n.then((function(){return u()}),(function(e){return u(e)}))}),(function(e){!function(e){for(var t,l,n=[],a={},r=0;r<e.length;r++)t=e[r],l=void 0,Array.isArray(t)?n=(l=n).concat.apply(l,t):n.push(t);n.length?(a=kn(n),s(n,a)):s(null,o)}(e)}),o)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!_n.hasOwnProperty(e.type))throw new Error(xn("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),l=t.indexOf("message");return-1!==l&&t.splice(l,1),1===t.length&&"required"===t[0]?_n.required:_n[this.getType(e)]||void 0},e}();Fn.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");_n[e]=t},Fn.warning=yn,Fn.messages=$n,Fn.validators=_n;const jn=h({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:v([String,Array])},required:{type:Boolean,default:void 0},rules:{type:v([Object,Array])},error:String,validateStatus:{type:String,values:["","error","validating","success"]},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:f}}),Kn="ElLabelWrap";var Rn=x({name:Kn,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(e,{slots:t}){const l=P(Cl,void 0),n=P(wl);n||_(Kn,"usage: <el-form-item><label-wrap /></el-form-item>");const a=C("form"),o=y(),r=y(0),s=(n="update")=>{z((()=>{t.default&&e.isAutoWidth&&("update"===n?r.value=(()=>{var e;if(null==(e=o.value)?void 0:e.firstElementChild){const e=window.getComputedStyle(o.value.firstElementChild).width;return Math.ceil(Number.parseFloat(e))}return 0})():"remove"===n&&(null==l||l.deregisterLabelWidth(r.value)))}))},i=()=>s("update");return B((()=>{i()})),$((()=>{s("remove")})),F((()=>i())),w(r,((t,n)=>{e.updateAll&&(null==l||l.registerLabelWidth(t,n))})),j(k((()=>{var e,t;return null!=(t=null==(e=o.value)?void 0:e.firstElementChild)?t:null})),i),()=>{var s,i;if(!t)return null;const{isAutoWidth:u}=e;if(u){const e=null==l?void 0:l.autoLabelWidth,i={};if((null==n?void 0:n.hasLabel)&&e&&"auto"!==e){const t=Math.max(0,Number.parseInt(e,10)-r.value),n="left"===l.labelPosition?"marginRight":"marginLeft";t&&(i[n]=`${t}px`)}return K("div",{ref:o,class:[a.be("item","label-wrap")],style:i},[null==(s=t.default)?void 0:s.call(t)])}return K(R,{ref:o},[null==(i=t.default)?void 0:i.call(t)])}}});const zn=["role","aria-labelledby"],qn=x({name:"ElFormItem"});var Wn=D(x({...qn,props:jn,setup(e,{expose:t}){const l=e,n=q(),a=P(Cl,void 0),o=P(wl,void 0),r=xl(void 0,{formItem:!1}),s=C("form-item"),i=Fl().value,u=y([]),d=y(""),c=W(d,100),p=y(""),h=y();let f,v=!1;const m=k((()=>{if("top"===(null==a?void 0:a.labelPosition))return{};const e=H(l.labelWidth||(null==a?void 0:a.labelWidth)||"");return e?{width:e}:{}})),x=k((()=>{if("top"===(null==a?void 0:a.labelPosition)||(null==a?void 0:a.inline))return{};if(!l.label&&!l.labelWidth&&ae)return{};const e=H(l.labelWidth||(null==a?void 0:a.labelWidth)||"");return l.label||n.label?{}:{marginLeft:e}})),S=k((()=>[s.b(),s.m(r.value),s.is("error","error"===d.value),s.is("validating","validating"===d.value),s.is("success","success"===d.value),s.is("required",ie.value||l.required),s.is("no-asterisk",null==a?void 0:a.hideRequiredAsterisk),"right"===(null==a?void 0:a.requireAsteriskPosition)?"asterisk-right":"asterisk-left",{[s.m("feedback")]:null==a?void 0:a.statusIcon}])),D=k((()=>b(l.inlineMessage)?l.inlineMessage:(null==a?void 0:a.inlineMessage)||!1)),_=k((()=>[s.e("error"),{[s.em("error","inline")]:D.value}])),F=k((()=>l.prop?g(l.prop)?l.prop:l.prop.join("."):"")),j=k((()=>!(!l.label&&!n.label))),R=k((()=>l.for||1===u.value.length?u.value[0]:void 0)),ne=k((()=>!R.value&&j.value)),ae=!!o,oe=k((()=>{const e=null==a?void 0:a.model;if(e&&l.prop)return U(e,l.prop).value})),re=k((()=>{const{required:e}=l,t=[];l.rules&&t.push(...Ql(l.rules));const n=null==a?void 0:a.rules;if(n&&l.prop){const e=U(n,l.prop).value;e&&t.push(...Ql(e))}if(void 0!==e){const l=t.map(((e,t)=>[e,t])).filter((([e])=>Object.keys(e).includes("required")));if(l.length>0)for(const[n,a]of l)n.required!==e&&(t[a]={...n,required:e});else t.push({required:e})}return t})),se=k((()=>re.value.length>0)),ie=k((()=>re.value.some((e=>e.required)))),ue=k((()=>{var e;return"error"===c.value&&l.showMessage&&(null==(e=null==a?void 0:a.showMessage)||e)})),de=k((()=>`${l.label||""}${(null==a?void 0:a.labelSuffix)||""}`)),ce=e=>{d.value=e},pe=async e=>{const t=F.value;return new Fn({[t]:e}).validate({[t]:oe.value},{firstFields:!0}).then((()=>(ce("success"),null==a||a.emit("validate",l.prop,!0,""),!0))).catch((e=>((e=>{var t,n;const{errors:o,fields:r}=e;ce("error"),p.value=o?null!=(n=null==(t=null==o?void 0:o[0])?void 0:t.message)?n:`${l.prop} is required`:"",null==a||a.emit("validate",l.prop,!1,p.value)})(e),Promise.reject(e))))},he=async(e,t)=>{if(v||!l.prop)return!1;const n=L(t);if(!se.value)return null==t||t(!1),!1;const a=(e=>re.value.filter((t=>!t.trigger||!e||(Array.isArray(t.trigger)?t.trigger.includes(e):t.trigger===e))).map((({trigger:e,...t})=>t)))(e);return 0===a.length?(null==t||t(!0),!0):(ce("validating"),pe(a).then((()=>(null==t||t(!0),!0))).catch((e=>{const{fields:l}=e;return null==t||t(!1,l),!n&&Promise.reject(l)})))},fe=()=>{ce(""),p.value="",v=!1},ve=async()=>{const e=null==a?void 0:a.model;if(!e||!l.prop)return;const t=U(e,l.prop);v=!0,t.value=Zl(f),await z(),fe(),v=!1};w((()=>l.error),(e=>{p.value=e||"",ce(e?"error":"")}),{immediate:!0}),w((()=>l.validateStatus),(e=>ce(e||"")));const me=O({...V(l),$el:h,size:r,validateState:d,labelId:i,inputIds:u,isGroup:ne,hasLabel:j,addInputId:e=>{u.value.includes(e)||u.value.push(e)},removeInputId:e=>{u.value=u.value.filter((t=>t!==e))},resetField:ve,clearValidate:fe,validate:he});return N(wl,me),B((()=>{l.prop&&(null==a||a.addField(me),f=Zl(oe.value))})),$((()=>{null==a||a.removeField(me)})),t({size:r,validateMessage:p,validateState:d,validate:he,clearValidate:fe,resetField:ve}),(e,t)=>{var l;return E(),T("div",{ref_key:"formItemRef",ref:h,class:M(A(S)),role:A(ne)?"group":void 0,"aria-labelledby":A(ne)?A(i):void 0},[K(A(Rn),{"is-auto-width":"auto"===A(m).width,"update-all":"auto"===(null==(l=A(a))?void 0:l.labelWidth)},{default:G((()=>[A(j)?(E(),Y(X(A(R)?"label":"div"),{key:0,id:A(i),for:A(R),class:M(A(s).e("label")),style:Q(A(m))},{default:G((()=>[I(e.$slots,"label",{label:A(de)},(()=>[Z(J(A(de)),1)]))])),_:3},8,["id","for","class","style"])):ee("v-if",!0)])),_:3},8,["is-auto-width","update-all"]),te("div",{class:M(A(s).e("content")),style:Q(A(x))},[I(e.$slots,"default"),K(le,{name:`${A(s).namespace.value}-zoom-in-top`},{default:G((()=>[A(ue)?I(e.$slots,"error",{key:0,error:p.value},(()=>[te("div",{class:M(A(_))},J(p.value),3)])):ee("v-if",!0)])),_:3},8,["name"])],6)],10,zn)}}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const Hn=ne(pn,{FormItem:Wn}),Un=ae(Wn),Gn=h({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:v(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:v([Function,Array]),default:oe},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:Dt.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String}),Yn={[bl]:e=>g(e),[yl]:e=>g(e),[kl]:e=>g(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,select:e=>re(e)},Xn=["aria-expanded","aria-owns"],Qn={key:0},Zn=["id","aria-selected","onClick"],Jn="ElAutocomplete",ea=x({name:Jn,inheritAttrs:!1});const ta=ne(D(x({...ea,props:Gn,emits:Yn,setup(e,{expose:t,emit:l}){const n=e,a=_t(),o=se(),r=Sl(),s=C("autocomplete"),i=y(),u=y(),d=y(),c=y();let p=!1,h=!1;const f=y([]),v=y(-1),g=y(""),b=y(!1),x=y(!1),w=y(!1),S=k((()=>s.b(String(nn())))),N=k((()=>o.style)),O=k((()=>(f.value.length>0||w.value)&&b.value)),V=k((()=>!n.hideLoading&&w.value)),D=k((()=>i.value?Array.from(i.value.$el.querySelectorAll("input")):[])),L=()=>{O.value&&(g.value=`${i.value.$el.offsetWidth}px`)},P=()=>{v.value=-1},$=Ol((async e=>{if(x.value)return;const t=e=>{w.value=!1,x.value||(m(e)?(f.value=e,v.value=n.highlightFirstItem?0:-1):_(Jn,"autocomplete suggestions must be an array"))};if(w.value=!0,m(n.fetchSuggestions))t(n.fetchSuggestions);else{const l=await n.fetchSuggestions(e,t);m(l)&&t(l)}}),n.debounce),F=e=>{const t=!!e;if(l(yl,e),l(bl,e),x.value=!1,b.value||(b.value=t),!n.triggerOnFocus&&!e)return x.value=!0,void(f.value=[]);$(e)},j=e=>{var t;r.value||("INPUT"!==(null==(t=e.target)?void 0:t.tagName)||D.value.includes(document.activeElement))&&(b.value=!0)},z=e=>{l(kl,e)},q=e=>{h?h=!1:(b.value=!0,l("focus",e),n.triggerOnFocus&&!p&&$(String(n.modelValue)))},W=e=>{setTimeout((()=>{var t;(null==(t=d.value)?void 0:t.isFocusInsideContent())?h=!0:(b.value&&ee(),l("blur",e))}))},H=()=>{b.value=!1,l(bl,""),l("clear")},U=async()=>{O.value&&v.value>=0&&v.value<f.value.length?le(f.value[v.value]):n.selectWhenUnmatched&&(l("select",{value:n.modelValue}),f.value=[],v.value=-1)},X=e=>{O.value&&(e.preventDefault(),e.stopPropagation(),ee())},ee=()=>{b.value=!1},le=async e=>{l(yl,e[n.valueKey]),l(bl,e[n.valueKey]),l("select",e),f.value=[],v.value=-1},ne=e=>{if(!O.value||w.value)return;if(e<0)return void(v.value=-1);e>=f.value.length&&(e=f.value.length-1);const t=u.value.querySelector(`.${s.be("suggestion","wrap")}`),l=t.querySelectorAll(`.${s.be("suggestion","list")} li`)[e],n=t.scrollTop,{offsetTop:a,scrollHeight:o}=l;a+o>n+t.clientHeight&&(t.scrollTop+=o),a<n&&(t.scrollTop-=o),v.value=e,i.value.ref.setAttribute("aria-activedescendant",`${S.value}-item-${v.value}`)};return ie(c,(()=>{O.value&&ee()})),B((()=>{i.value.ref.setAttribute("role","textbox"),i.value.ref.setAttribute("aria-autocomplete","list"),i.value.ref.setAttribute("aria-controls","id"),i.value.ref.setAttribute("aria-activedescendant",`${S.value}-item-${v.value}`),p=i.value.ref.hasAttribute("readonly")})),t({highlightedIndex:v,activated:b,loading:w,inputRef:i,popperRef:d,suggestions:f,handleSelect:le,handleKeyEnter:U,focus:()=>{var e;null==(e=i.value)||e.focus()},blur:()=>{var e;null==(e=i.value)||e.blur()},close:ee,highlight:ne}),(e,t)=>(E(),Y(A(Lt),{ref_key:"popperRef",ref:d,visible:A(O),placement:e.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[A(s).e("popper"),e.popperClass],teleported:e.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${A(s).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:L,onHide:P},{content:G((()=>[te("div",{ref_key:"regionRef",ref:u,class:M([A(s).b("suggestion"),A(s).is("loading",A(V))]),style:Q({[e.fitInputWidth?"width":"minWidth"]:g.value,outline:"none"}),role:"region"},[K(A(ue),{id:A(S),tag:"ul","wrap-class":A(s).be("suggestion","wrap"),"view-class":A(s).be("suggestion","list"),role:"listbox"},{default:G((()=>[A(V)?(E(),T("li",Qn,[K(A(de),{class:M(A(s).is("loading"))},{default:G((()=>[K(A(ce))])),_:1},8,["class"])])):(E(!0),T(R,{key:1},pe(f.value,((t,l)=>(E(),T("li",{id:`${A(S)}-item-${l}`,key:l,class:M({highlighted:v.value===l}),role:"option","aria-selected":v.value===l,onClick:e=>le(t)},[I(e.$slots,"default",{item:t},(()=>[Z(J(t[e.valueKey]),1)]))],10,Zn)))),128))])),_:3},8,["id","wrap-class","view-class"])],6)])),default:G((()=>[te("div",{ref_key:"listboxRef",ref:c,class:M([A(s).b(),e.$attrs.class]),style:Q(A(N)),role:"combobox","aria-haspopup":"listbox","aria-expanded":A(O),"aria-owns":A(S)},[K(A(Bt),he({ref_key:"inputRef",ref:i},A(a),{clearable:e.clearable,disabled:A(r),name:e.name,"model-value":e.modelValue,onInput:F,onChange:z,onFocus:q,onBlur:W,onClear:H,onKeydown:[t[0]||(t[0]=fe(ve((e=>ne(v.value-1)),["prevent"]),["up"])),t[1]||(t[1]=fe(ve((e=>ne(v.value+1)),["prevent"]),["down"])),fe(U,["enter"]),fe(ee,["tab"]),fe(X,["esc"])],onMousedown:j}),me({_:2},[e.$slots.prepend?{name:"prepend",fn:G((()=>[I(e.$slots,"prepend")]))}:void 0,e.$slots.append?{name:"append",fn:G((()=>[I(e.$slots,"append")]))}:void 0,e.$slots.prefix?{name:"prefix",fn:G((()=>[I(e.$slots,"prefix")]))}:void 0,e.$slots.suffix?{name:"suffix",fn:G((()=>[I(e.$slots,"suffix")]))}:void 0]),1040,["clearable","disabled","name","model-value","onKeydown"])],14,Xn)])),_:3},8,["visible","placement","popper-class","teleported","transition"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/autocomplete/src/autocomplete.vue"]])),la=h({...Zt,parsedValue:{type:v(Array)}}),na=["disabled"];var aa=D(x({__name:"panel-time-range",props:la,emits:["pick","select-range","set-picker-option"],setup(e,{emit:t}){const l=e,n=(e,t)=>{const l=[];for(let n=e;n<=t;n++)l.push(n);return l},{t:a,lang:o}=ge(),r=C("time"),s=C("picker"),i=P("EP_PICKER_BASE"),{arrowControl:u,disabledHours:d,disabledMinutes:c,disabledSeconds:p,defaultValue:h}=i.props,f=k((()=>[r.be("range-picker","body"),r.be("panel","content"),r.is("arrow",u),w.value?"has-seconds":""])),v=k((()=>[r.be("range-picker","body"),r.be("panel","content"),r.is("arrow",u),w.value?"has-seconds":""])),g=k((()=>l.parsedValue[0])),b=k((()=>l.parsedValue[1])),x=Jt(l),w=k((()=>l.format.includes("ss"))),S=k((()=>l.format.includes("A")?"A":l.format.includes("a")?"a":"")),N=e=>{V(e.millisecond(0),b.value)},O=e=>{V(g.value,e.millisecond(0))},V=(e,l)=>{t("pick",[e,l],!0)},I=k((()=>g.value>b.value)),D=y([0,2]),L=(e,l)=>{t("select-range",e,l,"min"),D.value=[e,l]},_=k((()=>w.value?11:8)),B=(e,l)=>{t("select-range",e,l,"max");const n=A(_);D.value=[e+n,l+n]},$=(e,t)=>{const l=d?d(e):[],a="start"===e,o=(t||(a?b.value:g.value)).hour(),r=a?n(o+1,23):n(0,o-1);return ln(l,r)},F=(e,t,l)=>{const a=c?c(e,t):[],o="start"===t,r=l||(o?b.value:g.value);if(e!==r.hour())return a;const s=r.minute(),i=o?n(s+1,59):n(0,s-1);return ln(a,i)},j=(e,t,l,a)=>{const o=p?p(e,t,l):[],r="start"===l,s=a||(r?b.value:g.value),i=s.hour(),u=s.minute();if(e!==i||t!==u)return o;const d=s.second(),c=r?n(d+1,59):n(0,d-1);return ln(o,c)},R=([e,t])=>[U(e,"start",!0,t),U(t,"end",!1,e)],{getAvailableHours:z,getAvailableMinutes:q,getAvailableSeconds:W}=el($,F,j),{timePickerOptions:H,getAvailableTime:U,onSetOption:G}=nl({getAvailableHours:z,getAvailableMinutes:q,getAvailableSeconds:W});return t("set-picker-option",["formatToString",e=>e?m(e)?e.map((e=>e.format(l.format))):e.format(l.format):null]),t("set-picker-option",["parseUserInput",e=>e?m(e)?e.map((e=>ll(e,l.format).locale(o.value))):ll(e,l.format).locale(o.value):null]),t("set-picker-option",["isValidValue",e=>{const t=e.map((e=>ll(e).locale(o.value))),l=R(t);return t[0].isSame(l[0])&&t[1].isSame(l[1])}]),t("set-picker-option",["handleKeydownInput",e=>{const t=e.code,{left:l,right:n,up:a,down:o}=be;if([l,n].includes(t)){return(e=>{const t=w.value?[0,3,6,11,14,17]:[0,3,8,11],l=["hours","minutes"].concat(w.value?["seconds"]:[]),n=(t.indexOf(D.value[0])+e+t.length)%t.length,a=t.length/2;n<a?H.start_emitSelectRange(l[n]):H.end_emitSelectRange(l[n-a])})(t===l?-1:1),void e.preventDefault()}if([a,o].includes(t)){const l=t===a?-1:1,n=D.value[0]<_.value?"start":"end";return H[`${n}_scrollDown`](l),void e.preventDefault()}}]),t("set-picker-option",["getDefaultValue",()=>{if(m(h))return h.map((e=>ll(e).locale(o.value)));const e=ll(h).locale(o.value);return[e,e.add(60,"m")]}]),t("set-picker-option",["getRangeAvailableTime",R]),(e,l)=>e.actualVisible?(E(),T("div",{key:0,class:M([A(r).b("range-picker"),A(s).b("panel")])},[te("div",{class:M(A(r).be("range-picker","content"))},[te("div",{class:M(A(r).be("range-picker","cell"))},[te("div",{class:M(A(r).be("range-picker","header"))},J(A(a)("el.datepicker.startTime")),3),te("div",{class:M(A(f))},[K(tl,{ref:"minSpinner",role:"start","show-seconds":A(w),"am-pm-mode":A(S),"arrow-control":A(u),"spinner-date":A(g),"disabled-hours":$,"disabled-minutes":F,"disabled-seconds":j,onChange:N,onSetOption:A(G),onSelectRange:L},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),te("div",{class:M(A(r).be("range-picker","cell"))},[te("div",{class:M(A(r).be("range-picker","header"))},J(A(a)("el.datepicker.endTime")),3),te("div",{class:M(A(v))},[K(tl,{ref:"maxSpinner",role:"end","show-seconds":A(w),"am-pm-mode":A(S),"arrow-control":A(u),"spinner-date":A(b),"disabled-hours":$,"disabled-minutes":F,"disabled-seconds":j,onChange:O,onSetOption:A(G),onSelectRange:B},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),te("div",{class:M(A(r).be("panel","footer"))},[te("button",{type:"button",class:M([A(r).be("panel","btn"),"cancel"]),onClick:l[0]||(l[0]=e=>{t("pick",x.value,!1)})},J(A(a)("el.datepicker.cancel")),3),te("button",{type:"button",class:M([A(r).be("panel","btn"),"confirm"]),disabled:A(I),onClick:l[1]||(l[1]=e=>((e=!1)=>{t("pick",[g.value,b.value],e)})())},J(A(a)("el.datepicker.confirm")),11,na)],2)],2)):ee("v-if",!0)}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-range.vue"]]);ll.extend(al);var oa=x({name:"ElTimePicker",install:null,props:{...ol,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,t){const l=y(),[n,a]=e.isRange?["timerange",aa]:["time",rl],o=e=>t.emit("update:modelValue",e);return N("ElPopperOptions",e.popperOptions),t.expose({focus:e=>{var t;null==(t=l.value)||t.handleFocusInput(e)},blur:e=>{var t;null==(t=l.value)||t.handleBlurInput(e)},handleOpen:()=>{var e;null==(e=l.value)||e.handleOpen()},handleClose:()=>{var e;null==(e=l.value)||e.handleClose()}}),()=>{var t;const r=null!=(t=e.format)?t:sl;return K(il,he(e,{ref:l,type:n,format:r,"onUpdate:modelValue":o}),{default:e=>K(a,e,null)})}}});const ra=oa;ra.install=e=>{e.component(ra.name,ra)};const sa=ra;var ia=x({name:"NodeContent",setup:()=>({ns:C("cascader-node")}),render(){const{ns:e}=this,{node:t,panel:l}=this.$parent,{data:n,label:a}=t,{renderLabelFn:o}=l;return ye("span",{class:e.e("label")},o?o({node:t,data:n}):a)}});const ua=Symbol(),da=x({name:"ElCascaderNode",components:{ElCheckbox:qt,ElRadio:$t,NodeContent:ia,ElIcon:de,Check:ke,Loading:ce,ArrowRight:xe},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:t}){const l=P(ua),n=C("cascader-node"),a=k((()=>l.isHoverMenu)),o=k((()=>l.config.multiple)),r=k((()=>l.config.checkStrictly)),s=k((()=>{var e;return null==(e=l.checkedNodes[0])?void 0:e.uid})),i=k((()=>e.node.isDisabled)),u=k((()=>e.node.isLeaf)),d=k((()=>r.value&&!u.value||!i.value)),c=k((()=>h(l.expandingNode))),p=k((()=>r.value&&l.checkedNodes.some(h))),h=t=>{var l;const{level:n,uid:a}=e.node;return(null==(l=null==t?void 0:t.pathNodes[n-1])?void 0:l.uid)===a},f=()=>{c.value||l.expandNode(e.node)},v=t=>{const{node:n}=e;t!==n.checked&&l.handleCheckChange(n,t)},m=()=>{l.lazyLoad(e.node,(()=>{u.value||f()}))},g=()=>{const{node:t}=e;d.value&&!t.loading&&(t.loaded?f():m())},b=t=>{e.node.loaded?(v(t),!r.value&&f()):m()};return{panel:l,isHoverMenu:a,multiple:o,checkStrictly:r,checkedNodeId:s,isDisabled:i,isLeaf:u,expandable:d,inExpandingPath:c,inCheckedPath:p,ns:n,handleHoverExpand:e=>{a.value&&(g(),!u.value&&t("expand",e))},handleExpand:g,handleClick:()=>{a.value&&!u.value||(!u.value||i.value||r.value||o.value?g():b(!0))},handleCheck:b,handleSelectCheck:t=>{r.value?(v(t),e.node.loaded&&f()):b(t)}}}}),ca=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],pa=te("span",null,null,-1);const ha=x({name:"ElCascaderMenu",components:{Loading:ce,ElIcon:de,ElScrollbar:ue,ElCascaderNode:D(da,[["render",function(e,t,l,n,a,o){const r=Ce("el-checkbox"),s=Ce("el-radio"),i=Ce("check"),u=Ce("el-icon"),d=Ce("node-content"),c=Ce("loading"),p=Ce("arrow-right");return E(),T("li",{id:`${e.menuId}-${e.node.uid}`,role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:M([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:t[2]||(t[2]=(...t)=>e.handleHoverExpand&&e.handleHoverExpand(...t)),onFocus:t[3]||(t[3]=(...t)=>e.handleHoverExpand&&e.handleHoverExpand(...t)),onClick:t[4]||(t[4]=(...t)=>e.handleClick&&e.handleClick(...t))},[ee(" prefix "),e.multiple?(E(),Y(r,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:t[0]||(t[0]=ve((()=>{}),["stop"])),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):e.checkStrictly?(E(),Y(s,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:t[1]||(t[1]=ve((()=>{}),["stop"]))},{default:G((()=>[ee("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),pa])),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):e.isLeaf&&e.node.checked?(E(),Y(u,{key:2,class:M(e.ns.e("prefix"))},{default:G((()=>[K(i)])),_:1},8,["class"])):ee("v-if",!0),ee(" content "),K(d),ee(" postfix "),e.isLeaf?ee("v-if",!0):(E(),T(R,{key:3},[e.node.loading?(E(),Y(u,{key:0,class:M([e.ns.is("loading"),e.ns.e("postfix")])},{default:G((()=>[K(c)])),_:1},8,["class"])):(E(),Y(u,{key:1,class:M(["arrow-right",e.ns.e("postfix")])},{default:G((()=>[K(p)])),_:1},8,["class"]))],64))],42,ca)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/node.vue"]])},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const t=we(),l=C("cascader-menu"),{t:n}=ge(),a=nn();let o=null,r=null;const s=P(ua),i=y(null),u=k((()=>!e.nodes.length)),d=k((()=>!s.initialLoaded)),c=k((()=>`cascader-menu-${a}-${e.index}`)),p=()=>{r&&(clearTimeout(r),r=null)},h=()=>{i.value&&(i.value.innerHTML="",p())};return{ns:l,panel:s,hoverZone:i,isEmpty:u,isLoading:d,menuId:c,t:n,handleExpand:e=>{o=e.target},handleMouseMove:e=>{if(s.isHoverMenu&&o&&i.value)if(o.contains(e.target)){p();const l=t.vnode.el,{left:n}=l.getBoundingClientRect(),{offsetWidth:a,offsetHeight:r}=l,s=e.clientX-n,u=o.offsetTop,d=u+o.offsetHeight;i.value.innerHTML=`\n          <path style="pointer-events: auto;" fill="transparent" d="M${s} ${u} L${a} 0 V${u} Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M${s} ${d} L${a} ${r} V${d} Z" />\n        `}else r||(r=window.setTimeout(h,s.config.hoverThreshold))},clearHoverZone:h}}});var fa=D(ha,[["render",function(e,t,l,n,a,o){const r=Ce("el-cascader-node"),s=Ce("loading"),i=Ce("el-icon"),u=Ce("el-scrollbar");return E(),Y(u,{key:e.menuId,tag:"ul",role:"menu",class:M(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:G((()=>{var t;return[(E(!0),T(R,null,pe(e.nodes,(t=>(E(),Y(r,{key:t.uid,node:t,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"])))),128)),e.isLoading?(E(),T("div",{key:0,class:M(e.ns.e("empty-text"))},[K(i,{size:"14",class:M(e.ns.is("loading"))},{default:G((()=>[K(s)])),_:1},8,["class"]),Z(" "+J(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(E(),T("div",{key:1,class:M(e.ns.e("empty-text"))},J(e.t("el.cascader.noData")),3)):(null==(t=e.panel)?void 0:t.isHoverMenu)?(E(),T("svg",{key:2,ref:"hoverZone",class:M(e.ns.e("hover-zone"))},null,2)):ee("v-if",!0)]})),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/menu.vue"]]);let va=0;let ma=class e{constructor(t,l,n,a=!1){this.data=t,this.config=l,this.parent=n,this.root=a,this.uid=va++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:r,children:s}=l,i=t[s],u=(e=>{const t=[e];let{parent:l}=e;for(;l;)t.unshift(l),l=l.parent;return t})(this);this.level=a?0:n?n.level+1:1,this.value=t[o],this.label=t[r],this.pathNodes=u,this.pathValues=u.map((e=>e.value)),this.pathLabels=u.map((e=>e.label)),this.childrenData=i,this.children=(i||[]).map((t=>new e(t,l,this))),this.loaded=!l.lazy||this.isLeaf||!Se(i)}get isDisabled(){const{data:e,parent:t,config:l}=this,{disabled:n,checkStrictly:a}=l;return(L(n)?n(e,this):!!e[n])||!a&&(null==t?void 0:t.isDisabled)}get isLeaf(){const{data:e,config:t,childrenData:l,loaded:n}=this,{lazy:a,leaf:o}=t,r=L(o)?o(e,this):e[o];return Ne(r)?!(a&&!n)&&!(Array.isArray(l)&&l.length):!!r}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(t){const{childrenData:l,children:n}=this,a=new e(t,this.config,this);return Array.isArray(l)?l.push(t):this.childrenData=[t],n.push(a),a}calcText(e,t){const l=e?this.pathLabels.join(t):this.label;return this.text=l,l}broadcast(e,...t){const l=`onParent${Dl(e)}`;this.children.forEach((n=>{n&&(n.broadcast(e,...t),n[l]&&n[l](...t))}))}emit(e,...t){const{parent:l}=this,n=`onChild${Dl(e)}`;l&&(l[n]&&l[n](...t),l.emit(e,...t))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,t=e.filter((e=>!e.isDisabled)),l=!!t.length&&t.every((e=>e.checked));this.setCheckState(l)}setCheckState(e){const t=this.children.length,l=this.children.reduce(((e,t)=>e+(t.checked?1:t.indeterminate?.5:0)),0);this.checked=this.loaded&&this.children.filter((e=>!e.isDisabled)).every((e=>e.loaded&&e.checked))&&e,this.indeterminate=this.loaded&&l!==t&&l>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:t,multiple:l}=this.config;t||!l?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const ga=(e,t)=>e.reduce(((e,l)=>(l.isLeaf?e.push(l):(!t&&e.push(l),e=e.concat(ga(l.children,t))),e)),[]);class ba{constructor(e,t){this.config=t;const l=(e||[]).map((e=>new ma(e,this.config)));this.nodes=l,this.allNodes=ga(l,!1),this.leafNodes=ga(l,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,t){const l=t?t.appendChild(e):new ma(e,this.config);t||this.nodes.push(l),this.allNodes.push(l),l.isLeaf&&this.leafNodes.push(l)}appendNodes(e,t){e.forEach((e=>this.appendNode(e,t)))}getNodeByValue(e,t=!1){if(!e&&0!==e)return null;return this.getFlattedNodes(t).find((t=>_l(t.value,e)||_l(t.pathValues,e)))||null}getSameNode(e){if(!e)return null;return this.getFlattedNodes(!1).find((({value:t,level:l})=>_l(e.value,t)&&e.level===l))||null}}const ya=h({modelValue:{type:v([Number,String,Array])},options:{type:v(Array),default:()=>[]},props:{type:v(Object),default:()=>({})}}),ka={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:oe,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},xa=e=>{if(!e)return 0;const t=e.id.split("-");return Number(t[t.length-2])},Ca=x({name:"ElCascaderPanel",components:{ElCascaderMenu:fa},props:{...ya,border:{type:Boolean,default:!0},renderLabel:Function},emits:[bl,kl,"close","expand-change"],setup(t,{emit:l,slots:n}){let o=!1;const r=C("cascader"),s=(e=>k((()=>({...ka,...e.props}))))(t);let i=null;const u=y(!0),d=y([]),c=y(null),p=y([]),h=y(null),f=y([]),v=k((()=>"hover"===s.value.expandTrigger)),m=k((()=>t.renderLabel||n.default)),g=(e,t)=>{const l=s.value;(e=e||new ma({},l,void 0,!0)).loading=!0;l.lazyLoad(e,(l=>{const n=e,a=n.root?null:n;l&&(null==i||i.appendNodes(l,a)),n.loading=!1,n.loaded=!0,n.childrenData=n.childrenData||[],t&&t(l)}))},b=(e,t)=>{var n;const{level:a}=e,o=p.value.slice(0,a);let r;e.isLeaf?r=e.pathNodes[a-2]:(r=e,o.push(e.children)),(null==(n=h.value)?void 0:n.uid)!==(null==r?void 0:r.uid)&&(h.value=e,p.value=o,!t&&l("expand-change",(null==e?void 0:e.pathValues)||[]))},x=(e,t,n=!0)=>{const{checkStrictly:a,multiple:r}=s.value,i=f.value[0];o=!0,!r&&(null==i||i.doCheck(!1)),e.doCheck(t),T(),n&&!r&&!a&&l("close"),!n&&!r&&!a&&S(e)},S=e=>{e&&(e=e.parent,S(e),e&&b(e))},V=e=>null==i?void 0:i.getFlattedNodes(e),E=e=>{var t;return null==(t=V(e))?void 0:t.filter((e=>!1!==e.checked))},T=()=>{var e;const{checkStrictly:t,multiple:l}=s.value,n=((e,t)=>{const l=t.slice(0),n=l.map((e=>e.uid)),a=e.reduce(((e,t)=>{const a=n.indexOf(t.uid);return a>-1&&(e.push(t),l.splice(a,1),n.splice(a,1)),e}),[]);return a.push(...l),a})(f.value,E(!t)),a=n.map((e=>e.valueByOption));f.value=n,c.value=l?a:null!=(e=a[0])?e:null},I=(e=!1,l=!1)=>{const{modelValue:n}=t,{lazy:r,multiple:d,checkStrictly:p}=s.value,h=!p;var f;if(u.value&&!o&&(l||!_l(n,c.value)))if(r&&!e){const e=ul(null!=(f=dl(n))&&f.length?a(f,1/0):[]).map((e=>null==i?void 0:i.getNodeByValue(e))).filter((e=>!!e&&!e.loaded&&!e.loading));e.length?e.forEach((e=>{g(e,(()=>I(!1,l)))})):I(!0,l)}else{const e=d?dl(n):[n],t=ul(e.map((e=>null==i?void 0:i.getNodeByValue(e,h))));M(t,l),c.value=Ve(n)}},M=(e,l=!0)=>{const{checkStrictly:n}=s.value,a=f.value,o=e.filter((e=>!!e&&(n||e.isLeaf))),r=null==i?void 0:i.getSameNode(h.value),u=l&&r||o[0];u?u.pathNodes.forEach((e=>b(e,!0))):h.value=null,a.forEach((e=>e.doCheck(!1))),t.props.multiple?O(o).forEach((e=>e.doCheck(!0))):o.forEach((e=>e.doCheck(!0))),f.value=o,z(A)},A=()=>{e&&d.value.forEach((e=>{const t=null==e?void 0:e.$el;if(t){const e=t.querySelector(`.${r.namespace.value}-scrollbar__wrap`),l=t.querySelector(`.${r.b("node")}.${r.is("active")}`)||t.querySelector(`.${r.b("node")}.in-active-path`);Xt(e,l)}}))};return N(ua,O({config:s,expandingNode:h,checkedNodes:f,isHoverMenu:v,initialLoaded:u,renderLabelFn:m,lazyLoad:g,expandNode:b,handleCheckChange:x})),w([s,()=>t.options],(()=>{const{options:e}=t,l=s.value;o=!1,i=new ba(e,l),p.value=[i.getNodes()],l.lazy&&Se(t.options)?(u.value=!1,g(void 0,(e=>{e&&(i=new ba(e,l),p.value=[i.getNodes()]),u.value=!0,I(!1,!0)}))):I(!1,!0)}),{deep:!0,immediate:!0}),w((()=>t.modelValue),(()=>{o=!1,I()}),{deep:!0}),w((()=>c.value),(e=>{_l(e,t.modelValue)||(l(bl,e),l(kl,e))})),Oe((()=>d.value=[])),B((()=>!Se(t.modelValue)&&I())),{ns:r,menuList:d,menus:p,checkedNodes:f,handleKeyDown:e=>{const t=e.target,{code:l}=e;switch(l){case be.up:case be.down:{e.preventDefault();const n=l===be.up?-1:1;Wl(ql(t,n,`.${r.b("node")}[tabindex="-1"]`));break}case be.left:{e.preventDefault();const l=d.value[xa(t)-1],n=null==l?void 0:l.$el.querySelector(`.${r.b("node")}[aria-expanded="true"]`);Wl(n);break}case be.right:{e.preventDefault();const l=d.value[xa(t)+1],n=null==l?void 0:l.$el.querySelector(`.${r.b("node")}[tabindex="-1"]`);Wl(n);break}case be.enter:(e=>{if(!e)return;const t=e.querySelector("input");t?t.click():zl(e)&&e.click()})(t)}},handleCheckChange:x,getFlattedNodes:V,getCheckedNodes:E,clearCheckedNodes:()=>{f.value.forEach((e=>e.doCheck(!1))),T(),p.value=p.value.slice(0,1),h.value=null,l("expand-change",[])},calculateCheckedValue:T,scrollToExpandingNode:A}}});var wa=D(Ca,[["render",function(e,t,l,n,a,o){const r=Ce("el-cascader-menu");return E(),T("div",{class:M([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:t[0]||(t[0]=(...t)=>e.handleKeyDown&&e.handleKeyDown(...t))},[(E(!0),T(R,null,pe(e.menus,((t,l)=>(E(),Y(r,{key:l,ref_for:!0,ref:t=>e.menuList[l]=t,index:l,nodes:[...t]},null,8,["index","nodes"])))),128))],34)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader-panel/src/index.vue"]]);wa.install=e=>{e.component(wa.name,wa)};const Sa=wa,Na=h({...ya,size:Ee,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:v(Function),default:(e,t)=>e.text.includes(t)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:v(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:Dt.teleported,tagType:{...Ml.type,default:"info"},validateEvent:{type:Boolean,default:!0}}),Oa={[bl]:e=>!!e||null===e,[kl]:e=>!!e||null===e,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,visibleChange:e=>b(e),expandChange:e=>!!e,removeTag:e=>!!e},Va={key:0},Ea=["placeholder","onKeydown"],Ta=["onClick"],Ia=x({name:"ElCascader"}),Ma=x({...Ia,props:Na,emits:Oa,setup(t,{expose:l,emit:n}){const a=t,o={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:t,placement:l}=e;["right","left","bottom","top"].includes(l)||(t.arrow.x=35)},requires:["arrow"]}]},r=se();let s=0,i=0;const u=C("cascader"),d=C("input"),{t:c}=ge(),{form:p,formItem:h}=El(),f=y(null),v=y(null),m=y(null),g=y(null),b=y(null),x=y(!1),N=y(!1),O=y(!1),V=y(!1),D=y(""),L=y(""),P=y([]),_=y([]),$=y([]),F=y(!1),q=k((()=>r.style)),W=k((()=>a.disabled||(null==p?void 0:p.disabled))),H=k((()=>a.placeholder||c("el.cascader.placeholder"))),U=k((()=>L.value||P.value.length>0||F.value?"":H.value)),X=xl(),Z=k((()=>["small"].includes(X.value)?"small":"default")),le=k((()=>!!a.props.multiple)),ne=k((()=>!a.filterable||le.value)),ae=k((()=>le.value?L.value:D.value)),oe=k((()=>{var e;return(null==(e=g.value)?void 0:e.checkedNodes)||[]})),re=k((()=>!(!a.clearable||W.value||O.value||!N.value)&&!!oe.value.length)),ie=k((()=>{const{showAllLevels:e,separator:t}=a,l=oe.value;return l.length?le.value?"":l[0].calcText(e,t):""})),ce=k({get:()=>Ve(a.modelValue),set(e){n(bl,e),n(kl,e),a.validateEvent&&(null==h||h.validate("change").catch((e=>S())))}}),he=k((()=>[u.b(),u.m(X.value),u.is("disabled",W.value),r.class])),me=k((()=>[d.e("icon"),"icon-arrow-down",u.is("reverse",x.value)])),ye=k((()=>u.is("focus",x.value||V.value))),xe=k((()=>{var e,t;return null==(t=null==(e=f.value)?void 0:e.popperRef)?void 0:t.contentRef})),Ce=e=>{var t,l,o;W.value||(e=null!=e?e:!x.value)!==x.value&&(x.value=e,null==(l=null==(t=v.value)?void 0:t.input)||l.setAttribute("aria-expanded",`${e}`),e?(we(),z(null==(o=g.value)?void 0:o.scrollToExpandingNode)):a.filterable&&ze(),n("visibleChange",e))},we=()=>{z((()=>{var e;null==(e=f.value)||e.updatePopper()}))},Se=()=>{O.value=!1},Ne=e=>{const{showAllLevels:t,separator:l}=a;return{node:e,key:e.uid,text:e.calcText(t,l),hitState:!1,closable:!W.value&&!e.isDisabled,isCollapseTag:!1}},Oe=e=>{var t;const l=e.node;l.doCheck(!1),null==(t=g.value)||t.calculateCheckedValue(),n("removeTag",l.valueByOption)},Ee=()=>{var e,t;const{filterMethod:l,showAllLevels:n,separator:o}=a,r=null==(t=null==(e=g.value)?void 0:e.getFlattedNodes(!a.props.checkStrictly))?void 0:t.filter((e=>!e.isDisabled&&(e.calcText(n,o),l(e,ae.value))));le.value&&(P.value.forEach((e=>{e.hitState=!1})),_.value.forEach((e=>{e.hitState=!1}))),O.value=!0,$.value=r,we()},Be=()=>{var e;let t;t=O.value&&b.value?b.value.$el.querySelector(`.${u.e("suggestion-item")}`):null==(e=g.value)?void 0:e.$el.querySelector(`.${u.b("node")}[tabindex="-1"]`),t&&(t.focus(),!O.value&&t.click())},$e=()=>{var t,l;const n=null==(t=v.value)?void 0:t.input,a=m.value,o=null==(l=b.value)?void 0:l.$el;if(e&&n){if(o){o.querySelector(`.${u.e("suggestion-list")}`).style.minWidth=`${n.offsetWidth}px`}if(a){const{offsetHeight:e}=a,t=P.value.length>0?`${Math.max(e+6,s)}px`:`${s}px`;n.style.height=t,we()}}},Fe=e=>{we(),n("expandChange",e)},je=e=>{var t;const l=null==(t=e.target)?void 0:t.value;if("compositionend"===e.type)F.value=!1,z((()=>Ye(l)));else{const e=l[l.length-1]||"";F.value=!Ft(e)}},Ke=e=>{if(!F.value)switch(e.code){case be.enter:Ce();break;case be.down:Ce(!0),z(Be),e.preventDefault();break;case be.esc:!0===x.value&&(e.preventDefault(),e.stopPropagation(),Ce(!1));break;case be.tab:Ce(!1)}},Re=()=>{var e;null==(e=g.value)||e.clearCheckedNodes(),!x.value&&a.filterable&&ze(),Ce(!1)},ze=()=>{const{value:e}=ie;D.value=e,L.value=e},qe=e=>{const t=e.target,{code:l}=e;switch(l){case be.up:case be.down:{const e=l===be.up?-1:1;Wl(ql(t,e,`.${u.e("suggestion-item")}[tabindex="-1"]`));break}case be.enter:t.click()}},We=()=>{const e=P.value,t=e[e.length-1];i=L.value?0:i+1,!t||!i||a.collapseTags&&e.length>1||(t.hitState?Oe(t):t.hitState=!0)},He=e=>{const t=e.target,l=u.e("search-input");t.className===l&&(V.value=!0),n("focus",e)},Ue=e=>{V.value=!1,n("blur",e)},Ge=Ol((()=>{const{value:e}=ae;if(!e)return;const t=a.beforeFilter(e);Te(t)?t.then(Ee).catch((()=>{})):!1!==t?Ee():Se()}),a.debounce),Ye=(e,t)=>{!x.value&&Ce(!0),(null==t?void 0:t.isComposing)||(e?Ge():Se())},Xe=e=>Number.parseFloat(_e(d.cssVarName("input-height"),e).value)-2;return w(O,we),w([oe,W],(()=>{if(!le.value)return;const e=oe.value,t=[],l=[];if(e.forEach((e=>l.push(Ne(e)))),_.value=l,e.length){e.slice(0,a.maxCollapseTags).forEach((e=>t.push(Ne(e))));const l=e.slice(a.maxCollapseTags),n=l.length;n&&(a.collapseTags?t.push({key:-1,text:`+ ${n}`,closable:!1,isCollapseTag:!0}):l.forEach((e=>t.push(Ne(e)))))}P.value=t})),w(P,(()=>{z((()=>$e()))})),w(X,(async()=>{await z();const e=v.value.input;s=Xe(e)||s,$e()})),w(ie,ze,{immediate:!0}),B((()=>{const e=v.value.input,t=Xe(e);s=e.offsetHeight||t,j(e,$e)})),l({getCheckedNodes:e=>{var t;return null==(t=g.value)?void 0:t.getCheckedNodes(e)},cascaderPanelRef:g,togglePopperVisible:Ce,contentRef:xe}),(e,t)=>(E(),Y(A(Lt),{ref_key:"tooltipRef",ref:f,visible:x.value,teleported:e.teleported,"popper-class":[A(u).e("dropdown"),e.popperClass],"popper-options":o,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${A(u).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:Se},{default:G((()=>[Ie((E(),T("div",{class:M(A(he)),style:Q(A(q)),onClick:t[5]||(t[5]=()=>Ce(!A(ne)||void 0)),onKeydown:Ke,onMouseenter:t[6]||(t[6]=e=>N.value=!0),onMouseleave:t[7]||(t[7]=e=>N.value=!1)},[K(A(Bt),{ref_key:"input",ref:v,modelValue:D.value,"onUpdate:modelValue":t[1]||(t[1]=e=>D.value=e),placeholder:A(U),readonly:A(ne),disabled:A(W),"validate-event":!1,size:A(X),class:M(A(ye)),tabindex:A(le)&&e.filterable&&!A(W)?-1:void 0,onCompositionstart:je,onCompositionupdate:je,onCompositionend:je,onFocus:He,onBlur:Ue,onInput:Ye},{suffix:G((()=>[A(re)?(E(),Y(A(de),{key:"clear",class:M([A(d).e("icon"),"icon-circle-close"]),onClick:ve(Re,["stop"])},{default:G((()=>[K(A(Me))])),_:1},8,["class","onClick"])):(E(),Y(A(de),{key:"arrow-down",class:M(A(me)),onClick:t[0]||(t[0]=ve((e=>Ce()),["stop"]))},{default:G((()=>[K(A(Ae))])),_:1},8,["class"]))])),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),A(le)?(E(),T("div",{key:0,ref_key:"tagWrapper",ref:m,class:M(A(u).e("tags"))},[(E(!0),T(R,null,pe(P.value,(t=>(E(),Y(A(Al),{key:t.key,type:e.tagType,size:A(Z),hit:t.hitState,closable:t.closable,"disable-transitions":"",onClose:e=>Oe(t)},{default:G((()=>[!1===t.isCollapseTag?(E(),T("span",Va,J(t.text),1)):(E(),Y(A(Lt),{key:1,disabled:x.value||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:G((()=>[te("span",null,J(t.text),1)])),content:G((()=>[te("div",{class:M(A(u).e("collapse-tags"))},[(E(!0),T(R,null,pe(_.value.slice(e.maxCollapseTags),((t,l)=>(E(),T("div",{key:l,class:M(A(u).e("collapse-tag"))},[(E(),Y(A(Al),{key:t.key,class:"in-tooltip",type:e.tagType,size:A(Z),hit:t.hitState,closable:t.closable,"disable-transitions":"",onClose:e=>Oe(t)},{default:G((()=>[te("span",null,J(t.text),1)])),_:2},1032,["type","size","hit","closable","onClose"]))],2)))),128))],2)])),_:2},1032,["disabled"]))])),_:2},1032,["type","size","hit","closable","onClose"])))),128)),e.filterable&&!A(W)?Ie((E(),T("input",{key:0,"onUpdate:modelValue":t[2]||(t[2]=e=>L.value=e),type:"text",class:M(A(u).e("search-input")),placeholder:A(ie)?"":A(H),onInput:t[3]||(t[3]=e=>Ye(L.value,e)),onClick:t[4]||(t[4]=ve((e=>Ce(!0)),["stop"])),onKeydown:fe(We,["delete"]),onCompositionstart:je,onCompositionupdate:je,onCompositionend:je,onFocus:He,onBlur:Ue},null,42,Ea)),[[De,L.value]]):ee("v-if",!0)],2)):ee("v-if",!0)],38)),[[A(Bl),()=>Ce(!1),A(xe)]])])),content:G((()=>[Ie(K(A(Sa),{ref_key:"cascaderPanelRef",ref:g,modelValue:A(ce),"onUpdate:modelValue":t[8]||(t[8]=e=>Le(ce)?ce.value=e:null),options:e.options,props:a.props,border:!1,"render-label":e.$slots.default,onExpandChange:Fe,onClose:t[9]||(t[9]=t=>e.$nextTick((()=>Ce(!1))))},null,8,["modelValue","options","props","render-label"]),[[Pe,!O.value]]),e.filterable?Ie((E(),Y(A(ue),{key:0,ref_key:"suggestionPanel",ref:b,tag:"ul",class:M(A(u).e("suggestion-panel")),"view-class":A(u).e("suggestion-list"),onKeydown:qe},{default:G((()=>[$.value.length?(E(!0),T(R,{key:0},pe($.value,(e=>(E(),T("li",{key:e.uid,class:M([A(u).e("suggestion-item"),A(u).is("checked",e.checked)]),tabindex:-1,onClick:t=>(e=>{var t,l;const{checked:n}=e;le.value?null==(t=g.value)||t.handleCheckChange(e,!n,!1):(!n&&(null==(l=g.value)||l.handleCheckChange(e,!0,!1)),Ce(!1))})(e)},[te("span",null,J(e.text),1),e.checked?(E(),Y(A(de),{key:0},{default:G((()=>[K(A(ke))])),_:1})):ee("v-if",!0)],10,Ta)))),128)):I(e.$slots,"empty",{key:1},(()=>[te("li",{class:M(A(u).e("empty-text"))},J(A(c)("el.cascader.noMatch")),3)]))])),_:3},8,["class","view-class"])),[[Pe,O.value]]):ee("v-if",!0)])),_:3},8,["visible","teleported","popper-class","transition"]))}});var Aa=D(Ma,[["__file","/home/runner/work/element-plus/element-plus/packages/components/cascader/src/cascader.vue"]]);Aa.install=e=>{e.component(Aa.name,Aa)};const Da=Aa,La=h({color:{type:v(Object),required:!0},vertical:{type:Boolean,default:!1}});let Pa=!1;function _a(t,l){if(!e)return;const n=function(e){var t;null==(t=l.drag)||t.call(l,e)},a=function(e){var t;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",a),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",a),document.onselectstart=null,document.ondragstart=null,Pa=!1,null==(t=l.end)||t.call(l,e)},o=function(e){var t;Pa||(e.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",a),document.addEventListener("touchmove",n),document.addEventListener("touchend",a),Pa=!0,null==(t=l.start)||t.call(l,e))};t.addEventListener("mousedown",o),t.addEventListener("touchstart",o)}const Ba=(e,{bar:t,thumb:l,handleDrag:n})=>{const a=we(),o=C("color-alpha-slider"),r=y(0),s=y(0),i=y();function u(){r.value=function(){if(!l.value)return 0;if(e.vertical)return 0;const t=a.vnode.el,n=e.color.get("alpha");return t?Math.round(n*(t.offsetWidth-l.value.offsetWidth/2)/100):0}(),s.value=function(){if(!l.value)return 0;const t=a.vnode.el;if(!e.vertical)return 0;const n=e.color.get("alpha");return t?Math.round(n*(t.offsetHeight-l.value.offsetHeight/2)/100):0}(),i.value=function(){if(e.color&&e.color.value){const{r:t,g:l,b:n}=e.color.toRgb();return`linear-gradient(to right, rgba(${t}, ${l}, ${n}, 0) 0%, rgba(${t}, ${l}, ${n}, 1) 100%)`}return""}()}B((()=>{if(!t.value||!l.value)return;const e={drag:e=>{n(e)},end:e=>{n(e)}};_a(t.value,e),_a(l.value,e),u()})),w((()=>e.color.get("alpha")),(()=>u())),w((()=>e.color.value),(()=>u()));const d=k((()=>[o.b(),o.is("vertical",e.vertical)])),c=k((()=>o.e("bar"))),p=k((()=>o.e("thumb")));return{rootKls:d,barKls:c,barStyle:k((()=>({background:i.value}))),thumbKls:p,thumbStyle:k((()=>({left:H(r.value),top:H(s.value)}))),update:u}},$a=x({name:"ElColorAlphaSlider"});var Fa=D(x({...$a,props:La,setup(e,{expose:t}){const l=e,{bar:n,thumb:a,handleDrag:o,handleClick:r}=(e=>{const t=we(),l=Be(),n=Be();function a(a){if(!n.value||!l.value)return;const o=t.vnode.el.getBoundingClientRect(),{clientX:r,clientY:s}=Ul(a);if(e.vertical){let t=s-o.top;t=Math.max(l.value.offsetHeight/2,t),t=Math.min(t,o.height-l.value.offsetHeight/2),e.color.set("alpha",Math.round((t-l.value.offsetHeight/2)/(o.height-l.value.offsetHeight)*100))}else{let t=r-o.left;t=Math.max(l.value.offsetWidth/2,t),t=Math.min(t,o.width-l.value.offsetWidth/2),e.color.set("alpha",Math.round((t-l.value.offsetWidth/2)/(o.width-l.value.offsetWidth)*100))}}return{thumb:l,bar:n,handleDrag:a,handleClick:function(e){e.target!==l.value&&a(e)}}})(l),{rootKls:s,barKls:i,barStyle:u,thumbKls:d,thumbStyle:c,update:p}=Ba(l,{bar:n,thumb:a,handleDrag:o});return t({update:p,bar:n,thumb:a}),(e,t)=>(E(),T("div",{class:M(A(s))},[te("div",{ref_key:"bar",ref:n,class:M(A(i)),style:Q(A(u)),onClick:t[0]||(t[0]=(...e)=>A(r)&&A(r)(...e))},null,6),te("div",{ref_key:"thumb",ref:a,class:M(A(d)),style:Q(A(c))},null,6)],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/alpha-slider.vue"]]);var ja=D(x({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(e){const t=C("color-hue-slider"),l=we(),n=y(),a=y(),o=y(0),r=y(0),s=k((()=>e.color.get("hue")));function i(t){if(!a.value||!n.value)return;const o=l.vnode.el.getBoundingClientRect(),{clientX:r,clientY:s}=Ul(t);let i;if(e.vertical){let e=s-o.top;e=Math.min(e,o.height-n.value.offsetHeight/2),e=Math.max(n.value.offsetHeight/2,e),i=Math.round((e-n.value.offsetHeight/2)/(o.height-n.value.offsetHeight)*360)}else{let e=r-o.left;e=Math.min(e,o.width-n.value.offsetWidth/2),e=Math.max(n.value.offsetWidth/2,e),i=Math.round((e-n.value.offsetWidth/2)/(o.width-n.value.offsetWidth)*360)}e.color.set("hue",i)}function u(){o.value=function(){if(!n.value)return 0;const t=l.vnode.el;if(e.vertical)return 0;const a=e.color.get("hue");return t?Math.round(a*(t.offsetWidth-n.value.offsetWidth/2)/360):0}(),r.value=function(){if(!n.value)return 0;const t=l.vnode.el;if(!e.vertical)return 0;const a=e.color.get("hue");return t?Math.round(a*(t.offsetHeight-n.value.offsetHeight/2)/360):0}()}return w((()=>s.value),(()=>{u()})),B((()=>{if(!a.value||!n.value)return;const e={drag:e=>{i(e)},end:e=>{i(e)}};_a(a.value,e),_a(n.value,e),u()})),{bar:a,thumb:n,thumbLeft:o,thumbTop:r,hueValue:s,handleClick:function(e){e.target!==n.value&&i(e)},update:u,ns:t}}}),[["render",function(e,t,l,n,a,o){return E(),T("div",{class:M([e.ns.b(),e.ns.is("vertical",e.vertical)])},[te("div",{ref:"bar",class:M(e.ns.e("bar")),onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},null,2),te("div",{ref:"thumb",class:M(e.ns.e("thumb")),style:Q({left:e.thumbLeft+"px",top:e.thumbTop+"px"})},null,6)],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/hue-slider.vue"]]);const Ka=h({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:Ee,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:v(Array)},validateEvent:{type:Boolean,default:!0}}),Ra={[bl]:e=>g(e)||Vl(e),[kl]:e=>g(e)||Vl(e),activeChange:e=>g(e)||Vl(e)},za=Symbol("colorPickerContextKey"),qa=function(e,t,l){return[e,t*l/((e=(2-t)*l)<1?e:2-e)||0,e/2]},Wa=function(e,t){var l;"string"==typeof(l=e)&&l.includes(".")&&1===Number.parseFloat(l)&&(e="100%");const n=function(e){return"string"==typeof e&&e.includes("%")}(e);return e=Math.min(t,Math.max(0,Number.parseFloat(`${e}`))),n&&(e=Number.parseInt(""+e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/Number.parseFloat(t)},Ha={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},Ua=e=>{e=Math.min(Math.round(e),255);const t=Math.floor(e/16),l=e%16;return`${Ha[t]||t}${Ha[l]||l}`},Ga=function({r:e,g:t,b:l}){return Number.isNaN(+e)||Number.isNaN(+t)||Number.isNaN(+l)?"":`#${Ua(e)}${Ua(t)}${Ua(l)}`},Ya={A:10,B:11,C:12,D:13,E:14,F:15},Xa=function(e){return 2===e.length?16*(Ya[e[0].toUpperCase()]||+e[0])+(Ya[e[1].toUpperCase()]||+e[1]):Ya[e[1].toUpperCase()]||+e[1]},Qa=(e,t,l)=>{e=Wa(e,255),t=Wa(t,255),l=Wa(l,255);const n=Math.max(e,t,l),a=Math.min(e,t,l);let o;const r=n,s=n-a,i=0===n?0:s/n;if(n===a)o=0;else{switch(n){case e:o=(t-l)/s+(t<l?6:0);break;case t:o=(l-e)/s+2;break;case l:o=(e-t)/s+4}o/=6}return{h:360*o,s:100*i,v:100*r}},Za=function(e,t,l){e=6*Wa(e,360),t=Wa(t,100),l=Wa(l,100);const n=Math.floor(e),a=e-n,o=l*(1-t),r=l*(1-a*t),s=l*(1-(1-a)*t),i=n%6,u=[l,r,o,o,s,l][i],d=[s,l,l,r,o,o][i],c=[o,o,s,l,l,r][i];return{r:Math.round(255*u),g:Math.round(255*d),b:Math.round(255*c)}};class Ja{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const t in e)$e(e,t)&&(this[t]=e[t]);e.value?this.fromString(e.value):this.doOnChange()}set(e,t){if(1!==arguments.length||"object"!=typeof e)this[`_${e}`]=t,this.doOnChange();else for(const l in e)$e(e,l)&&this.set(l,e[l])}get(e){return"alpha"===e?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return Za(this._hue,this._saturation,this._value)}fromString(e){if(!e)return this._hue=0,this._saturation=100,this._value=100,void this.doOnChange();const t=(e,t,l)=>{this._hue=Math.max(0,Math.min(360,e)),this._saturation=Math.max(0,Math.min(100,t)),this._value=Math.max(0,Math.min(100,l)),this.doOnChange()};if(e.includes("hsl")){const l=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter((e=>""!==e)).map(((e,t)=>t>2?Number.parseFloat(e):Number.parseInt(e,10)));if(4===l.length?this._alpha=100*Number.parseFloat(l[3]):3===l.length&&(this._alpha=100),l.length>=3){const{h:e,s:n,v:a}=function(e,t,l){l/=100;let n=t/=100;const a=Math.max(l,.01);return t*=(l*=2)<=1?l:2-l,n*=a<=1?a:2-a,{h:e,s:100*(0===l?2*n/(a+n):2*t/(l+t)),v:(l+t)/2*100}}(l[0],l[1],l[2]);t(e,n,a)}}else if(e.includes("hsv")){const l=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter((e=>""!==e)).map(((e,t)=>t>2?Number.parseFloat(e):Number.parseInt(e,10)));4===l.length?this._alpha=100*Number.parseFloat(l[3]):3===l.length&&(this._alpha=100),l.length>=3&&t(l[0],l[1],l[2])}else if(e.includes("rgb")){const l=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter((e=>""!==e)).map(((e,t)=>t>2?Number.parseFloat(e):Number.parseInt(e,10)));if(4===l.length?this._alpha=100*Number.parseFloat(l[3]):3===l.length&&(this._alpha=100),l.length>=3){const{h:e,s:n,v:a}=Qa(l[0],l[1],l[2]);t(e,n,a)}}else if(e.includes("#")){const l=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(l))return;let n,a,o;3===l.length?(n=Xa(l[0]+l[0]),a=Xa(l[1]+l[1]),o=Xa(l[2]+l[2])):6!==l.length&&8!==l.length||(n=Xa(l.slice(0,2)),a=Xa(l.slice(2,4)),o=Xa(l.slice(4,6))),8===l.length?this._alpha=Xa(l.slice(6))/255*100:3!==l.length&&6!==l.length||(this._alpha=100);const{h:r,s:s,v:i}=Qa(n,a,o);t(r,s,i)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:t,_value:l,_alpha:n,format:a}=this;if(this.enableAlpha)switch(a){case"hsl":{const n=qa(e,t/100,l/100);this.value=`hsla(${e}, ${Math.round(100*n[1])}%, ${Math.round(100*n[2])}%, ${this.get("alpha")/100})`;break}case"hsv":this.value=`hsva(${e}, ${Math.round(t)}%, ${Math.round(l)}%, ${this.get("alpha")/100})`;break;case"hex":this.value=`${Ga(Za(e,t,l))}${Ua(255*n/100)}`;break;default:{const{r:n,g:a,b:o}=Za(e,t,l);this.value=`rgba(${n}, ${a}, ${o}, ${this.get("alpha")/100})`}}else switch(a){case"hsl":{const n=qa(e,t/100,l/100);this.value=`hsl(${e}, ${Math.round(100*n[1])}%, ${Math.round(100*n[2])}%)`;break}case"hsv":this.value=`hsv(${e}, ${Math.round(t)}%, ${Math.round(l)}%)`;break;case"rgb":{const{r:n,g:a,b:o}=Za(e,t,l);this.value=`rgb(${n}, ${a}, ${o})`;break}default:this.value=Ga(Za(e,t,l))}}}const eo=x({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(e){const t=C("color-predefine"),{currentColor:l}=P(za),n=y(a(e.colors,e.color));function a(e,t){return e.map((e=>{const l=new Ja;return l.enableAlpha=!0,l.format="rgba",l.fromString(e),l.selected=l.value===t.value,l}))}return w((()=>l.value),(e=>{const t=new Ja;t.fromString(e),n.value.forEach((e=>{e.selected=t.compare(e)}))})),Fe((()=>{n.value=a(e.colors,e.color)})),{rgbaColors:n,handleSelect:function(t){e.color.fromString(e.colors[t])},ns:t}}}),to=["onClick"];var lo=D(eo,[["render",function(e,t,l,n,a,o){return E(),T("div",{class:M(e.ns.b())},[te("div",{class:M(e.ns.e("colors"))},[(E(!0),T(R,null,pe(e.rgbaColors,((t,l)=>(E(),T("div",{key:e.colors[l],class:M([e.ns.e("color-selector"),e.ns.is("alpha",t._alpha<100),{selected:t.selected}]),onClick:t=>e.handleSelect(l)},[te("div",{style:Q({backgroundColor:t.value})},null,4)],10,to)))),128))],2)],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/predefine.vue"]]);const no=x({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(e){const t=C("color-svpanel"),l=we(),n=y(0),a=y(0),o=y("hsl(0, 100%, 50%)"),r=k((()=>({hue:e.color.get("hue"),value:e.color.get("value")})));function s(){const t=e.color.get("saturation"),r=e.color.get("value"),s=l.vnode.el,{clientWidth:i,clientHeight:u}=s;a.value=t*i/100,n.value=(100-r)*u/100,o.value=`hsl(${e.color.get("hue")}, 100%, 50%)`}function i(t){const o=l.vnode.el.getBoundingClientRect(),{clientX:r,clientY:s}=Ul(t);let i=r-o.left,u=s-o.top;i=Math.max(0,i),i=Math.min(i,o.width),u=Math.max(0,u),u=Math.min(u,o.height),a.value=i,n.value=u,e.color.set({saturation:i/o.width*100,value:100-u/o.height*100})}return w((()=>r.value),(()=>{s()})),B((()=>{_a(l.vnode.el,{drag:e=>{i(e)},end:e=>{i(e)}}),s()})),{cursorTop:n,cursorLeft:a,background:o,colorValue:r,handleDrag:i,update:s,ns:t}}}),ao=[te("div",null,null,-1)];var oo=D(no,[["render",function(e,t,l,n,a,o){return E(),T("div",{class:M(e.ns.b()),style:Q({backgroundColor:e.background})},[te("div",{class:M(e.ns.e("white"))},null,2),te("div",{class:M(e.ns.e("black"))},null,2),te("div",{class:M(e.ns.e("cursor")),style:Q({top:e.cursorTop+"px",left:e.cursorLeft+"px"})},ao,6)],6)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/components/sv-panel.vue"]]);const ro=["id","aria-label","aria-labelledby","aria-description","tabindex","onKeydown"],so=x({name:"ElColorPicker"});const io=ne(D(x({...so,props:Ka,emits:Ra,setup(e,{expose:t,emit:l}){const n=e,{t:a}=ge(),o=C("color"),{formItem:r}=El(),s=xl(),i=Sl(),{inputId:u,isLabeledByFormItem:d}=Tl(n,{formItemContext:r}),c=y(),p=y(),h=y(),f=y();let v=!0;const m=O(new Ja({enableAlpha:n.showAlpha,format:n.colorFormat||"",value:n.modelValue})),g=y(!1),b=y(!1),x=y(""),V=k((()=>n.modelValue||b.value?function(e,t){if(!(e instanceof Ja))throw new TypeError("color should be instance of _color Class");const{r:l,g:n,b:a}=e.toRgb();return t?`rgba(${l}, ${n}, ${a}, ${e.get("alpha")/100})`:`rgb(${l}, ${n}, ${a})`}(m,n.showAlpha):"transparent")),I=k((()=>n.modelValue||b.value?m.value:"")),D=k((()=>d.value?void 0:n.label||a("el.colorpicker.defaultLabel"))),L=k((()=>d.value?null==r?void 0:r.labelId:void 0)),P=k((()=>[o.b("picker"),o.is("disabled",i.value),o.bm("picker",s.value)]));function _(e){g.value=e}const $=Ol(_,100);function F(){$(!1),j()}function j(){z((()=>{n.modelValue?m.fromString(n.modelValue):(m.value="",z((()=>{b.value=!1})))}))}function R(){i.value||$(!g.value)}function q(){m.fromString(x.value)}function W(){const e=m.value;l(bl,e),l("change",e),n.validateEvent&&(null==r||r.validate("change").catch((e=>S()))),$(!1),z((()=>{const e=new Ja({enableAlpha:n.showAlpha,format:n.colorFormat||"",value:n.modelValue});m.compare(e)||j()}))}function H(){$(!1),l(bl,null),l("change",null),null!==n.modelValue&&n.validateEvent&&(null==r||r.validate("change").catch((e=>S()))),j()}return B((()=>{n.modelValue&&(x.value=I.value)})),w((()=>n.modelValue),(e=>{e?e&&e!==m.value&&(v=!1,m.fromString(e)):b.value=!1})),w((()=>I.value),(e=>{x.value=e,v&&l("activeChange",e),v=!0})),w((()=>m.value),(()=>{n.modelValue||b.value||(b.value=!0)})),w((()=>g.value),(()=>{z((()=>{var e,t,l;null==(e=c.value)||e.update(),null==(t=p.value)||t.update(),null==(l=h.value)||l.update()}))})),N(za,{currentColor:I}),t({color:m,show:function(){i.value||_(!0)},hide:F}),(e,t)=>(E(),Y(A(Lt),{ref_key:"popper",ref:f,visible:g.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[A(o).be("picker","panel"),A(o).b("dropdown"),e.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${A(o).namespace.value}-zoom-in-top`,persistent:""},{content:G((()=>[Ie((E(),T("div",null,[te("div",{class:M(A(o).be("dropdown","main-wrapper"))},[K(ja,{ref_key:"hue",ref:c,class:"hue-slider",color:A(m),vertical:""},null,8,["color"]),K(oo,{ref_key:"sv",ref:p,color:A(m)},null,8,["color"])],2),e.showAlpha?(E(),Y(Fa,{key:0,ref_key:"alpha",ref:h,color:A(m)},null,8,["color"])):ee("v-if",!0),e.predefine?(E(),Y(lo,{key:1,ref:"predefine",color:A(m),colors:e.predefine},null,8,["color","colors"])):ee("v-if",!0),te("div",{class:M(A(o).be("dropdown","btns"))},[te("span",{class:M(A(o).be("dropdown","value"))},[K(A(Bt),{modelValue:x.value,"onUpdate:modelValue":t[0]||(t[0]=e=>x.value=e),"validate-event":!1,size:"small",onKeyup:fe(q,["enter"]),onBlur:q},null,8,["modelValue","onKeyup"])],2),K(A(Qt),{class:M(A(o).be("dropdown","link-btn")),text:"",size:"small",onClick:H},{default:G((()=>[Z(J(A(a)("el.colorpicker.clear")),1)])),_:1},8,["class"]),K(A(Qt),{plain:"",size:"small",class:M(A(o).be("dropdown","btn")),onClick:W},{default:G((()=>[Z(J(A(a)("el.colorpicker.confirm")),1)])),_:1},8,["class"])],2)])),[[A(Bl),F]])])),default:G((()=>[te("div",{id:A(u),class:M(A(P)),role:"button","aria-label":A(D),"aria-labelledby":A(L),"aria-description":A(a)("el.colorpicker.description",{color:e.modelValue||""}),tabindex:e.tabindex,onKeydown:fe(R,["enter"])},[A(i)?(E(),T("div",{key:0,class:M(A(o).be("picker","mask"))},null,2)):ee("v-if",!0),te("div",{class:M(A(o).be("picker","trigger")),onClick:R},[te("span",{class:M([A(o).be("picker","color"),A(o).is("alpha",e.showAlpha)])},[te("span",{class:M(A(o).be("picker","color-inner")),style:Q({backgroundColor:A(V)})},[Ie(K(A(de),{class:M([A(o).be("picker","icon"),A(o).is("icon-arrow-down")])},{default:G((()=>[K(A(Ae))])),_:1},8,["class"]),[[Pe,e.modelValue||b.value]]),Ie(K(A(de),{class:M([A(o).be("picker","empty"),A(o).is("icon-close")])},{default:G((()=>[K(A(je))])),_:1},8,["class"]),[[Pe,!e.modelValue&&!b.value]])],6)],2)],2)],42,ro)])),_:1},8,["visible","popper-class","transition"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/color-picker/src/color-picker.vue"]])),uo=h({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Ee,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:e=>null===e||Ke(e)||["min","max"].includes(e),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:e=>e>=0&&e===Number.parseInt(`${e}`,10)},validateEvent:{type:Boolean,default:!0}}),co={[kl]:(e,t)=>t!==e,blur:e=>e instanceof FocusEvent,focus:e=>e instanceof FocusEvent,[yl]:e=>Ke(e)||Vl(e),[bl]:e=>Ke(e)||Vl(e)},po=["aria-label","onKeydown"],ho=["aria-label","onKeydown"],fo=x({name:"ElInputNumber"});const vo=ne(D(x({...fo,props:uo,emits:co,setup(e,{expose:t,emit:l}){const n=e,{t:a}=ge(),o=C("input-number"),r=y(),s=O({currentValue:n.modelValue,userInput:null}),{formItem:i}=El(),u=k((()=>Ke(n.modelValue)&&n.modelValue<=n.min)),d=k((()=>Ke(n.modelValue)&&n.modelValue>=n.max)),c=k((()=>{const e=b(n.step);return Ne(n.precision)?Math.max(b(n.modelValue),e):(n.precision,n.precision)})),p=k((()=>n.controls&&"right"===n.controlsPosition)),h=xl(),f=Sl(),v=k((()=>{if(null!==s.userInput)return s.userInput;let e=s.currentValue;if(Vl(e))return"";if(Ke(e)){if(Number.isNaN(e))return"";Ne(n.precision)||(e=e.toFixed(n.precision))}return e})),m=(e,t)=>{if(Ne(t)&&(t=c.value),0===t)return Math.round(e);let l=String(e);const n=l.indexOf(".");if(-1===n)return e;if(!l.replace(".","").split("")[n+t])return e;const a=l.length;return"5"===l.charAt(a-1)&&(l=`${l.slice(0,Math.max(0,a-1))}6`),Number.parseFloat(Number(l).toFixed(t))},b=e=>{if(Vl(e))return 0;const t=e.toString(),l=t.indexOf(".");let n=0;return-1!==l&&(n=t.length-l-1),n},x=(e,t=1)=>Ke(e)?m(e+n.step*t):s.currentValue,N=()=>{if(n.readonly||f.value||d.value)return;const e=Number(v.value)||0,t=x(e);D(t),l(yl,s.currentValue)},V=()=>{if(n.readonly||f.value||u.value)return;const e=Number(v.value)||0,t=x(e,-1);D(t),l(yl,s.currentValue)},I=(e,t)=>{const{max:a,min:o,step:r,precision:s,stepStrictly:i,valueOnClear:u}=n;a<o&&_("InputNumber","min should not be greater than max.");let d=Number(e);if(Vl(e)||Number.isNaN(d))return null;if(""===e){if(null===u)return null;d=g(u)?{min:o,max:a}[u]:u}return i&&(d=m(Math.round(d/r)*r,s)),Ne(s)||(d=m(d,s)),(d>a||d<o)&&(d=d>a?a:o,t&&l(bl,d)),d},D=(e,t=!0)=>{var a;const o=s.currentValue,r=I(e);t?o!==r&&(s.userInput=null,l(bl,r),l(kl,r,o),n.validateEvent&&(null==(a=null==i?void 0:i.validate)||a.call(i,"change").catch((e=>S()))),s.currentValue=r):l(bl,r)},L=e=>{s.userInput=e;const t=""===e?null:Number(e);l(yl,t),D(t,!1)},P=e=>{const t=""!==e?Number(e):"";(Ke(t)&&!Number.isNaN(t)||""===e)&&D(t),s.userInput=null},$=e=>{l("focus",e)},j=e=>{var t;l("blur",e),n.validateEvent&&(null==(t=null==i?void 0:i.validate)||t.call(i,"blur").catch((e=>S())))};return w((()=>n.modelValue),(e=>{const t=I(s.userInput),l=I(e,!0);Ke(t)||t&&t===l||(s.currentValue=l,s.userInput=null)}),{immediate:!0}),B((()=>{var e;const{min:t,max:a,modelValue:o}=n,i=null==(e=r.value)?void 0:e.input;if(i.setAttribute("role","spinbutton"),Number.isFinite(a)?i.setAttribute("aria-valuemax",String(a)):i.removeAttribute("aria-valuemax"),Number.isFinite(t)?i.setAttribute("aria-valuemin",String(t)):i.removeAttribute("aria-valuemin"),i.setAttribute("aria-valuenow",s.currentValue||0===s.currentValue?String(s.currentValue):""),i.setAttribute("aria-disabled",String(f.value)),!Ke(o)&&null!=o){let e=Number(o);Number.isNaN(e)&&(e=null),l(bl,e)}})),F((()=>{var e,t;const l=null==(e=r.value)?void 0:e.input;null==l||l.setAttribute("aria-valuenow",`${null!=(t=s.currentValue)?t:""}`)})),t({focus:()=>{var e,t;null==(t=null==(e=r.value)?void 0:e.focus)||t.call(e)},blur:()=>{var e,t;null==(t=null==(e=r.value)?void 0:e.blur)||t.call(e)}}),(e,t)=>(E(),T("div",{class:M([A(o).b(),A(o).m(A(h)),A(o).is("disabled",A(f)),A(o).is("without-controls",!e.controls),A(o).is("controls-right",A(p))]),onDragstart:t[1]||(t[1]=ve((()=>{}),["prevent"]))},[e.controls?Ie((E(),T("span",{key:0,role:"button","aria-label":A(a)("el.inputNumber.decrease"),class:M([A(o).e("decrease"),A(o).is("disabled",A(u))]),onKeydown:fe(V,["enter"])},[K(A(de),null,{default:G((()=>[A(p)?(E(),Y(A(Ae),{key:0})):(E(),Y(A(Re),{key:1}))])),_:1})],42,po)),[[A(cl),V]]):ee("v-if",!0),e.controls?Ie((E(),T("span",{key:1,role:"button","aria-label":A(a)("el.inputNumber.increase"),class:M([A(o).e("increase"),A(o).is("disabled",A(d))]),onKeydown:fe(N,["enter"])},[K(A(de),null,{default:G((()=>[A(p)?(E(),Y(A(ze),{key:0})):(E(),Y(A(qe),{key:1}))])),_:1})],42,ho)),[[A(cl),N]]):ee("v-if",!0),K(A(Bt),{id:e.id,ref_key:"input",ref:r,type:"number",step:e.step,"model-value":A(v),placeholder:e.placeholder,readonly:e.readonly,disabled:A(f),size:A(h),max:e.max,min:e.min,name:e.name,label:e.label,"validate-event":!1,onWheel:t[0]||(t[0]=ve((()=>{}),["prevent"])),onKeydown:[fe(ve(N,["prevent"]),["up"]),fe(ve(V,["prevent"]),["down"])],onBlur:j,onFocus:$,onInput:L,onChange:P},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/input-number/src/input-number.vue"]])),mo=Symbol("ElSelectGroup"),go=Symbol("ElSelect");var bo=D(x({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(e){const t=C("select"),l=k((()=>[t.be("dropdown","item"),t.is("disabled",A(r)),{selected:A(o),hover:A(d)}])),n=O({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:a,itemSelected:o,isDisabled:r,select:s,hoverItem:i}=function(e,t){const l=P(go),n=P(mo,{disabled:!1}),a=k((()=>"[object object]"===Object.prototype.toString.call(e.value).toLowerCase())),o=k((()=>l.props.multiple?c(l.props.modelValue,e.value):p(e.value,l.props.modelValue))),r=k((()=>{if(l.props.multiple){const e=l.props.modelValue||[];return!o.value&&e.length>=l.props.multipleLimit&&l.props.multipleLimit>0}return!1})),s=k((()=>e.label||(a.value?"":e.value))),i=k((()=>e.value||e.label||"")),u=k((()=>e.disabled||t.groupDisabled||r.value)),d=we(),c=(e=[],t)=>{if(a.value){const n=l.props.valueKey;return e&&e.some((e=>We(He(e,n))===He(t,n)))}return e&&e.includes(t)},p=(e,t)=>{if(a.value){const{valueKey:n}=l.props;return He(e,n)===He(t,n)}return e===t};w((()=>s.value),(()=>{e.created||l.props.remote||l.setSelected()})),w((()=>e.value),((t,n)=>{const{remote:a,valueKey:o}=l.props;if(Object.is(t,n)||(l.onOptionDestroy(n,d.proxy),l.onOptionCreate(d.proxy)),!e.created&&!a){if(o&&"object"==typeof t&&"object"==typeof n&&t[o]===n[o])return;l.setSelected()}})),w((()=>n.disabled),(()=>{t.groupDisabled=n.disabled}),{immediate:!0});const{queryChange:h}=We(l);return w(h,(n=>{const{query:a}=A(n),o=new RegExp(Ll(a),"i");t.visible=o.test(s.value)||e.created,t.visible||l.filteredOptionsCount--}),{immediate:!0}),{select:l,currentLabel:s,currentValue:i,itemSelected:o,isDisabled:u,hoverItem:()=>{e.disabled||n.disabled||(l.hoverIndex=l.optionsArray.indexOf(d.proxy))}}}(e,n),{visible:u,hover:d}=V(n),c=we().proxy;return s.onOptionCreate(c),$((()=>{const e=c.value,{selected:t}=s,l=(s.props.multiple?t:[t]).some((e=>e.value===c.value));z((()=>{s.cachedOptions.get(e)!==c||l||s.cachedOptions.delete(e)})),s.onOptionDestroy(e,c)})),{ns:t,containerKls:l,currentLabel:a,itemSelected:o,isDisabled:r,select:s,hoverItem:i,visible:u,hover:d,selectOptionClick:function(){!0!==e.disabled&&!0!==n.groupDisabled&&s.handleOptionSelect(c)},states:n}}}),[["render",function(e,t,l,n,a,o){return Ie((E(),T("li",{class:M(e.containerKls),onMouseenter:t[0]||(t[0]=(...t)=>e.hoverItem&&e.hoverItem(...t)),onClick:t[1]||(t[1]=ve(((...t)=>e.selectOptionClick&&e.selectOptionClick(...t)),["stop"]))},[I(e.$slots,"default",{},(()=>[te("span",null,J(e.currentLabel),1)]))],34)),[[Pe,e.visible]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);var yo=D(x({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=P(go),t=C("select"),l=k((()=>e.props.popperClass)),n=k((()=>e.props.multiple)),a=k((()=>e.props.fitInputWidth)),o=y("");function r(){var t;o.value=`${null==(t=e.selectWrapper)?void 0:t.offsetWidth}px`}return B((()=>{r(),j(e.selectWrapper,r)})),{ns:t,minWidth:o,popperClass:l,isMultiple:n,isFitInputWidth:a}}}),[["render",function(e,t,l,n,a,o){return E(),T("div",{class:M([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:Q({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[I(e.$slots,"default")],6)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);const ko=(t,l,a)=>{const{t:o}=ge(),r=C("select");Il({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},k((()=>!1===t.suffixTransition)));const s=y(null),i=y(null),u=y(null),d=y(null),c=y(null),h=y(null),f=y(null),v=y(null),m=y(-1),b=Be({query:""}),x=Be(""),N=y([]);let O=0;const{form:V,formItem:E}=El(),T=k((()=>!t.filterable||t.multiple||!l.visible)),I=k((()=>t.disabled||(null==V?void 0:V.disabled))),M=k((()=>{const e=t.multiple?Array.isArray(t.modelValue)&&t.modelValue.length>0:void 0!==t.modelValue&&null!==t.modelValue&&""!==t.modelValue;return t.clearable&&!I.value&&l.inputHovering&&e})),D=k((()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon)),P=k((()=>r.is("reverse",D.value&&l.visible&&t.suffixTransition))),_=k((()=>(null==V?void 0:V.statusIcon)&&(null==E?void 0:E.validateState)&&Ue[null==E?void 0:E.validateState])),B=k((()=>t.remote?300:0)),$=k((()=>t.loading?t.loadingText||o("el.select.loading"):(!t.remote||""!==l.query||0!==l.options.size)&&(t.filterable&&l.query&&l.options.size>0&&0===l.filteredOptionsCount?t.noMatchText||o("el.select.noMatch"):0===l.options.size?t.noDataText||o("el.select.noData"):null))),F=k((()=>{const e=Array.from(l.options.values()),t=[];return N.value.forEach((l=>{const n=e.findIndex((e=>e.currentLabel===l));n>-1&&t.push(e[n])})),t.length>=e.length?t:e})),j=k((()=>Array.from(l.cachedOptions.values()))),K=k((()=>{const e=F.value.filter((e=>!e.created)).some((e=>e.currentLabel===l.query));return t.filterable&&t.allowCreate&&""!==l.query&&!e})),R=xl(),q=k((()=>["small"].includes(R.value)?"small":"default")),W=k({get:()=>l.visible&&!1!==$.value,set(e){l.visible=e}});w([()=>I.value,()=>R.value,()=>null==V?void 0:V.size],(()=>{z((()=>{H()}))})),w((()=>t.placeholder),(e=>{l.cachedPlaceHolder=l.currentPlaceholder=e;t.multiple&&Array.isArray(t.modelValue)&&t.modelValue.length>0&&(l.currentPlaceholder="")})),w((()=>t.modelValue),((e,n)=>{t.multiple&&(H(),e&&e.length>0||i.value&&""!==l.query?l.currentPlaceholder="":l.currentPlaceholder=l.cachedPlaceHolder,t.filterable&&!t.reserveKeyword&&(l.query="",U(l.query))),X(),t.filterable&&!t.multiple&&(l.inputLength=20),!_l(e,n)&&t.validateEvent&&(null==E||E.validate("change").catch((e=>S())))}),{flush:"post",deep:!0}),w((()=>l.visible),(e=>{var n,o,r,s,c;e?(null==(o=null==(n=d.value)?void 0:n.updatePopper)||o.call(n),t.filterable&&(l.filteredOptionsCount=l.optionsCount,l.query=t.remote?"":l.selectedLabel,null==(s=null==(r=u.value)?void 0:r.focus)||s.call(r),t.multiple?null==(c=i.value)||c.focus():l.selectedLabel&&(l.currentPlaceholder=`${l.selectedLabel}`,l.selectedLabel=""),U(l.query),t.multiple||t.remote||(b.value.query="",Ge(b),Ge(x)))):(t.filterable&&(L(t.filterMethod)&&t.filterMethod(""),L(t.remoteMethod)&&t.remoteMethod("")),l.query="",l.previousQuery=null,l.selectedLabel="",l.inputLength=20,l.menuVisibleOnFocus=!1,Z(),z((()=>{i.value&&""===i.value.value&&0===l.selected.length&&(l.currentPlaceholder=l.cachedPlaceHolder)})),t.multiple||(l.selected&&(t.filterable&&t.allowCreate&&l.createdSelected&&l.createdLabel?l.selectedLabel=l.createdLabel:l.selectedLabel=l.selected.currentLabel,t.filterable&&(l.query=l.selectedLabel)),t.filterable&&(l.currentPlaceholder=l.cachedPlaceHolder))),a.emit("visible-change",e)})),w((()=>l.options.entries()),(()=>{var n,a,o;if(!e)return;null==(a=null==(n=d.value)?void 0:n.updatePopper)||a.call(n),t.multiple&&H();const r=(null==(o=f.value)?void 0:o.querySelectorAll("input"))||[];(t.filterable||t.defaultFirstOption||Ne(t.modelValue))&&Array.from(r).includes(document.activeElement)||X(),t.defaultFirstOption&&(t.filterable||t.remote)&&l.filteredOptionsCount&&Y()}),{flush:"post"}),w((()=>l.hoverIndex),(e=>{Ke(e)&&e>-1?m.value=F.value[e]||{}:m.value={},F.value.forEach((e=>{e.hover=m.value===e}))}));const H=()=>{z((()=>{var e,t;if(!s.value)return;const n=s.value.$el.querySelector("input");O=O||(n.clientHeight>0?n.clientHeight+2:0);const a=h.value,o=(r=R.value||(null==V?void 0:V.size),p[r||"default"]);var r;const i=R.value||o===O||O<=0?o:O;!(null===n.offsetParent)&&(n.style.height=(0===l.selected.length?i:Math.max(a?a.clientHeight+(a.clientHeight>i?6:0):0,i))-2+"px"),l.visible&&!1!==$.value&&(null==(t=null==(e=d.value)?void 0:e.updatePopper)||t.call(e))}))},U=async e=>{l.previousQuery===e||l.isOnComposition||(null!==l.previousQuery||!L(t.filterMethod)&&!L(t.remoteMethod)?(l.previousQuery=e,z((()=>{var e,t;l.visible&&(null==(t=null==(e=d.value)?void 0:e.updatePopper)||t.call(e))})),l.hoverIndex=-1,t.multiple&&t.filterable&&z((()=>{if(!I.value){const e=15*i.value.value.length+20;l.inputLength=t.collapseTags?Math.min(50,e):e,G()}H()})),t.remote&&L(t.remoteMethod)?(l.hoverIndex=-1,t.remoteMethod(e)):L(t.filterMethod)?(t.filterMethod(e),Ge(x)):(l.filteredOptionsCount=l.optionsCount,b.value.query=e,Ge(b),Ge(x)),t.defaultFirstOption&&(t.filterable||t.remote)&&l.filteredOptionsCount&&(await z(),Y())):l.previousQuery=e)},G=()=>{""!==l.currentPlaceholder&&(l.currentPlaceholder=i.value.value?"":l.cachedPlaceHolder)},Y=()=>{const e=F.value.filter((e=>e.visible&&!e.disabled&&!e.states.groupDisabled)),t=e.find((e=>e.created)),n=e[0];l.hoverIndex=ie(F.value,t||n)},X=()=>{var e;if(!t.multiple){const n=Q(t.modelValue);return(null==(e=n.props)?void 0:e.created)?(l.createdLabel=n.props.value,l.createdSelected=!0):l.createdSelected=!1,l.selectedLabel=n.currentLabel,l.selected=n,void(t.filterable&&(l.query=l.selectedLabel))}l.selectedLabel="";const n=[];Array.isArray(t.modelValue)&&t.modelValue.forEach((e=>{n.push(Q(e))})),l.selected=n,z((()=>{H()}))},Q=e=>{let n;const a="object"===Ye(e).toLowerCase(),o="null"===Ye(e).toLowerCase(),r="undefined"===Ye(e).toLowerCase();for(let i=l.cachedOptions.size-1;i>=0;i--){const l=j.value[i];if(a?He(l.value,t.valueKey)===He(e,t.valueKey):l.value===e){n={value:e,currentLabel:l.currentLabel,isDisabled:l.isDisabled};break}}if(n)return n;const s={value:e,currentLabel:a?e.label:o||r?"":e};return t.multiple&&(s.hitState=!1),s},Z=()=>{setTimeout((()=>{const e=t.valueKey;t.multiple?l.selected.length>0?l.hoverIndex=Math.min.apply(null,l.selected.map((t=>F.value.findIndex((l=>He(l,e)===He(t,e)))))):l.hoverIndex=-1:l.hoverIndex=F.value.findIndex((e=>ve(e)===ve(l.selected)))}),300)},J=()=>{var e;l.inputWidth=null==(e=s.value)?void 0:e.$el.offsetWidth},ee=Ol((()=>{t.filterable&&l.query!==l.selectedLabel&&(l.query=l.selectedLabel,U(l.query))}),B.value),te=Ol((e=>{U(e.target.value)}),B.value),le=e=>{_l(t.modelValue,e)||a.emit(kl,e)},ne=e=>function(e,t,l){var a=null==e?0:e.length;if(!a)return-1;var o=a-1;return void 0!==l&&(o=Xl(l),o=l<0?Jl(a+o,0):en(o,a-1)),n(e,zt(t),o,!0)}(e,(e=>!l.disabledOptions.has(e))),ae=(e,n)=>{const o=l.selected.indexOf(n);if(o>-1&&!I.value){const e=t.modelValue.slice();e.splice(o,1),a.emit(bl,e),le(e),a.emit("remove-tag",n.value)}e.stopPropagation(),pe()},oe=e=>{e.stopPropagation();const n=t.multiple?[]:"";if(!g(n))for(const t of l.selected)t.isDisabled&&n.push(t.value);a.emit(bl,n),le(n),l.hoverIndex=-1,l.visible=!1,a.emit("clear"),pe()},se=e=>{var n;if(t.multiple){const o=(t.modelValue||[]).slice(),r=ie(o,e.value);r>-1?o.splice(r,1):(t.multipleLimit<=0||o.length<t.multipleLimit)&&o.push(e.value),a.emit(bl,o),le(o),e.created&&(l.query="",U(""),l.inputLength=20),t.filterable&&(null==(n=i.value)||n.focus())}else a.emit(bl,e.value),le(e.value),l.visible=!1;ue(),l.visible||z((()=>{de(e)}))},ie=(e=[],l)=>{if(!re(l))return e.indexOf(l);const n=t.valueKey;let a=-1;return e.some(((e,t)=>We(He(e,n))===He(l,n)&&(a=t,!0))),a},ue=()=>{const e=i.value||s.value;e&&(null==e||e.focus())},de=e=>{var t,l,n,a,o;const s=Array.isArray(e)?e[0]:e;let i=null;if(null==s?void 0:s.value){const e=F.value.filter((e=>e.value===s.value));e.length>0&&(i=e[0].$el)}if(d.value&&i){const e=null==(a=null==(n=null==(l=null==(t=d.value)?void 0:t.popperRef)?void 0:l.contentRef)?void 0:n.querySelector)?void 0:a.call(n,`.${r.be("dropdown","wrap")}`);e&&Xt(e,i)}null==(o=v.value)||o.handleScroll()},ce=e=>{if(!Array.isArray(l.selected))return;const t=ne(l.selected.map((e=>e.value))),n=l.selected[t];return n?!0===e||!1===e?(n.hitState=e,e):(n.hitState=!n.hitState,n.hitState):void 0},pe=()=>{var e,t;l.visible?null==(e=i.value||s.value)||e.focus():null==(t=s.value)||t.focus()},he=()=>{l.visible=!1},fe=e=>{e&&!l.mouseEnter||I.value||(l.menuVisibleOnFocus?l.menuVisibleOnFocus=!1:d.value&&d.value.isFocusInsideContent()||(l.visible=!l.visible),pe())},ve=e=>re(e.value)?He(e.value,t.valueKey):e.value,me=k((()=>F.value.filter((e=>e.visible)).every((e=>e.disabled)))),ye=k((()=>t.multiple?l.selected.slice(0,t.maxCollapseTags):[])),ke=k((()=>t.multiple?l.selected.slice(t.maxCollapseTags):[])),xe=e=>{if(l.visible){if(0!==l.options.size&&0!==l.filteredOptionsCount&&!l.isOnComposition&&!me.value){"next"===e?(l.hoverIndex++,l.hoverIndex===l.options.size&&(l.hoverIndex=0)):"prev"===e&&(l.hoverIndex--,l.hoverIndex<0&&(l.hoverIndex=l.options.size-1));const t=F.value[l.hoverIndex];!0!==t.disabled&&!0!==t.states.groupDisabled&&t.visible||xe(e),z((()=>de(m.value)))}}else l.visible=!0},Ce=k((()=>({maxWidth:A(l.inputWidth)-32-(_.value?22:0)+"px",width:"100%"})));return{optionList:N,optionsArray:F,selectSize:R,handleResize:()=>{var e,l;J(),null==(l=null==(e=d.value)?void 0:e.updatePopper)||l.call(e),t.multiple&&H()},debouncedOnInputChange:ee,debouncedQueryChange:te,deletePrevTag:e=>{if(e.code!==be.delete){if(e.target.value.length<=0&&!ce()){const e=t.modelValue.slice(),l=ne(e);if(l<0)return;e.splice(l,1),a.emit(bl,e),le(e)}1===e.target.value.length&&0===t.modelValue.length&&(l.currentPlaceholder=l.cachedPlaceHolder)}},deleteTag:ae,deleteSelected:oe,handleOptionSelect:se,scrollToOption:de,readonly:T,resetInputHeight:H,showClose:M,iconComponent:D,iconReverse:P,showNewOption:K,collapseTagSize:q,setSelected:X,managePlaceholder:G,selectDisabled:I,emptyText:$,toggleLastOptionHitState:ce,resetInputState:e=>{e.code!==be.backspace&&ce(!1),l.inputLength=15*i.value.value.length+20,H()},handleComposition:e=>{const t=e.target.value;if("compositionend"===e.type)l.isOnComposition=!1,z((()=>U(t)));else{const e=t[t.length-1]||"";l.isOnComposition=!Ft(e)}},onOptionCreate:e=>{l.optionsCount++,l.filteredOptionsCount++,l.options.set(e.value,e),l.cachedOptions.set(e.value,e),e.disabled&&l.disabledOptions.set(e.value,e)},onOptionDestroy:(e,t)=>{l.options.get(e)===t&&(l.optionsCount--,l.filteredOptionsCount--,l.options.delete(e))},handleMenuEnter:()=>{z((()=>de(l.selected)))},handleFocus:e=>{l.focused||((t.automaticDropdown||t.filterable)&&(t.filterable&&!l.visible&&(l.menuVisibleOnFocus=!0),l.visible=!0),l.focused=!0,a.emit("focus",e))},focus:pe,blur:()=>{var e,t,n;l.visible=!1,null==(e=s.value)||e.blur(),null==(n=null==(t=u.value)?void 0:t.blur)||n.call(t)},handleBlur:e=>{var t,n,o;(null==(t=d.value)?void 0:t.isFocusInsideContent(e))||(null==(n=c.value)?void 0:n.isFocusInsideContent(e))||(null==(o=f.value)?void 0:o.contains(e.relatedTarget))||(l.visible&&he(),l.focused=!1,a.emit("blur",e))},handleClearClick:e=>{oe(e)},handleClose:he,handleKeydownEscape:e=>{l.visible&&(e.preventDefault(),e.stopPropagation(),l.visible=!1)},toggleMenu:fe,selectOption:()=>{l.visible?F.value[l.hoverIndex]&&se(F.value[l.hoverIndex]):fe()},getValueKey:ve,navigateOptions:xe,handleDeleteTooltipTag:(e,t)=>{var l,n;ae(e,t),null==(n=null==(l=c.value)?void 0:l.updatePopper)||n.call(l)},dropMenuVisible:W,queryChange:b,groupQueryChange:x,showTagList:ye,collapseTagList:ke,selectTagsStyle:Ce,reference:s,input:i,iOSInput:u,tooltipRef:d,tagTooltipRef:c,tags:h,selectWrapper:f,scrollbar:v,handleMouseEnter:()=>{l.mouseEnter=!0},handleMouseLeave:()=>{l.mouseEnter=!1}}};var xo=x({name:"ElOptions",emits:["update-options"],setup(e,{slots:t,emit:l}){let n=[];return()=>{var e,a;const o=null==(e=t.default)?void 0:e.call(t),r=[];return o.length&&function e(t){Array.isArray(t)&&t.forEach((t=>{var l,n,a,o;const s=null==(l=(null==t?void 0:t.type)||{})?void 0:l.name;"ElOptionGroup"===s?e(g(t.children)||Array.isArray(t.children)||!L(null==(n=t.children)?void 0:n.default)?t.children:null==(a=t.children)?void 0:a.default()):"ElOption"===s?r.push(null==(o=t.props)?void 0:o.label):Array.isArray(t.children)&&e(t.children)}))}(null==(a=o[0])?void 0:a.children),function(e,t){if(e.length!==t.length)return!1;for(const[l]of e.entries())if(e[l]!=t[l])return!1;return!0}(r,n)||(n=r,l("update-options",r)),o}}});const Co="ElSelect",wo=x({name:Co,componentName:Co,components:{ElInput:Bt,ElSelectMenu:yo,ElOption:bo,ElOptions:xo,ElTag:Al,ElScrollbar:ue,ElTooltip:Lt,ElIcon:de},directives:{ClickOutside:Bl},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:hl},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Dt.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Xe,default:Me},fitInputWidth:Boolean,suffixIcon:{type:Xe,default:Ae},tagType:{...Ml.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:Pt,default:"bottom-start"},ariaLabel:{type:String,default:void 0}},emits:[bl,kl,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const l=C("select"),n=C("input"),{t:a}=ge(),o=function(e){const{t:t}=ge();return O({options:new Map,cachedOptions:new Map,disabledOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,prefixWidth:11,mouseEnter:!1,focused:!1})}(e),{optionList:r,optionsArray:s,selectSize:i,readonly:u,handleResize:d,collapseTagSize:c,debouncedOnInputChange:p,debouncedQueryChange:h,deletePrevTag:f,deleteTag:v,deleteSelected:m,handleOptionSelect:g,scrollToOption:b,setSelected:y,resetInputHeight:x,managePlaceholder:w,showClose:S,selectDisabled:E,iconComponent:T,iconReverse:I,showNewOption:M,emptyText:D,toggleLastOptionHitState:L,resetInputState:P,handleComposition:_,onOptionCreate:$,onOptionDestroy:F,handleMenuEnter:K,handleFocus:R,focus:q,blur:W,handleBlur:H,handleClearClick:U,handleClose:G,handleKeydownEscape:Y,toggleMenu:X,selectOption:Q,getValueKey:Z,navigateOptions:J,handleDeleteTooltipTag:ee,dropMenuVisible:te,reference:le,input:ne,iOSInput:ae,tooltipRef:oe,tagTooltipRef:re,tags:se,selectWrapper:ie,scrollbar:ue,queryChange:de,groupQueryChange:ce,handleMouseEnter:pe,handleMouseLeave:he,showTagList:fe,collapseTagList:ve,selectTagsStyle:me}=ko(e,o,t),{inputWidth:be,selected:ye,inputLength:ke,filteredOptionsCount:xe,visible:Ce,selectedLabel:we,hoverIndex:Se,query:Ne,inputHovering:Oe,currentPlaceholder:Ve,menuVisibleOnFocus:Ee,isOnComposition:Te,options:Ie,cachedOptions:Me,optionsCount:Ae,prefixWidth:De}=V(o),Le=k((()=>{const t=[l.b()],n=A(i);return n&&t.push(l.m(n)),e.disabled&&t.push(l.m("disabled")),t})),Pe=k((()=>[l.e("tags"),l.is("disabled",A(E))])),_e=k((()=>[l.b("tags-wrapper"),{"has-prefix":A(De)&&A(ye).length}])),Be=k((()=>[l.e("input"),l.is(A(i)),l.is("disabled",A(E))])),$e=k((()=>[l.e("input"),l.is(A(i)),l.em("input","iOS")])),Fe=k((()=>[l.is("empty",!e.allowCreate&&Boolean(A(Ne))&&0===A(xe))])),je=k((()=>({maxWidth:`${A(be)>123?A(be)-123:A(be)-75}px`}))),Ke=k((()=>({marginLeft:`${A(De)}px`,flexGrow:1,width:A(ke)/(A(be)-32)+"%",maxWidth:A(be)-42+"px"})));N(go,O({props:e,options:Ie,optionsArray:s,cachedOptions:Me,optionsCount:Ae,filteredOptionsCount:xe,hoverIndex:Se,handleOptionSelect:g,onOptionCreate:$,onOptionDestroy:F,selectWrapper:ie,selected:ye,setSelected:y,queryChange:de,groupQueryChange:ce})),B((()=>{o.cachedPlaceHolder=Ve.value=e.placeholder||(()=>a("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(Ve.value=""),j(ie,d),e.remote&&e.multiple&&x(),z((()=>{const e=le.value&&le.value.$el;if(e&&(be.value=e.getBoundingClientRect().width,t.slots.prefix)){const t=e.querySelector(`.${n.e("prefix")}`);De.value=Math.max(t.getBoundingClientRect().width+11,30)}})),y()})),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(bl,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(bl,"");const Re=k((()=>{var e,t;return null==(t=null==(e=oe.value)?void 0:e.popperRef)?void 0:t.contentRef}));return{isIOS:Qe,onOptionsRendered:e=>{r.value=e},prefixWidth:De,selectSize:i,readonly:u,handleResize:d,collapseTagSize:c,debouncedOnInputChange:p,debouncedQueryChange:h,deletePrevTag:f,deleteTag:v,handleDeleteTooltipTag:ee,deleteSelected:m,handleOptionSelect:g,scrollToOption:b,inputWidth:be,selected:ye,inputLength:ke,filteredOptionsCount:xe,visible:Ce,selectedLabel:we,hoverIndex:Se,query:Ne,inputHovering:Oe,currentPlaceholder:Ve,menuVisibleOnFocus:Ee,isOnComposition:Te,options:Ie,resetInputHeight:x,managePlaceholder:w,showClose:S,selectDisabled:E,iconComponent:T,iconReverse:I,showNewOption:M,emptyText:D,toggleLastOptionHitState:L,resetInputState:P,handleComposition:_,handleMenuEnter:K,handleFocus:R,focus:q,blur:W,handleBlur:H,handleClearClick:U,handleClose:G,handleKeydownEscape:Y,toggleMenu:X,selectOption:Q,getValueKey:Z,navigateOptions:J,dropMenuVisible:te,reference:le,input:ne,iOSInput:ae,tooltipRef:oe,popperPaneRef:Re,tags:se,selectWrapper:ie,scrollbar:ue,wrapperKls:Le,tagsKls:Pe,tagWrapperKls:_e,inputKls:Be,iOSInputKls:$e,scrollbarKls:Fe,selectTagsStyle:me,nsSelect:l,tagTextStyle:je,inputStyle:Ke,handleMouseEnter:pe,handleMouseLeave:he,showTagList:fe,collapseTagList:ve,tagTooltipRef:re}}}),So=["disabled","autocomplete","aria-label"],No=["disabled"],Oo={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};var Vo=D(wo,[["render",function(e,t,l,n,a,o){const r=Ce("el-tag"),s=Ce("el-tooltip"),i=Ce("el-icon"),u=Ce("el-input"),d=Ce("el-option"),c=Ce("el-options"),p=Ce("el-scrollbar"),h=Ce("el-select-menu"),f=Ze("click-outside");return Ie((E(),T("div",{ref:"selectWrapper",class:M(e.wrapperKls),onMouseenter:t[22]||(t[22]=(...t)=>e.handleMouseEnter&&e.handleMouseEnter(...t)),onMouseleave:t[23]||(t[23]=(...t)=>e.handleMouseLeave&&e.handleMouseLeave(...t)),onClick:t[24]||(t[24]=ve(((...t)=>e.toggleMenu&&e.toggleMenu(...t)),["stop"]))},[K(s,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:G((()=>[te("div",{class:"select-trigger",onMouseenter:t[20]||(t[20]=t=>e.inputHovering=!0),onMouseleave:t[21]||(t[21]=t=>e.inputHovering=!1)},[e.multiple?(E(),T("div",{key:0,ref:"tags",tabindex:"-1",class:M(e.tagsKls),style:Q(e.selectTagsStyle),onClick:t[15]||(t[15]=(...t)=>e.focus&&e.focus(...t))},[e.collapseTags&&e.selected.length?(E(),Y(Je,{key:0,onAfterLeave:e.resetInputHeight},{default:G((()=>[te("span",{class:M(e.tagWrapperKls)},[(E(!0),T(R,null,pe(e.showTagList,(t=>(E(),Y(r,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",onClose:l=>e.deleteTag(l,t)},{default:G((()=>[te("span",{class:M(e.nsSelect.e("tags-text")),style:Q(e.tagTextStyle)},J(t.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])))),128)),e.selected.length>e.maxCollapseTags?(E(),Y(r,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:G((()=>[e.collapseTagsTooltip?(E(),Y(s,{key:0,ref:"tagTooltipRef",disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:G((()=>[te("span",{class:M(e.nsSelect.e("tags-text"))},"+ "+J(e.selected.length-e.maxCollapseTags),3)])),content:G((()=>[te("div",{class:M(e.nsSelect.e("collapse-tags"))},[(E(!0),T(R,null,pe(e.collapseTagList,(t=>(E(),T("div",{key:e.getValueKey(t),class:M(e.nsSelect.e("collapse-tag"))},[K(r,{class:"in-tooltip",closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:l=>e.handleDeleteTooltipTag(l,t)},{default:G((()=>[te("span",{class:M(e.nsSelect.e("tags-text")),style:Q({maxWidth:e.inputWidth-75+"px"})},J(t.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])],2)))),128))],2)])),_:1},8,["disabled","effect","teleported"])):(E(),T("span",{key:1,class:M(e.nsSelect.e("tags-text"))},"+ "+J(e.selected.length-e.maxCollapseTags),3))])),_:1},8,["size","type"])):ee("v-if",!0)],2)])),_:1},8,["onAfterLeave"])):ee("v-if",!0),e.collapseTags?ee("v-if",!0):(E(),Y(Je,{key:1,onAfterLeave:e.resetInputHeight},{default:G((()=>[te("span",{class:M(e.tagWrapperKls),style:Q(e.prefixWidth&&e.selected.length?{marginLeft:`${e.prefixWidth}px`}:"")},[(E(!0),T(R,null,pe(e.selected,(t=>(E(),Y(r,{key:e.getValueKey(t),closable:!e.selectDisabled&&!t.isDisabled,size:e.collapseTagSize,hit:t.hitState,type:e.tagType,"disable-transitions":"",onClose:l=>e.deleteTag(l,t)},{default:G((()=>[te("span",{class:M(e.nsSelect.e("tags-text")),style:Q({maxWidth:e.inputWidth-75+"px"})},J(t.currentLabel),7)])),_:2},1032,["closable","size","hit","type","onClose"])))),128))],6)])),_:1},8,["onAfterLeave"])),e.filterable&&!e.selectDisabled?Ie((E(),T("input",{key:2,ref:"input","onUpdate:modelValue":t[0]||(t[0]=t=>e.query=t),type:"text",class:M(e.inputKls),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:Q(e.inputStyle),"aria-label":e.ariaLabel,onFocus:t[1]||(t[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onKeyup:t[3]||(t[3]=(...t)=>e.managePlaceholder&&e.managePlaceholder(...t)),onKeydown:[t[4]||(t[4]=(...t)=>e.resetInputState&&e.resetInputState(...t)),t[5]||(t[5]=fe(ve((t=>e.navigateOptions("next")),["prevent"]),["down"])),t[6]||(t[6]=fe(ve((t=>e.navigateOptions("prev")),["prevent"]),["up"])),t[7]||(t[7]=fe(((...t)=>e.handleKeydownEscape&&e.handleKeydownEscape(...t)),["esc"])),t[8]||(t[8]=fe(ve(((...t)=>e.selectOption&&e.selectOption(...t)),["stop","prevent"]),["enter"])),t[9]||(t[9]=fe(((...t)=>e.deletePrevTag&&e.deletePrevTag(...t)),["delete"])),t[10]||(t[10]=fe((t=>e.visible=!1),["tab"]))],onCompositionstart:t[11]||(t[11]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionupdate:t[12]||(t[12]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onCompositionend:t[13]||(t[13]=(...t)=>e.handleComposition&&e.handleComposition(...t)),onInput:t[14]||(t[14]=(...t)=>e.debouncedQueryChange&&e.debouncedQueryChange(...t))},null,46,So)),[[De,e.query]]):ee("v-if",!0)],6)):ee("v-if",!0),ee(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(E(),T("input",{key:1,ref:"iOSInput",class:M(e.iOSInputKls),disabled:e.selectDisabled,type:"text"},null,10,No)):ee("v-if",!0),K(u,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[16]||(t[16]=t=>e.selectedLabel=t),type:"text",placeholder:"function"==typeof e.currentPlaceholder?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:M([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,label:e.ariaLabel,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[17]||(t[17]=fe(ve((t=>e.navigateOptions("next")),["stop","prevent"]),["down"])),t[18]||(t[18]=fe(ve((t=>e.navigateOptions("prev")),["stop","prevent"]),["up"])),fe(ve(e.selectOption,["stop","prevent"]),["enter"]),fe(e.handleKeydownEscape,["esc"]),t[19]||(t[19]=fe((t=>e.visible=!1),["tab"]))]},me({suffix:G((()=>[e.iconComponent&&!e.showClose?(E(),Y(i,{key:0,class:M([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:G((()=>[(E(),Y(X(e.iconComponent)))])),_:1},8,["class"])):ee("v-if",!0),e.showClose&&e.clearIcon?(E(),Y(i,{key:1,class:M([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:G((()=>[(E(),Y(X(e.clearIcon)))])),_:1},8,["class","onClick"])):ee("v-if",!0)])),_:2},[e.$slots.prefix?{name:"prefix",fn:G((()=>[te("div",Oo,[I(e.$slots,"prefix")])]))}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","label","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)])),content:G((()=>[K(h,null,{default:G((()=>[Ie(K(p,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:M(e.scrollbarKls)},{default:G((()=>[e.showNewOption?(E(),Y(d,{key:0,value:e.query,created:!0},null,8,["value"])):ee("v-if",!0),K(c,{onUpdateOptions:e.onOptionsRendered},{default:G((()=>[I(e.$slots,"default")])),_:3},8,["onUpdateOptions"])])),_:3},8,["wrap-class","view-class","class"]),[[Pe,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.size)?(E(),T(R,{key:0},[e.$slots.empty?I(e.$slots,"empty",{key:0}):(E(),T("p",{key:1,class:M(e.nsSelect.be("dropdown","empty"))},J(e.emptyText),3))],64)):ee("v-if",!0)])),_:3})])),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[f,e.handleClose,e.popperPaneRef]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);var Eo=D(x({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(e){const t=C("select"),l=y(!0),n=we(),a=y([]);N(mo,O({...V(e)}));const o=P(go);B((()=>{a.value=r(n.subTree)}));const r=e=>{const t=[];return Array.isArray(e.children)&&e.children.forEach((e=>{var l;e.type&&"ElOption"===e.type.name&&e.component&&e.component.proxy?t.push(e.component.proxy):(null==(l=e.children)?void 0:l.length)&&t.push(...r(e))})),t},{groupQueryChange:s}=We(o);return w(s,(()=>{l.value=a.value.some((e=>!0===e.visible))}),{flush:"post"}),{visible:l,ns:t}}}),[["render",function(e,t,l,n,a,o){return Ie((E(),T("ul",{class:M(e.ns.be("group","wrap"))},[te("li",{class:M(e.ns.be("group","title"))},J(e.label),3),te("li",null,[te("ul",{class:M(e.ns.b("group"))},[I(e.$slots,"default")],2)])],2)),[[Pe,e.visible]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const To=ne(Vo,{Option:bo,OptionGroup:Eo}),Io=ae(bo),Mo=ae(Eo),Ao=h({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:v([Array,Object]),default:()=>et(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:v([Array,Object]),default:()=>[tt,tt,tt]},voidIcon:{type:Xe,default:()=>lt},disabledVoidIcon:{type:Xe,default:()=>tt},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:v(Array),default:()=>et(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:Ee,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1}}),Do={[kl]:e=>Ke(e),[bl]:e=>Ke(e)},Lo=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],Po=["onMousemove","onClick"],_o=x({name:"ElRate"}),Bo=x({..._o,props:Ao,emits:Do,setup(e,{expose:t,emit:l}){const n=e;function a(e,t){const l=e=>re(e),n=Object.keys(t).map((e=>+e)).filter((n=>{const a=t[n];return!!l(a)&&a.excluded?e<n:e<=n})).sort(((e,t)=>e-t)),a=t[n[0]];return l(a)&&a.value||a}const o=P(Cl,void 0),r=P(wl,void 0),s=xl(),i=C("rate"),{inputId:u,isLabeledByFormItem:d}=Tl(n,{formItemContext:r}),c=y(n.modelValue),p=y(-1),h=y(!0),f=k((()=>[i.b(),i.m(s.value)])),v=k((()=>n.disabled||(null==o?void 0:o.disabled))),b=k((()=>i.cssVarBlock({"void-color":n.voidColor,"disabled-void-color":n.disabledVoidColor,"fill-color":O.value}))),x=k((()=>{let e="";return n.showScore?e=n.scoreTemplate.replace(/\{\s*value\s*\}/,v.value?`${n.modelValue}`:`${c.value}`):n.showText&&(e=n.texts[Math.ceil(c.value)-1]),e})),S=k((()=>100*n.modelValue-100*Math.floor(n.modelValue))),N=k((()=>m(n.colors)?{[n.lowThreshold]:n.colors[0],[n.highThreshold]:{value:n.colors[1],excluded:!0},[n.max]:n.colors[2]}:n.colors)),O=k((()=>{const e=a(c.value,N.value);return re(e)?"":e})),V=k((()=>{let e="";return v.value?e=`${S.value}%`:n.allowHalf&&(e="50%"),{color:O.value,width:e}})),I=k((()=>{let e=m(n.icons)?[...n.icons]:{...n.icons};return e=nt(e),m(e)?{[n.lowThreshold]:e[0],[n.highThreshold]:{value:e[1],excluded:!0},[n.max]:e[2]}:e})),D=k((()=>a(n.modelValue,I.value))),L=k((()=>v.value?g(n.disabledVoidIcon)?n.disabledVoidIcon:nt(n.disabledVoidIcon):g(n.voidIcon)?n.voidIcon:nt(n.voidIcon))),_=k((()=>a(c.value,I.value)));function B(e){const t=v.value&&S.value>0&&e-1<n.modelValue&&e>n.modelValue,l=n.allowHalf&&h.value&&e-.5<=c.value&&e>c.value;return t||l}function $(e){n.clearable&&e===n.modelValue&&(e=0),l(bl,e),n.modelValue!==e&&l("change",e)}function F(e){if(v.value)return;let t=c.value;const a=e.code;return a===be.up||a===be.right?(n.allowHalf?t+=.5:t+=1,e.stopPropagation(),e.preventDefault()):a!==be.left&&a!==be.down||(n.allowHalf?t-=.5:t-=1,e.stopPropagation(),e.preventDefault()),t=t<0?0:t,t=t>n.max?n.max:t,l(bl,t),l("change",t),t}function j(e,t){if(!v.value){if(n.allowHalf&&t){let l=t.target;at(l,i.e("item"))&&(l=l.querySelector(`.${i.e("icon")}`)),(0===l.clientWidth||at(l,i.e("decimal")))&&(l=l.parentNode),h.value=2*t.offsetX<=l.clientWidth,c.value=h.value?e-.5:e}else c.value=e;p.value=e}}function z(){v.value||(n.allowHalf&&(h.value=n.modelValue!==Math.floor(n.modelValue)),c.value=n.modelValue,p.value=-1)}return w((()=>n.modelValue),(e=>{c.value=e,h.value=n.modelValue!==Math.floor(n.modelValue)})),n.modelValue||l(bl,0),t({setCurrentValue:j,resetCurrentValue:z}),(e,t)=>{var l;return E(),T("div",{id:A(u),class:M([A(f),A(i).is("disabled",A(v))]),role:"slider","aria-label":A(d)?void 0:e.label||"rating","aria-labelledby":A(d)?null==(l=A(r))?void 0:l.labelId:void 0,"aria-valuenow":c.value,"aria-valuetext":A(x)||void 0,"aria-valuemin":"0","aria-valuemax":e.max,tabindex:"0",style:Q(A(b)),onKeydown:F},[(E(!0),T(R,null,pe(e.max,((e,t)=>(E(),T("span",{key:t,class:M(A(i).e("item")),onMousemove:t=>j(e,t),onMouseleave:z,onClick:t=>{return l=e,void(v.value||(n.allowHalf&&h.value?$(c.value):$(l)));var l}},[K(A(de),{class:M([A(i).e("icon"),{hover:p.value===e},A(i).is("active",e<=c.value)])},{default:G((()=>[B(e)?ee("v-if",!0):(E(),T(R,{key:0},[Ie((E(),Y(X(A(_)),null,null,512)),[[Pe,e<=c.value]]),Ie((E(),Y(X(A(L)),null,null,512)),[[Pe,!(e<=c.value)]])],64)),B(e)?(E(),Y(A(de),{key:1,style:Q(A(V)),class:M([A(i).e("icon"),A(i).e("decimal")])},{default:G((()=>[(E(),Y(X(A(D))))])),_:1},8,["style","class"])):ee("v-if",!0)])),_:2},1032,["class"])],42,Po)))),128)),e.showText||e.showScore?(E(),T("span",{key:0,class:M(A(i).e("text")),style:Q({color:e.textColor})},J(A(x)),7)):ee("v-if",!0)],46,Lo)}}});const $o=ne(D(Bo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/rate/src/rate.vue"]]));var Fo=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function jo(e,t){if(e.length!==t.length)return!1;for(var l=0;l<e.length;l++)if(n=e[l],a=t[l],!(n===a||Fo(n)&&Fo(a)))return!1;var n,a;return!0}const Ko=()=>{const e=we().proxy.$props;return k((()=>{const t=(e,t,l)=>({});return e.perfMode?ot(t):function(e,t){void 0===t&&(t=jo);var l=null;function n(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(l&&l.lastThis===this&&t(n,l.lastArgs))return l.lastResult;var o=e.apply(this,n);return l={lastResult:o,lastArgs:n,lastThis:this},o}return n.clear=function(){l=null},n}(t)}))},Ro="itemRendered",zo="scroll",qo="forward",Wo="backward",Ho="auto",Uo="smart",Go="start",Yo="center",Xo="horizontal",Qo="vertical",Zo="rtl",Jo="negative",er="positive-ascending",tr="positive-descending",lr={[Xo]:"left",[Qo]:"top"},nr={[Xo]:"deltaX",[Qo]:"deltaY"},ar=rt({type:v([Number,Function]),required:!0}),or=rt({type:Number}),rr=rt({type:Number,default:2}),sr=rt({type:String,values:["ltr","rtl"],default:"ltr"}),ir=rt({type:Number,default:0}),ur=rt({type:Number,required:!0}),dr=rt({type:String,values:["horizontal","vertical"],default:Qo}),cr=h({className:{type:String,default:""},containerElement:{type:v([String,Object]),default:"div"},data:{type:v(Array),default:()=>et([])},direction:sr,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:v([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),pr=h({cache:rr,estimatedItemSize:or,layout:dr,initScrollOffset:ir,total:ur,itemSize:ar,...cr}),hr={type:Number,default:6},fr={type:Number,default:0},vr={type:Number,default:2};h({columnCache:rr,columnWidth:ar,estimatedColumnWidth:or,estimatedRowHeight:or,initScrollLeft:ir,initScrollTop:ir,itemKey:{type:v(Function),default:({columnIndex:e,rowIndex:t})=>`${t}:${e}`},rowCache:rr,rowHeight:ar,totalColumn:ur,totalRow:ur,hScrollbarSize:hr,vScrollbarSize:hr,scrollbarStartGap:fr,scrollbarEndGap:vr,role:String,...cr});const mr=h({alwaysOn:Boolean,class:String,layout:dr,total:ur,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:hr,startGap:fr,endGap:vr,visible:Boolean}),gr=(e,t)=>e<t?qo:Wo,br=e=>"ltr"===e||e===Zo||e===Xo;let yr=null;function kr(e=!1){if(null===yr||e){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const l=document.createElement("div"),n=l.style;return n.width="100px",n.height="100px",e.appendChild(l),document.body.appendChild(e),e.scrollLeft>0?yr=tr:(e.scrollLeft=1,yr=0===e.scrollLeft?Jo:er),document.body.removeChild(e),yr}return yr}const xr=x({name:"ElVirtualScrollBar",props:mr,emits:["scroll","start-move","stop-move"],setup(e,{emit:t}){const l=k((()=>e.startGap+e.endGap)),n=C("virtual-scrollbar"),a=C("scrollbar"),o=y(),r=y();let s=null,i=null;const u=O({isDragging:!1,traveled:0}),d=k((()=>st[e.layout])),c=k((()=>e.clientSize-A(l))),p=k((()=>({position:"absolute",width:`${Xo===e.layout?c.value:e.scrollbarSize}px`,height:`${Xo===e.layout?e.scrollbarSize:c.value}px`,[lr[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"}))),h=k((()=>{const t=e.ratio,l=e.clientSize;if(t>=100)return Number.POSITIVE_INFINITY;if(t>=50)return t*l/100;const n=l/3;return Math.floor(Math.min(Math.max(t*l,20),n))})),f=k((()=>{if(!Number.isFinite(h.value))return{display:"none"};const t=`${h.value}px`,l=function({move:e,size:t,bar:l},n){const a={},o=`translate${l.axis}(${e}px)`;return a[l.size]=t,a.transform=o,a.msTransform=o,a.webkitTransform=o,"horizontal"===n?a.height="100%":a.width="100%",a}({bar:d.value,size:t,move:u.traveled},e.layout);return l})),v=k((()=>Math.floor(e.clientSize-h.value-A(l)))),m=()=>{window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",b),document.onselectstart=i,i=null;const e=A(r);e&&(e.removeEventListener("touchmove",x),e.removeEventListener("touchend",b))},g=e=>{e.stopImmediatePropagation(),e.ctrlKey||[1,2].includes(e.button)||(u.isDragging=!0,u[d.value.axis]=e.currentTarget[d.value.offset]-(e[d.value.client]-e.currentTarget.getBoundingClientRect()[d.value.direction]),t("start-move"),(()=>{window.addEventListener("mousemove",x),window.addEventListener("mouseup",b);const e=A(r);e&&(i=document.onselectstart,document.onselectstart=()=>!1,e.addEventListener("touchmove",x),e.addEventListener("touchend",b))})())},b=()=>{u.isDragging=!1,u[d.value.axis]=0,t("stop-move"),m()},x=l=>{const{isDragging:n}=u;if(!n)return;if(!r.value||!o.value)return;const a=u[d.value.axis];if(!a)return;Wt(s);const i=-1*(o.value.getBoundingClientRect()[d.value.direction]-l[d.value.client])-(r.value[d.value.offset]-a);s=Ht((()=>{u.traveled=Math.max(e.startGap,Math.min(i,v.value)),t("scroll",i,v.value)}))},S=e=>{const l=Math.abs(e.target.getBoundingClientRect()[d.value.direction]-e[d.value.client])-r.value[d.value.offset]/2;u.traveled=Math.max(0,Math.min(l,v.value)),t("scroll",l,v.value)};return w((()=>e.scrollFrom),(e=>{u.isDragging||(u.traveled=Math.ceil(e*v.value))})),$((()=>{m()})),()=>ye("div",{role:"presentation",ref:o,class:[n.b(),e.class,(e.alwaysOn||u.isDragging)&&"always-on"],style:p.value,onMousedown:ve(S,["stop","prevent"]),onTouchstartPrevent:g},ye("div",{ref:r,class:a.e("thumb"),style:f.value,onMousedown:g},[]))}}),Cr=({name:t,getOffset:l,getItemSize:n,getItemOffset:a,getEstimatedTotalSize:o,getStartIndexForOffset:r,getStopIndexForStartIndex:s,initCache:i,clearCache:u,validateProps:d})=>x({name:null!=t?t:"ElVirtualList",props:pr,emits:[Ro,zo],setup(t,{emit:c,expose:p}){d(t);const h=we(),f=C("vl"),v=y(i(t,h)),m=Ko(),g=y(),b=y(),x=y(),w=y({isScrolling:!1,scrollDir:"forward",scrollOffset:Ke(t.initScrollOffset)?t.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:t.scrollbarAlwaysOn}),S=k((()=>{const{total:e,cache:l}=t,{isScrolling:n,scrollDir:a,scrollOffset:o}=A(w);if(0===e)return[0,0,0,0];const i=r(t,o,A(v)),u=s(t,i,o,A(v)),d=n&&a!==Wo?1:Math.max(1,l),c=n&&a!==qo?1:Math.max(1,l);return[Math.max(0,i-d),Math.max(0,Math.min(e-1,u+c)),i,u]})),N=k((()=>o(t,A(v)))),O=k((()=>br(t.layout))),V=k((()=>[{position:"relative",["overflow-"+(O.value?"x":"y")]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:t.direction,height:Ke(t.height)?`${t.height}px`:t.height,width:Ke(t.width)?`${t.width}px`:t.width},t.style])),E=k((()=>{const e=A(N),t=A(O);return{height:t?"100%":`${e}px`,pointerEvents:A(w).isScrolling?"none":void 0,width:t?`${e}px`:"100%"}})),T=k((()=>O.value?t.width:t.height)),{onWheel:I}=(({atEndEdge:e,atStartEdge:t,layout:l},n)=>{let a,o=0;const r=l=>l<0&&t.value||l>0&&e.value;return{hasReachedEdge:r,onWheel:e=>{Wt(a);const t=e[nr[l.value]];r(o)&&r(o+t)||(o+=t,jt()||e.preventDefault(),a=Ht((()=>{n(o),o=0})))}}})({atStartEdge:k((()=>w.value.scrollOffset<=0)),atEndEdge:k((()=>w.value.scrollOffset>=N.value)),layout:k((()=>t.layout))},(e=>{var t,l;null==(l=(t=x.value).onMouseUp)||l.call(t),D(Math.min(w.value.scrollOffset+e,N.value-T.value))})),M=()=>{const{total:e}=t;if(e>0){const[e,t,l,n]=A(S);c(Ro,e,t,l,n)}const{scrollDir:l,scrollOffset:n,updateRequested:a}=A(w);c(zo,l,n,a)},D=e=>{(e=Math.max(e,0))!==A(w).scrollOffset&&(w.value={...A(w),scrollOffset:e,scrollDir:gr(A(w).scrollOffset,e),updateRequested:!0},z(P))},L=(e,n=Ho)=>{const{scrollOffset:a}=A(w);e=Math.max(0,Math.min(e,t.total-1)),D(l(t,e,n,a,A(v)))},P=()=>{w.value.isScrolling=!1,z((()=>{m.value(-1,null,null)}))},_=()=>{const e=g.value;e&&(e.scrollTop=0)};B((()=>{if(!e)return;const{initScrollOffset:l}=t,n=A(g);Ke(l)&&n&&(A(O)?n.scrollLeft=l:n.scrollTop=l),M()})),F((()=>{const{direction:e,layout:l}=t,{scrollOffset:n,updateRequested:a}=A(w),o=A(g);if(a&&o)if(l===Xo)if(e===Zo)switch(kr()){case Jo:o.scrollLeft=-n;break;case er:o.scrollLeft=n;break;default:{const{clientWidth:e,scrollWidth:t}=o;o.scrollLeft=t-e-n;break}}else o.scrollLeft=n;else o.scrollTop=n}));const $={ns:f,clientSize:T,estimatedTotalSize:N,windowStyle:V,windowRef:g,innerRef:b,innerStyle:E,itemsToRender:S,scrollbarRef:x,states:w,getItemStyle:e=>{const{direction:l,itemSize:o,layout:r}=t,s=m.value(u&&o,u&&r,u&&l);let i;if($e(s,String(e)))i=s[e];else{const o=a(t,e,A(v)),r=n(t,e,A(v)),u=A(O),d=l===Zo,c=u?o:0;s[e]=i={position:"absolute",left:d?void 0:`${c}px`,right:d?`${c}px`:void 0,top:u?0:`${o}px`,height:u?"100%":`${r}px`,width:u?`${r}px`:"100%"}}return i},onScroll:e=>{A(O)?(e=>{const{clientWidth:l,scrollLeft:n,scrollWidth:a}=e.currentTarget,o=A(w);if(o.scrollOffset===n)return;const{direction:r}=t;let s=n;if(r===Zo)switch(kr()){case Jo:s=-n;break;case tr:s=a-l-n}s=Math.max(0,Math.min(s,a-l)),w.value={...o,isScrolling:!0,scrollDir:gr(o.scrollOffset,s),scrollOffset:s,updateRequested:!1},z(P)})(e):(e=>{const{clientHeight:t,scrollHeight:l,scrollTop:n}=e.currentTarget,a=A(w);if(a.scrollOffset===n)return;const o=Math.max(0,Math.min(n,l-t));w.value={...a,isScrolling:!0,scrollDir:gr(a.scrollOffset,o),scrollOffset:o,updateRequested:!1},z(P)})(e),M()},onScrollbarScroll:(e,t)=>{const l=(N.value-T.value)/t*e;D(Math.min(N.value-T.value,l))},onWheel:I,scrollTo:D,scrollToItem:L,resetScrollTop:_};return p({windowRef:g,innerRef:b,getItemStyleCache:m,scrollTo:D,scrollToItem:L,resetScrollTop:_,states:w}),$},render(e){var t;const{$slots:l,className:n,clientSize:a,containerElement:o,data:r,getItemStyle:s,innerElement:i,itemsToRender:u,innerStyle:d,layout:c,total:p,onScroll:h,onScrollbarScroll:f,onWheel:v,states:m,useIsScrolling:b,windowStyle:y,ns:k}=e,[x,C]=u,w=X(o),S=X(i),N=[];if(p>0)for(let g=x;g<=C;g++)N.push(null==(t=l.default)?void 0:t.call(l,{data:r,key:g,index:g,isScrolling:b?m.isScrolling:void 0,style:s(g)}));const O=[ye(S,{style:d,ref:"innerRef"},g(S)?N:{default:()=>N})],V=ye(xr,{ref:"scrollbarRef",clientSize:a,layout:c,onScroll:f,ratio:100*a/this.estimatedTotalSize,scrollFrom:m.scrollOffset/(this.estimatedTotalSize-a),total:p}),E=ye(w,{class:[k.e("window"),n],style:y,onScroll:h,onWheel:v,ref:"windowRef",key:0},g(w)?[O]:{default:()=>[O]});return ye("div",{key:0,class:[k.e("wrapper"),m.scrollbarAlwaysOn?"always-on":""]},[E,V])}}),wr=Cr({name:"ElFixedSizeList",getItemOffset:({itemSize:e},t)=>t*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:t})=>t*e,getOffset:({height:e,total:t,itemSize:l,layout:n,width:a},o,r,s)=>{const i=br(n)?a:e,u=Math.max(0,t*l-i),d=Math.min(u,o*l),c=Math.max(0,(o+1)*l-i);switch(r===Uo&&(r=s>=c-i&&s<=d+i?Ho:Yo),r){case Go:return d;case"end":return c;case Yo:{const e=Math.round(c+(d-c)/2);return e<Math.ceil(i/2)?0:e>u+Math.floor(i/2)?u:e}default:return s>=c&&s<=d?s:s<c?c:d}},getStartIndexForOffset:({total:e,itemSize:t},l)=>Math.max(0,Math.min(e-1,Math.floor(l/t))),getStopIndexForStartIndex:({height:e,total:t,itemSize:l,layout:n,width:a},o,r)=>{const s=o*l,i=br(n)?a:e,u=Math.ceil((i+r-s)/l);return Math.max(0,Math.min(t-1,o+u-1))},initCache(){},clearCache:!0,validateProps(){}}),Sr=(e,t,l)=>{const{itemSize:n}=e,{items:a,lastVisitedIndex:o}=l;if(t>o){let e=0;if(o>=0){const t=a[o];e=t.offset+t.size}for(let l=o+1;l<=t;l++){const t=n(l);a[l]={offset:e,size:t},e+=t}l.lastVisitedIndex=t}return a[t]},Nr=(e,t,l,n,a)=>{for(;l<=n;){const o=l+Math.floor((n-l)/2),r=Sr(e,o,t).offset;if(r===a)return o;r<a?l=o+1:r>a&&(n=o-1)}return Math.max(0,l-1)},Or=(e,t,l,n)=>{const{total:a}=e;let o=1;for(;l<a&&Sr(e,l,t).offset<n;)l+=o,o*=2;return Nr(e,t,Math.floor(l/2),Math.min(l,a-1),n)},Vr=({total:e},{items:t,estimatedItemSize:l,lastVisitedIndex:n})=>{let a=0;if(n>=e&&(n=e-1),n>=0){const e=t[n];a=e.offset+e.size}return a+(e-n-1)*l},Er=Cr({name:"ElDynamicSizeList",getItemOffset:(e,t,l)=>Sr(e,t,l).offset,getItemSize:(e,t,{items:l})=>l[t].size,getEstimatedTotalSize:Vr,getOffset:(e,t,l,n,a)=>{const{height:o,layout:r,width:s}=e,i=br(r)?s:o,u=Sr(e,t,a),d=Vr(e,a),c=Math.max(0,Math.min(d-i,u.offset)),p=Math.max(0,u.offset-i+u.size);switch(l===Uo&&(l=n>=p-i&&n<=c+i?Ho:Yo),l){case Go:return c;case"end":return p;case Yo:return Math.round(p+(c-p)/2);default:return n>=p&&n<=c?n:n<p?p:c}},getStartIndexForOffset:(e,t,l)=>((e,t,l)=>{const{items:n,lastVisitedIndex:a}=t;return(a>0?n[a].offset:0)>=l?Nr(e,t,0,a,l):Or(e,t,Math.max(0,a),l)})(e,l,t),getStopIndexForStartIndex:(e,t,l,n)=>{const{height:a,total:o,layout:r,width:s}=e,i=br(r)?s:a,u=Sr(e,t,n),d=l+i;let c=u.offset+u.size,p=t;for(;p<o-1&&c<d;)p++,c+=Sr(e,p,n).size;return p},initCache({estimatedItemSize:e=50},t){const l={items:{},estimatedItemSize:e,lastVisitedIndex:-1,clearCacheAfterIndex:(e,n=!0)=>{var a,o;l.lastVisitedIndex=Math.min(l.lastVisitedIndex,e-1),null==(a=t.exposed)||a.getItemStyleCache(-1),n&&(null==(o=t.proxy)||o.$forceUpdate())}};return l},clearCache:!1,validateProps:({itemSize:e})=>{}});var Tr=D(x({props:{item:{type:Object,required:!0},style:Object,height:Number},setup:()=>({ns:C("select")})}),[["render",function(e,t,l,n,a,o){return e.item.isTitle?(E(),T("div",{key:0,class:M(e.ns.be("group","title")),style:Q([e.style,{lineHeight:`${e.height}px`}])},J(e.item.label),7)):(E(),T("div",{key:1,class:M(e.ns.be("group","split")),style:Q(e.style)},[te("span",{class:M(e.ns.be("group","split-dash")),style:Q({top:e.height/2+"px"})},null,6)],6))}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);const Ir={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:Me},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:Dt.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:hl},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:v(String),values:Pt,default:"bottom-start"}},Mr={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},Ar=x({props:Mr,emits:["select","hover"],setup(e,{emit:t}){const l=C("select"),{hoverItem:n,selectOptionClick:a}=function(e,{emit:t}){return{hoverItem:()=>{e.disabled||t("hover",e.index)},selectOptionClick:()=>{e.disabled||t("select",e.item,e.index)}}}(e,{emit:t});return{ns:l,hoverItem:n,selectOptionClick:a}}}),Dr=["aria-selected"];var Lr=D(Ar,[["render",function(e,t,l,n,a,o){return E(),T("li",{"aria-selected":e.selected,style:Q(e.style),class:M([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:t[0]||(t[0]=(...t)=>e.hoverItem&&e.hoverItem(...t)),onClick:t[1]||(t[1]=ve(((...t)=>e.selectOptionClick&&e.selectOptionClick(...t)),["stop"]))},[I(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},(()=>[te("span",null,J(e.item.label),1)]))],46,Dr)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const Pr=Symbol("ElSelectV2Injection");var _r=x({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:t,expose:l}){const n=P(Pr),a=C("select"),o=y([]),r=y(),s=k((()=>e.data.length));w((()=>s.value),(()=>{var e,t;null==(t=(e=n.popper.value).updatePopper)||t.call(e)}));const i=k((()=>Ne(n.props.estimatedOptionHeight))),u=k((()=>i.value?{itemSize:n.props.itemHeight}:{estimatedSize:n.props.estimatedOptionHeight,itemSize:e=>o.value[e]})),d=(e,t)=>{const{valueKey:l}=n.props;return n.props.multiple?((e=[],t)=>{const{props:{valueKey:l}}=n;return re(t)?e&&e.some((e=>He(e,l)===He(t,l))):e.includes(t)})(e,He(t,l)):((e,t)=>{if(re(t)){const{valueKey:l}=n.props;return He(e,l)===He(t,l)}return e===t})(e,He(t,l))},c=(e,t)=>{const{disabled:l,multiple:a,multipleLimit:o}=n.props;return l||!t&&!!a&&o>0&&e.length>=o},p=t=>e.hoveringIndex===t;l({listRef:r,isSized:i,isItemDisabled:c,isItemHovering:p,isItemSelected:d,scrollToItem:e=>{const t=r.value;t&&t.scrollToItem(e)},resetScrollTop:()=>{const e=r.value;e&&e.resetScrollTop()}});const h=e=>{const{index:l,data:a,style:o}=e,r=A(i),{itemSize:s,estimatedSize:h}=A(u),{modelValue:f}=n.props,{onSelect:v,onHover:m}=n,g=a[l];if("Group"===g.type)return K(Tr,{item:g,style:o,height:r?s:h},null);const b=d(f,g),y=c(f,b),k=p(l);return K(Lr,he(e,{selected:b,disabled:g.disabled||y,created:!!g.created,hovering:k,item:g,onSelect:v,onHover:m}),{default:e=>{var l;return(null==(l=t.default)?void 0:l.call(t,e))||K("span",null,[g.label])}})},{onKeyboardNavigate:f,onKeyboardSelect:v}=n,m=e=>{const{code:t}=e,{tab:l,esc:a,down:o,up:r,enter:s}=be;switch(t!==l&&(e.preventDefault(),e.stopPropagation()),t){case l:case a:n.expanded=!1;break;case o:f("forward");break;case r:f("backward");break;case s:v()}};return()=>{var l;const{data:o,width:s}=e,{height:d,multiple:c,scrollbarAlwaysOn:p}=n.props;if(0===o.length)return K("div",{class:a.b("dropdown"),style:{width:`${s}px`}},[null==(l=t.empty)?void 0:l.call(t)]);const f=A(i)?wr:Er;return K("div",{class:[a.b("dropdown"),a.is("multiple",c)]},[K(f,he({ref:r},A(u),{className:a.be("dropdown","list"),scrollbarAlwaysOn:p,data:o,height:d,width:s,total:o.length,onKeydown:m}),{default:e=>K(h,e,null)})])}}});function Br(e,t){const l=y(0),n=y(null),a=k((()=>e.allowCreate&&e.filterable));return{createNewOption:function(o){if(a.value)if(o&&o.length>0&&!function(l){const n=e=>e.value===l;return e.options&&e.options.some(n)||t.createdOptions.some(n)}(o)){const e={value:o,label:o,created:!0,disabled:!1};t.createdOptions.length>=l.value?t.createdOptions[l.value]=e:t.createdOptions.push(e)}else if(e.multiple)t.createdOptions.length=l.value;else{const e=n.value;t.createdOptions.length=0,e&&e.created&&t.createdOptions.push(e)}},removeNewOption:function(n){if(!a.value||!n||!n.created||n.created&&e.reserveKeyword&&t.inputValue===n.label)return;const o=t.createdOptions.findIndex((e=>e.value===n.value));~o&&(t.createdOptions.splice(o,1),l.value--)},selectNewOption:function(t){a.value&&(e.multiple&&t.created?l.value++:n.value=t)},clearAllNewOption:function(){a.value&&(t.createdOptions.length=0,l.value=0)}}}const $r={larget:51,default:42,small:33},Fr=(e,t)=>{const{t:l}=ge(),n=C("select-v2"),a=C("input"),{form:o,formItem:r}=El(),s=O({inputValue:"",displayInputValue:"",calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),i=y(-1),u=y(-1),d=y(null),c=y(null),p=y(null),h=y(null),f=y(null),v=y(null),g=y(null),b=y(!1),x=k((()=>e.disabled||(null==o?void 0:o.disabled))),N=k((()=>{const t=34*_.value.length;return t>e.height?e.height:t})),V=k((()=>!Vl(e.modelValue))),E=k((()=>{const t=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:V.value;return e.clearable&&!x.value&&s.comboBoxHovering&&t})),T=k((()=>e.remote&&e.filterable?"":ze)),I=k((()=>T.value&&n.is("reverse",b.value))),M=k((()=>(null==r?void 0:r.validateState)||"")),A=k((()=>Ue[M.value])),D=k((()=>e.remote?300:0)),P=k((()=>{const t=_.value;return e.loading?e.loadingText||l("el.select.loading"):(!e.remote||""!==s.inputValue||0!==t.length)&&(e.filterable&&s.inputValue&&t.length>0?e.noMatchText||l("el.select.noMatch"):0===t.length?e.noDataText||l("el.select.noData"):null)})),_=k((()=>{const t=e=>{const t=s.inputValue,l=new RegExp(Ll(t),"i");return!t||l.test(e.label||"")};return e.loading?[]:(e=>{const t=[];return e.forEach((e=>{m(e.options)?(t.push({label:e.label,isTitle:!0,type:"Group"}),e.options.forEach((e=>{t.push(e)})),t.push({type:"Group"})):t.push(e)})),t})(e.options.concat(s.createdOptions).map((l=>{if(m(l.options)){const e=l.options.filter(t);if(e.length>0)return{...l,options:e}}else if(e.remote||t(l))return l;return null})).filter((e=>null!==e)))})),$=k((()=>{const e=new Map;return _.value.forEach(((t,l)=>{e.set(fe(t),{option:t,index:l})})),e})),F=k((()=>_.value.every((e=>e.disabled)))),K=xl(),R=k((()=>"small"===K.value?"small":"default")),q=k((()=>{const e=v.value,t=R.value||"default",l=e?Number.parseInt(getComputedStyle(e).paddingLeft):0,n=e?Number.parseInt(getComputedStyle(e).paddingRight):0;return s.selectWidth-n-l-$r[t]})),W=()=>{var e;u.value=(null==(e=f.value)?void 0:e.offsetWidth)||200},H=k((()=>({width:`${0===s.calculatedWidth?11:Math.ceil(s.calculatedWidth)+11}px`}))),U=k((()=>m(e.modelValue)?0===e.modelValue.length&&!s.displayInputValue:!e.filterable||0===s.displayInputValue.length)),G=k((()=>{const t=e.placeholder||l("el.select.placeholder");return e.multiple||Vl(e.modelValue)?t:s.selectedLabel})),Y=k((()=>{var e,t;return null==(t=null==(e=h.value)?void 0:e.popperRef)?void 0:t.contentRef})),X=k((()=>{if(e.multiple){const t=e.modelValue.length;if(e.modelValue.length>0&&$.value.has(e.modelValue[t-1])){const{index:l}=$.value.get(e.modelValue[t-1]);return l}}else if(e.modelValue&&$.value.has(e.modelValue)){const{index:t}=$.value.get(e.modelValue);return t}return-1})),Q=k({get:()=>b.value&&!1!==P.value,set(e){b.value=e}}),Z=k((()=>s.cachedOptions.slice(0,e.maxCollapseTags))),J=k((()=>s.cachedOptions.slice(e.maxCollapseTags))),{createNewOption:ee,removeNewOption:te,selectNewOption:le,clearAllNewOption:ne}=Br(e,s),{handleCompositionStart:ae,handleCompositionUpdate:oe,handleCompositionEnd:se}=function(e){const t=y(!1);return{handleCompositionStart:()=>{t.value=!0},handleCompositionUpdate:e=>{const l=e.target.value,n=l[l.length-1]||"";t.value=!Ft(n)},handleCompositionEnd:l=>{t.value&&(t.value=!1,L(e)&&e(l))}}}((e=>Oe(e))),ie=()=>{var e,t,l;null==(t=null==(e=c.value)?void 0:e.focus)||t.call(e),null==(l=h.value)||l.updatePopper()},ue=()=>{if(!e.automaticDropdown)return x.value?void 0:(s.isComposing&&(s.softFocus=!0),z((()=>{var e,t;b.value=!b.value,null==(t=null==(e=c.value)?void 0:e.focus)||t.call(e)})))},de=()=>(e.filterable&&s.inputValue!==s.selectedLabel&&(s.query=s.selectedLabel),pe(s.inputValue),z((()=>{ee(s.inputValue)}))),ce=Ol(de,D.value),pe=t=>{s.previousQuery!==t&&(s.previousQuery=t,e.filterable&&L(e.filterMethod)?e.filterMethod(t):e.filterable&&e.remote&&L(e.remoteMethod)&&e.remoteMethod(t))},he=l=>{t(bl,l),(l=>{_l(e.modelValue,l)||t(kl,l)})(l),s.previousValue=null==l?void 0:l.toString()},fe=t=>re(t)?He(t,e.valueKey):t,ve=()=>z((()=>{var e,t;if(!c.value)return;const l=v.value;f.value.height=l.offsetHeight,b.value&&!1!==P.value&&(null==(t=null==(e=h.value)?void 0:e.updatePopper)||t.call(e))})),me=()=>{var t,l;if(be(),W(),null==(l=null==(t=h.value)?void 0:t.updatePopper)||l.call(t),e.multiple)return ve()},be=()=>{const e=v.value;e&&(s.selectWidth=e.getBoundingClientRect().width)},ye=(t,l,n=!0)=>{var a,o;if(e.multiple){let n=e.modelValue.slice();const r=((t=[],l)=>{if(!re(l))return t.indexOf(l);const n=e.valueKey;let a=-1;return t.some(((e,t)=>He(e,n)===He(l,n)&&(a=t,!0))),a})(n,fe(t));r>-1?(n=[...n.slice(0,r),...n.slice(r+1)],s.cachedOptions.splice(r,1),te(t)):(e.multipleLimit<=0||n.length<e.multipleLimit)&&(n=[...n,fe(t)],s.cachedOptions.push(t),le(t),we(l)),he(n),t.created&&(s.query="",pe(""),s.inputLength=20),e.filterable&&!e.reserveKeyword&&(null==(o=(a=c.value).focus)||o.call(a),xe("")),e.filterable&&(s.calculatedWidth=g.value.getBoundingClientRect().width),ve(),Ne()}else i.value=l,s.selectedLabel=t.label,he(fe(t)),b.value=!1,s.isComposing=!1,s.isSilentBlur=n,le(t),t.created||ne(),we(l)},ke=e=>(s.softFocus=!1,z((()=>{var l,n;null==(n=null==(l=c.value)?void 0:l.blur)||n.call(l),g.value&&(s.calculatedWidth=g.value.getBoundingClientRect().width),s.isSilentBlur?s.isSilentBlur=!1:s.isComposing&&t("blur",e),s.isComposing=!1}))),xe=e=>{s.displayInputValue=e,s.inputValue=e},Ce=(e,t=void 0)=>{const l=_.value;if(!["forward","backward"].includes(e)||x.value||l.length<=0||F.value)return;if(!b.value)return ue();void 0===t&&(t=s.hoveringIndex);let n=-1;"forward"===e?(n=t+1,n>=l.length&&(n=0)):"backward"===e&&(n=t-1,(n<0||n>=l.length)&&(n=l.length-1));const a=l[n];if(a.disabled||"Group"===a.type)return Ce(e,n);we(n),Ve(n)},we=e=>{s.hoveringIndex=e},Se=()=>{s.hoveringIndex=-1},Ne=()=>{var e;const t=c.value;t&&(null==(e=t.focus)||e.call(t))},Oe=t=>{const l=t.target.value;if(xe(l),s.displayInputValue.length>0&&!b.value&&(b.value=!0),s.calculatedWidth=g.value.getBoundingClientRect().width,e.multiple&&ve(),!e.remote)return de();ce()},Ve=e=>{p.value.scrollToItem(e)},Ee=()=>{if(Se(),e.multiple)if(e.modelValue.length>0){let t=!1;s.cachedOptions.length=0,s.previousValue=e.modelValue.toString();for(const l of e.modelValue)if($.value.has(l)){const{index:e,option:n}=$.value.get(l);s.cachedOptions.push(n),t||we(e),t=!0}}else s.cachedOptions=[],s.previousValue=void 0;else if(V.value){s.previousValue=e.modelValue;const t=_.value,l=t.findIndex((t=>fe(t)===fe(e.modelValue)));~l?(s.selectedLabel=t[l].label,we(l)):s.selectedLabel=`${e.modelValue}`}else s.selectedLabel="",s.previousValue=void 0;ne(),W()};return w(b,(e=>{var l,n;t("visible-change",e),e?null==(n=(l=h.value).update)||n.call(l):(s.displayInputValue="",s.previousQuery=null,ee(""))})),w((()=>e.modelValue),((t,l)=>{var n;t&&t.toString()===s.previousValue||Ee(),!_l(t,l)&&e.validateEvent&&(null==(n=null==r?void 0:r.validate)||n.call(r,"change").catch((e=>S())))}),{deep:!0}),w((()=>e.options),(()=>{const e=c.value;(!e||e&&document.activeElement!==e)&&Ee()}),{deep:!0}),w(_,(()=>z(p.value.resetScrollTop))),w((()=>Q.value),(e=>{e||Se()})),B((()=>{Ee()})),j(f,me),{collapseTagSize:R,currentPlaceholder:G,expanded:b,emptyText:P,popupHeight:N,debounce:D,filteredOptions:_,iconComponent:T,iconReverse:I,inputWrapperStyle:H,popperSize:u,dropdownMenuVisible:Q,hasModelValue:V,shouldShowPlaceholder:U,selectDisabled:x,selectSize:K,showClearBtn:E,states:s,tagMaxWidth:q,nsSelectV2:n,nsInput:a,calculatorRef:g,controlRef:d,inputRef:c,menuRef:p,popper:h,selectRef:f,selectionRef:v,popperRef:Y,validateState:M,validateIcon:A,showTagList:Z,collapseTagList:J,debouncedOnInputChange:ce,deleteTag:(l,n)=>{const{valueKey:a}=e,o=e.modelValue.indexOf(He(n,a));if(o>-1&&!x.value){const l=[...e.modelValue.slice(0,o),...e.modelValue.slice(o+1)];return s.cachedOptions.splice(o,1),he(l),t("remove-tag",He(n,a)),s.softFocus=!0,te(n),z(ie)}l.stopPropagation()},getLabel:e=>re(e)?e.label:e,getValueKey:fe,handleBlur:ke,handleClear:()=>{let l;return l=m(e.modelValue)?[]:void 0,s.softFocus=!0,e.multiple?s.cachedOptions=[]:s.selectedLabel="",b.value=!1,he(l),t("clear"),ne(),z(ie)},handleClickOutside:()=>(b.value=!1,ke()),handleDel:t=>{if(0===s.displayInputValue.length){t.preventDefault();const l=e.modelValue.slice();l.pop(),te(s.cachedOptions.pop()),he(l)}},handleEsc:()=>{s.displayInputValue.length>0?xe(""):b.value=!1},handleFocus:e=>{const l=s.isComposing;s.isComposing=!0,s.softFocus?s.softFocus=!1:l||t("focus",e)},handleMenuEnter:()=>(s.inputValue=s.displayInputValue,z((()=>{~X.value&&(we(X.value),Ve(s.hoveringIndex))}))),handleResize:me,toggleMenu:ue,scrollTo:Ve,onInput:Oe,onKeyboardNavigate:Ce,onKeyboardSelect:()=>{if(!b.value)return ue();~s.hoveringIndex&&_.value[s.hoveringIndex]&&ye(_.value[s.hoveringIndex],s.hoveringIndex,!1)},onSelect:ye,onHover:we,onUpdateInputValue:xe,handleCompositionStart:ae,handleCompositionEnd:se,handleCompositionUpdate:oe}},jr=x({name:"ElSelectV2",components:{ElSelectMenu:_r,ElTag:Al,ElTooltip:Lt,ElIcon:de},directives:{ClickOutside:Bl,ModelText:De},props:Ir,emits:[bl,kl,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:t}){const l=k((()=>{const{modelValue:t,multiple:l}=e,n=l?[]:void 0;return m(t)?l?t:n:l?n:t})),n=Fr(O({...V(e),modelValue:l}),t);return N(Pr,{props:O({...V(e),height:n.popupHeight,modelValue:l}),popper:n.popper,onSelect:n.onSelect,onHover:n.onHover,onKeyboardNavigate:n.onKeyboardNavigate,onKeyboardSelect:n.onKeyboardSelect}),{...n,modelValue:l}}}),Kr={key:0},Rr=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],zr=["textContent"],qr=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],Wr=["textContent"];var Hr=D(jr,[["render",function(e,t,l,n,a,o){const r=Ce("el-tag"),s=Ce("el-tooltip"),i=Ce("el-icon"),u=Ce("el-select-menu"),d=Ze("model-text"),c=Ze("click-outside");return Ie((E(),T("div",{ref:"selectRef",class:M([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:t[24]||(t[24]=ve(((...t)=>e.toggleMenu&&e.toggleMenu(...t)),["stop"])),onMouseenter:t[25]||(t[25]=t=>e.states.comboBoxHovering=!0),onMouseleave:t[26]||(t[26]=t=>e.states.comboBoxHovering=!1)},[K(s,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:t[23]||(t[23]=t=>e.states.inputValue=e.states.displayInputValue)},{default:G((()=>[te("div",{ref:"selectionRef",class:M([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing||e.expanded),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(E(),T("div",Kr,[I(e.$slots,"prefix")])):ee("v-if",!0),e.multiple?(E(),T("div",{key:1,class:M(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(E(),T(R,{key:0},[(E(!0),T(R,null,pe(e.showTagList,(t=>(E(),T("div",{key:e.getValueKey(t),class:M(e.nsSelectV2.e("selected-item"))},[K(r,{closable:!e.selectDisabled&&!(null==t?void 0:t.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:l=>e.deleteTag(l,t)},{default:G((()=>[te("span",{class:M(e.nsSelectV2.e("tags-text")),style:Q({maxWidth:`${e.tagMaxWidth}px`})},J(null==t?void 0:t.label),7)])),_:2},1032,["closable","size","onClose"])],2)))),128)),te("div",{class:M(e.nsSelectV2.e("selected-item"))},[e.modelValue.length>e.maxCollapseTags?(E(),Y(r,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:G((()=>[e.collapseTagsTooltip?(E(),Y(s,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:G((()=>[te("span",{class:M(e.nsSelectV2.e("tags-text")),style:Q({maxWidth:`${e.tagMaxWidth}px`})},"+ "+J(e.modelValue.length-e.maxCollapseTags),7)])),content:G((()=>[te("div",{class:M(e.nsSelectV2.e("selection"))},[(E(!0),T(R,null,pe(e.collapseTagList,(t=>(E(),T("div",{key:e.getValueKey(t),class:M(e.nsSelectV2.e("selected-item"))},[K(r,{closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:l=>e.deleteTag(l,t)},{default:G((()=>[te("span",{class:M(e.nsSelectV2.e("tags-text")),style:Q({maxWidth:`${e.tagMaxWidth}px`})},J(e.getLabel(t)),7)])),_:2},1032,["closable","size","onClose"])],2)))),128))],2)])),_:1},8,["disabled","effect"])):(E(),T("span",{key:1,class:M(e.nsSelectV2.e("tags-text")),style:Q({maxWidth:`${e.tagMaxWidth}px`})},"+ "+J(e.modelValue.length-e.maxCollapseTags),7))])),_:1},8,["size"])):ee("v-if",!0)],2)],64)):(E(!0),T(R,{key:1},pe(e.states.cachedOptions,(t=>(E(),T("div",{key:e.getValueKey(t),class:M(e.nsSelectV2.e("selected-item"))},[K(r,{closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:l=>e.deleteTag(l,t)},{default:G((()=>[te("span",{class:M(e.nsSelectV2.e("tags-text")),style:Q({maxWidth:`${e.tagMaxWidth}px`})},J(e.getLabel(t)),7)])),_:2},1032,["closable","size","onClose"])],2)))),128)),te("div",{class:M([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:Q(e.inputWrapperStyle)},[Ie(te("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:M([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":t[0]||(t[0]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t)),onFocus:t[1]||(t[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[2]||(t[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:t[3]||(t[3]=(...t)=>e.onInput&&e.onInput(...t)),onCompositionstart:t[4]||(t[4]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[5]||(t[5]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[6]||(t[6]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onKeydown:[t[7]||(t[7]=fe(ve((t=>e.onKeyboardNavigate("backward")),["stop","prevent"]),["up"])),t[8]||(t[8]=fe(ve((t=>e.onKeyboardNavigate("forward")),["stop","prevent"]),["down"])),t[9]||(t[9]=fe(ve(((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t)),["stop","prevent"]),["enter"])),t[10]||(t[10]=fe(ve(((...t)=>e.handleEsc&&e.handleEsc(...t)),["stop","prevent"]),["esc"])),t[11]||(t[11]=fe(ve(((...t)=>e.handleDel&&e.handleDel(...t)),["stop"]),["delete"]))]},null,42,Rr),[[d,e.states.displayInputValue]]),e.filterable?(E(),T("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:M(e.nsSelectV2.e("input-calculator")),textContent:J(e.states.displayInputValue)},null,10,zr)):ee("v-if",!0)],6)],2)):(E(),T(R,{key:2},[te("div",{class:M([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[Ie(te("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:M(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:t[12]||(t[12]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:t[13]||(t[13]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:t[14]||(t[14]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onFocus:t[15]||(t[15]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:t[16]||(t[16]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:t[17]||(t[17]=(...t)=>e.onInput&&e.onInput(...t)),onKeydown:[t[18]||(t[18]=fe(ve((t=>e.onKeyboardNavigate("backward")),["stop","prevent"]),["up"])),t[19]||(t[19]=fe(ve((t=>e.onKeyboardNavigate("forward")),["stop","prevent"]),["down"])),t[20]||(t[20]=fe(ve(((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t)),["stop","prevent"]),["enter"])),t[21]||(t[21]=fe(ve(((...t)=>e.handleEsc&&e.handleEsc(...t)),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":t[22]||(t[22]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t))},null,42,qr),[[d,e.states.displayInputValue]])],2),e.filterable?(E(),T("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:M([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:J(e.states.displayInputValue)},null,10,Wr)):ee("v-if",!0)],64)),e.shouldShowPlaceholder?(E(),T("span",{key:3,class:M([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.multiple?0===e.modelValue.length:!e.hasModelValue)])},J(e.currentPlaceholder),3)):ee("v-if",!0),te("span",{class:M(e.nsSelectV2.e("suffix"))},[e.iconComponent?Ie((E(),Y(i,{key:0,class:M([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:G((()=>[(E(),Y(X(e.iconComponent)))])),_:1},8,["class"])),[[Pe,!e.showClearBtn]]):ee("v-if",!0),e.showClearBtn&&e.clearIcon?(E(),Y(i,{key:1,class:M([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:ve(e.handleClear,["prevent","stop"])},{default:G((()=>[(E(),Y(X(e.clearIcon)))])),_:1},8,["class","onClick"])):ee("v-if",!0),e.validateState&&e.validateIcon?(E(),Y(i,{key:2,class:M([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:G((()=>[(E(),Y(X(e.validateIcon)))])),_:1},8,["class"])):ee("v-if",!0)],2)],2)])),content:G((()=>[K(u,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:G((t=>[I(e.$slots,"default",it(ut(t)))])),empty:G((()=>[I(e.$slots,"empty",{},(()=>[te("p",{class:M(e.nsSelectV2.e("empty"))},J(e.emptyText?e.emptyText:""),3)]))])),_:3},8,["data","width","hovering-index","scrollbar-always-on"])])),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[c,e.handleClickOutside,e.popperRef]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);Hr.install=e=>{e.component(Hr.name,Hr)};const Ur=Hr,Gr=Symbol("sliderContextKey"),Yr=h({modelValue:{type:v([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Ee,inputSize:Ee,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:v(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:v(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Pt,default:"top"},marks:{type:v(Object)},validateEvent:{type:Boolean,default:!0}}),Xr=e=>Ke(e)||m(e)&&e.every(Ke),Qr={[bl]:Xr,[yl]:Xr,[kl]:Xr},Zr=(e,t,l)=>{const{form:n,formItem:a}=El(),o=Be(),r=y(),s=y(),i={firstButton:r,secondButton:s},u=k((()=>e.disabled||(null==n?void 0:n.disabled)||!1)),d=k((()=>Math.min(t.firstValue,t.secondValue))),c=k((()=>Math.max(t.firstValue,t.secondValue))),p=k((()=>e.range?100*(c.value-d.value)/(e.max-e.min)+"%":100*(t.firstValue-e.min)/(e.max-e.min)+"%")),h=k((()=>e.range?100*(d.value-e.min)/(e.max-e.min)+"%":"0%")),f=k((()=>e.vertical?{height:e.height}:{})),v=k((()=>e.vertical?{height:p.value,bottom:h.value}:{width:p.value,left:h.value})),m=()=>{o.value&&(t.sliderSize=o.value["client"+(e.vertical?"Height":"Width")])},g=l=>{const n=(l=>{const n=e.min+l*(e.max-e.min)/100;if(!e.range)return r;let a;return a=Math.abs(d.value-n)<Math.abs(c.value-n)?t.firstValue<t.secondValue?"firstButton":"secondButton":t.firstValue>t.secondValue?"firstButton":"secondButton",i[a]})(l);return n.value.setPosition(l),n},b=e=>{l(bl,e),l(yl,e)},x=async()=>{await z(),l(kl,e.range?[d.value,c.value]:e.modelValue)},C=l=>{var n,a,r,s,i,d;if(u.value||t.dragging)return;m();let c=0;if(e.vertical){const e=null!=(r=null==(a=null==(n=l.touches)?void 0:n.item(0))?void 0:a.clientY)?r:l.clientY;c=(o.value.getBoundingClientRect().bottom-e)/t.sliderSize*100}else{c=((null!=(d=null==(i=null==(s=l.touches)?void 0:s.item(0))?void 0:i.clientX)?d:l.clientX)-o.value.getBoundingClientRect().left)/t.sliderSize*100}return c<0||c>100?void 0:g(c)};return{elFormItem:a,slider:o,firstButton:r,secondButton:s,sliderDisabled:u,minValue:d,maxValue:c,runwayStyle:f,barStyle:v,resetSize:m,setPosition:g,emitChange:x,onSliderWrapperPrevent:e=>{var t,l;((null==(t=i.firstButton.value)?void 0:t.dragging)||(null==(l=i.secondButton.value)?void 0:l.dragging))&&e.preventDefault()},onSliderClick:e=>{C(e)&&x()},onSliderDown:async e=>{const t=C(e);t&&(await z(),t.value.onButtonDown(e))},setFirstValue:l=>{t.firstValue=l,b(e.range?[d.value,c.value]:l)},setSecondValue:l=>{t.secondValue=l,e.range&&b([d.value,c.value])}}},{left:Jr,down:es,right:ts,up:ls,home:ns,end:as,pageUp:os,pageDown:rs}=be,ss=(e,t,l)=>{const{disabled:n,min:a,max:o,step:r,showTooltip:s,precision:i,sliderSize:u,formatTooltip:d,emitChange:c,resetSize:p,updateDragging:h}=P(Gr),{tooltip:f,tooltipVisible:v,formatValue:m,displayTooltip:g,hideTooltip:b}=((e,t,l)=>{const n=y(),a=y(!1),o=k((()=>t.value instanceof Function)),r=k((()=>o.value&&t.value(e.modelValue)||e.modelValue)),s=Ol((()=>{l.value&&(a.value=!0)}),50),i=Ol((()=>{l.value&&(a.value=!1)}),50);return{tooltip:n,tooltipVisible:a,formatValue:r,displayTooltip:s,hideTooltip:i}})(e,d,s),x=y(),C=k((()=>(e.modelValue-a.value)/(o.value-a.value)*100+"%")),S=k((()=>e.vertical?{bottom:C.value}:{left:C.value})),N=e=>{n.value||(t.newPosition=Number.parseFloat(C.value)+e/(o.value-a.value)*100,I(t.newPosition),c())},O=e=>{let t,l;return e.type.startsWith("touch")?(l=e.touches[0].clientY,t=e.touches[0].clientX):(l=e.clientY,t=e.clientX),{clientX:t,clientY:l}},V=l=>{t.dragging=!0,t.isClick=!0;const{clientX:n,clientY:a}=O(l);e.vertical?t.startY=a:t.startX=n,t.startPosition=Number.parseFloat(C.value),t.newPosition=t.startPosition},E=l=>{if(t.dragging){let n;t.isClick=!1,g(),p();const{clientX:a,clientY:o}=O(l);e.vertical?(t.currentY=o,n=(t.startY-t.currentY)/u.value*100):(t.currentX=a,n=(t.currentX-t.startX)/u.value*100),t.newPosition=t.startPosition+n,I(t.newPosition)}},T=()=>{t.dragging&&(setTimeout((()=>{t.dragging=!1,t.hovering||b(),t.isClick||I(t.newPosition),c()}),0),window.removeEventListener("mousemove",E),window.removeEventListener("touchmove",E),window.removeEventListener("mouseup",T),window.removeEventListener("touchend",T),window.removeEventListener("contextmenu",T))},I=async n=>{if(null===n||Number.isNaN(+n))return;n<0?n=0:n>100&&(n=100);const s=100/((o.value-a.value)/r.value);let u=Math.round(n/s)*s*(o.value-a.value)*.01+a.value;u=Number.parseFloat(u.toFixed(i.value)),u!==e.modelValue&&l(bl,u),t.dragging||e.modelValue===t.oldValue||(t.oldValue=e.modelValue),await z(),t.dragging&&g(),f.value.updatePopper()};return w((()=>t.dragging),(e=>{h(e)})),{disabled:n,button:x,tooltip:f,tooltipVisible:v,showTooltip:s,wrapperStyle:S,formatValue:m,handleMouseEnter:()=>{t.hovering=!0,g()},handleMouseLeave:()=>{t.hovering=!1,t.dragging||b()},onButtonDown:e=>{n.value||(e.preventDefault(),V(e),window.addEventListener("mousemove",E),window.addEventListener("touchmove",E),window.addEventListener("mouseup",T),window.addEventListener("touchend",T),window.addEventListener("contextmenu",T),x.value.focus())},onKeyDown:e=>{let t=!0;[Jr,es].includes(e.key)?N(-r.value):[ts,ls].includes(e.key)?N(r.value):e.key===ns?n.value||(I(0),c()):e.key===as?n.value||(I(100),c()):e.key===rs?N(4*-r.value):e.key===os?N(4*r.value):t=!1,t&&e.preventDefault()},setPosition:I}},is=h({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Pt,default:"top"}}),us={[bl]:e=>Ke(e)},ds=["tabindex"],cs=x({name:"ElSliderButton"});var ps=D(x({...cs,props:is,emits:us,setup(e,{expose:t,emit:l}){const n=e,a=C("slider"),o=O({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:n.modelValue}),{disabled:r,button:s,tooltip:i,showTooltip:u,tooltipVisible:d,wrapperStyle:c,formatValue:p,handleMouseEnter:h,handleMouseLeave:f,onButtonDown:v,onKeyDown:m,setPosition:g}=ss(n,o,l),{hovering:b,dragging:y}=V(o);return t({onButtonDown:v,onKeyDown:m,setPosition:g,hovering:b,dragging:y}),(e,t)=>(E(),T("div",{ref_key:"button",ref:s,class:M([A(a).e("button-wrapper"),{hover:A(b),dragging:A(y)}]),style:Q(A(c)),tabindex:A(r)?-1:0,onMouseenter:t[0]||(t[0]=(...e)=>A(h)&&A(h)(...e)),onMouseleave:t[1]||(t[1]=(...e)=>A(f)&&A(f)(...e)),onMousedown:t[2]||(t[2]=(...e)=>A(v)&&A(v)(...e)),onTouchstart:t[3]||(t[3]=(...e)=>A(v)&&A(v)(...e)),onFocus:t[4]||(t[4]=(...e)=>A(h)&&A(h)(...e)),onBlur:t[5]||(t[5]=(...e)=>A(f)&&A(f)(...e)),onKeydown:t[6]||(t[6]=(...e)=>A(m)&&A(m)(...e))},[K(A(Lt),{ref_key:"tooltip",ref:i,visible:A(d),placement:e.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":e.tooltipClass,disabled:!A(u),persistent:""},{content:G((()=>[te("span",null,J(A(p)),1)])),default:G((()=>[te("div",{class:M([A(a).e("button"),{hover:A(b),dragging:A(y)}])},null,2)])),_:1},8,["visible","placement","popper-class","disabled"])],46,ds))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/button.vue"]]);const hs=h({mark:{type:v([String,Object]),default:void 0}});var fs=x({name:"ElSliderMarker",props:hs,setup(e){const t=C("slider"),l=k((()=>g(e.mark)?e.mark:e.mark.label)),n=k((()=>g(e.mark)?void 0:e.mark.style));return()=>ye("div",{class:t.e("marks-text"),style:n.value},l.value)}});const vs=["id","role","aria-label","aria-labelledby"],ms={key:1},gs=x({name:"ElSlider"});const bs=ne(D(x({...gs,props:Yr,emits:Qr,setup(e,{expose:t,emit:l}){const n=e,a=C("slider"),{t:o}=ge(),r=O({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:s,slider:i,firstButton:u,secondButton:d,sliderDisabled:c,minValue:p,maxValue:h,runwayStyle:f,barStyle:v,resetSize:m,emitChange:g,onSliderWrapperPrevent:b,onSliderClick:x,onSliderDown:I,setFirstValue:D,setSecondValue:L}=Zr(n,r,l),{stops:P,getStopStyle:$}=((e,t,l,n)=>({stops:k((()=>{if(!e.showStops||e.min>e.max)return[];if(0===e.step)return[];const a=(e.max-e.min)/e.step,o=100*e.step/(e.max-e.min),r=Array.from({length:a-1}).map(((e,t)=>(t+1)*o));return e.range?r.filter((t=>t<100*(l.value-e.min)/(e.max-e.min)||t>100*(n.value-e.min)/(e.max-e.min))):r.filter((l=>l>100*(t.firstValue-e.min)/(e.max-e.min)))})),getStopStyle:t=>e.vertical?{bottom:`${t}%`}:{left:`${t}%`}}))(n,r,p,h),{inputId:F,isLabeledByFormItem:j}=Tl(n,{formItemContext:s}),q=xl(),W=k((()=>n.inputSize||q.value)),H=k((()=>n.label||o("el.slider.defaultLabel",{min:n.min,max:n.max}))),U=k((()=>n.range?n.rangeStartLabel||o("el.slider.defaultRangeStartLabel"):H.value)),G=k((()=>n.formatValueText?n.formatValueText(oe.value):`${oe.value}`)),X=k((()=>n.rangeEndLabel||o("el.slider.defaultRangeEndLabel"))),Z=k((()=>n.formatValueText?n.formatValueText(re.value):`${re.value}`)),J=k((()=>[a.b(),a.m(q.value),a.is("vertical",n.vertical),{[a.m("with-input")]:n.showInput}])),le=(e=>k((()=>e.marks?Object.keys(e.marks).map(Number.parseFloat).sort(((e,t)=>e-t)).filter((t=>t<=e.max&&t>=e.min)).map((t=>({point:t,position:100*(t-e.min)/(e.max-e.min),mark:e.marks[t]}))):[])))(n);((e,t,l,n,a,o)=>{const r=e=>{a(bl,e),a(yl,e)},s=()=>e.range?![l.value,n.value].every(((e,l)=>e===t.oldValue[l])):e.modelValue!==t.oldValue,i=()=>{var l,n;e.min>e.max&&_("Slider","min should not be greater than max.");const a=e.modelValue;e.range&&Array.isArray(a)?a[1]<e.min?r([e.min,e.min]):a[0]>e.max?r([e.max,e.max]):a[0]<e.min?r([e.min,a[1]]):a[1]>e.max?r([a[0],e.max]):(t.firstValue=a[0],t.secondValue=a[1],s()&&(e.validateEvent&&(null==(l=null==o?void 0:o.validate)||l.call(o,"change").catch((e=>S()))),t.oldValue=a.slice())):e.range||"number"!=typeof a||Number.isNaN(a)||(a<e.min?r(e.min):a>e.max?r(e.max):(t.firstValue=a,s()&&(e.validateEvent&&(null==(n=null==o?void 0:o.validate)||n.call(o,"change").catch((e=>S()))),t.oldValue=a)))};i(),w((()=>t.dragging),(e=>{e||i()})),w((()=>e.modelValue),((e,l)=>{t.dragging||Array.isArray(e)&&Array.isArray(l)&&e.every(((e,t)=>e===l[t]))&&t.firstValue===e[0]&&t.secondValue===e[1]||i()}),{deep:!0}),w((()=>[e.min,e.max]),(()=>{i()}))})(n,r,p,h,l,s);const ne=k((()=>{const e=[n.min,n.max,n.step].map((e=>{const t=`${e}`.split(".")[1];return t?t.length:0}));return Math.max.apply(null,e)})),{sliderWrapper:ae}=((e,t,l)=>{const n=y();return B((async()=>{e.range?(Array.isArray(e.modelValue)?(t.firstValue=Math.max(e.min,e.modelValue[0]),t.secondValue=Math.min(e.max,e.modelValue[1])):(t.firstValue=e.min,t.secondValue=e.max),t.oldValue=[t.firstValue,t.secondValue]):("number"!=typeof e.modelValue||Number.isNaN(e.modelValue)?t.firstValue=e.min:t.firstValue=Math.min(e.max,Math.max(e.min,e.modelValue)),t.oldValue=t.firstValue),dt(window,"resize",l),await z(),l()})),{sliderWrapper:n}})(n,r,m),{firstValue:oe,secondValue:re,sliderSize:se}=V(r);return N(Gr,{...V(n),sliderSize:se,disabled:c,precision:ne,emitChange:g,resetSize:m,updateDragging:e=>{r.dragging=e}}),t({onSliderClick:x}),(e,t)=>{var l,n;return E(),T("div",{id:e.range?A(F):void 0,ref_key:"sliderWrapper",ref:ae,class:M(A(J)),role:e.range?"group":void 0,"aria-label":e.range&&!A(j)?A(H):void 0,"aria-labelledby":e.range&&A(j)?null==(l=A(s))?void 0:l.labelId:void 0,onTouchstart:t[2]||(t[2]=(...e)=>A(b)&&A(b)(...e)),onTouchmove:t[3]||(t[3]=(...e)=>A(b)&&A(b)(...e))},[te("div",{ref_key:"slider",ref:i,class:M([A(a).e("runway"),{"show-input":e.showInput&&!e.range},A(a).is("disabled",A(c))]),style:Q(A(f)),onMousedown:t[0]||(t[0]=(...e)=>A(I)&&A(I)(...e)),onTouchstart:t[1]||(t[1]=(...e)=>A(I)&&A(I)(...e))},[te("div",{class:M(A(a).e("bar")),style:Q(A(v))},null,6),K(ps,{id:e.range?void 0:A(F),ref_key:"firstButton",ref:u,"model-value":A(oe),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:"slider","aria-label":e.range||!A(j)?A(U):void 0,"aria-labelledby":!e.range&&A(j)?null==(n=A(s))?void 0:n.labelId:void 0,"aria-valuemin":e.min,"aria-valuemax":e.range?A(re):e.max,"aria-valuenow":A(oe),"aria-valuetext":A(G),"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":A(c),"onUpdate:modelValue":A(D)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),e.range?(E(),Y(ps,{key:0,ref_key:"secondButton",ref:d,"model-value":A(re),vertical:e.vertical,"tooltip-class":e.tooltipClass,placement:e.placement,role:"slider","aria-label":A(X),"aria-valuemin":A(oe),"aria-valuemax":e.max,"aria-valuenow":A(re),"aria-valuetext":A(Z),"aria-orientation":e.vertical?"vertical":"horizontal","aria-disabled":A(c),"onUpdate:modelValue":A(L)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):ee("v-if",!0),e.showStops?(E(),T("div",ms,[(E(!0),T(R,null,pe(A(P),((e,t)=>(E(),T("div",{key:t,class:M(A(a).e("stop")),style:Q(A($)(e))},null,6)))),128))])):ee("v-if",!0),A(le).length>0?(E(),T(R,{key:2},[te("div",null,[(E(!0),T(R,null,pe(A(le),((e,t)=>(E(),T("div",{key:t,style:Q(A($)(e.position)),class:M([A(a).e("stop"),A(a).e("marks-stop")])},null,6)))),128))]),te("div",{class:M(A(a).e("marks"))},[(E(!0),T(R,null,pe(A(le),((e,t)=>(E(),Y(A(fs),{key:t,mark:e.mark,style:Q(A($)(e.position))},null,8,["mark","style"])))),128))],2)],64)):ee("v-if",!0)],38),e.showInput&&!e.range?(E(),Y(A(vo),{key:0,ref:"input","model-value":A(oe),class:M(A(a).e("input")),step:e.step,disabled:A(c),controls:e.showInputControls,min:e.min,max:e.max,debounce:e.debounce,size:A(W),"onUpdate:modelValue":A(D),onChange:A(g)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):ee("v-if",!0)],42,vs)}}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/slider/src/slider.vue"]])),ys=h({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:Ee,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:v([String,Object]),default:()=>ct},clearIcon:{type:v([String,Object]),default:()=>Me}}),ks=e=>{const t=(e||"").split(":");if(t.length>=2){let l=Number.parseInt(t[0],10);const n=Number.parseInt(t[1],10),a=e.toUpperCase();return a.includes("AM")&&12===l?l=0:a.includes("PM")&&12!==l&&(l+=12),{hours:l,minutes:n}}return null},xs=(e,t)=>{const l=ks(e);if(!l)return-1;const n=ks(t);if(!n)return-1;const a=l.minutes+60*l.hours,o=n.minutes+60*n.hours;return a===o?0:a>o?1:-1},Cs=e=>`${e}`.padStart(2,"0"),ws=e=>`${Cs(e.hours)}:${Cs(e.minutes)}`,Ss=(e,t)=>{const l=ks(e);if(!l)return"";const n=ks(t);if(!n)return"";const a={hours:l.hours,minutes:l.minutes};return a.minutes+=n.minutes,a.hours+=n.hours,a.hours+=Math.floor(a.minutes/60),a.minutes=a.minutes%60,ws(a)},Ns=x({name:"ElTimeSelect"});var Os=D(x({...Ns,props:ys,emits:["change","blur","focus","update:modelValue"],setup(e,{expose:t}){const l=e;ll.extend(al);const{Option:n}=To,a=C("input"),o=y(),r=Sl(),s=k((()=>l.modelValue)),i=k((()=>{const e=ks(l.start);return e?ws(e):null})),u=k((()=>{const e=ks(l.end);return e?ws(e):null})),d=k((()=>{const e=ks(l.step);return e?ws(e):null})),c=k((()=>{const e=ks(l.minTime||"");return e?ws(e):null})),p=k((()=>{const e=ks(l.maxTime||"");return e?ws(e):null})),h=k((()=>{const e=[];if(l.start&&l.end&&l.step){let t,n=i.value;for(;n&&u.value&&xs(n,u.value)<=0;)t=ll(n,"HH:mm").format(l.format),e.push({value:t,disabled:xs(n,c.value||"-1:-1")<=0||xs(n,p.value||"100:100")>=0}),n=Ss(n,d.value)}return e}));return t({blur:()=>{var e,t;null==(t=null==(e=o.value)?void 0:e.blur)||t.call(e)},focus:()=>{var e,t;null==(t=null==(e=o.value)?void 0:e.focus)||t.call(e)}}),(e,t)=>(E(),Y(A(To),{ref_key:"select",ref:o,"model-value":A(s),disabled:A(r),clearable:e.clearable,"clear-icon":e.clearIcon,size:e.size,effect:e.effect,placeholder:e.placeholder,"default-first-option":"",filterable:e.editable,"onUpdate:modelValue":t[0]||(t[0]=t=>e.$emit("update:modelValue",t)),onChange:t[1]||(t[1]=t=>e.$emit("change",t)),onBlur:t[2]||(t[2]=t=>e.$emit("blur",t)),onFocus:t[3]||(t[3]=t=>e.$emit("focus",t))},{prefix:G((()=>[e.prefixIcon?(E(),Y(A(de),{key:0,class:M(A(a).e("prefix-icon"))},{default:G((()=>[(E(),Y(X(e.prefixIcon)))])),_:1},8,["class"])):ee("v-if",!0)])),default:G((()=>[(E(!0),T(R,null,pe(A(h),(e=>(E(),Y(A(n),{key:e.value,label:e.value,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])))),128))])),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-select/src/time-select.vue"]]);Os.install=e=>{e.component(Os.name,Os)};const Vs=Os,Es="left-check-change",Ts="right-check-change",Is=h({data:{type:v(Array),default:()=>[]},titles:{type:v(Array),default:()=>[]},buttonTexts:{type:v(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:v(Function)},leftDefaultChecked:{type:v(Array),default:()=>[]},rightDefaultChecked:{type:v(Array),default:()=>[]},renderContent:{type:v(Function)},modelValue:{type:v(Array),default:()=>[]},format:{type:v(Object),default:()=>({})},filterable:Boolean,props:{type:v(Object),default:()=>et({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),Ms=(e,t)=>[e,t].every(m)||m(e)&&Vl(t),As={[kl]:(e,t,l)=>[e,l].every(m)&&["left","right"].includes(t),[bl]:e=>m(e),[Es]:Ms,[Ts]:Ms},Ds="checked-change",Ls=h({data:Is.data,optionRender:{type:v(Function)},placeholder:String,title:String,filterable:Boolean,format:Is.format,filterMethod:Is.filterMethod,defaultChecked:Is.leftDefaultChecked,props:Is.props}),Ps={[Ds]:Ms},_s=e=>{const t={label:"label",key:"key",disabled:"disabled"};return k((()=>({...t,...e.props})))},Bs=x({name:"ElTransferPanel"});var $s=D(x({...Bs,props:Ls,emits:Ps,setup(e,{expose:t,emit:l}){const n=e,a=q(),o=({option:e})=>e,{t:r}=ge(),s=C("transfer"),i=O({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),u=_s(n),{filteredData:d,checkedSummary:c,isIndeterminate:p,handleAllCheckedChange:h}=((e,t,l)=>{const n=_s(e),a=k((()=>e.data.filter((l=>L(e.filterMethod)?e.filterMethod(t.query,l):String(l[n.value.label]||l[n.value.key]).toLowerCase().includes(t.query.toLowerCase()))))),o=k((()=>a.value.filter((e=>!e[n.value.disabled])))),r=k((()=>{const l=t.checked.length,n=e.data.length,{noChecked:a,hasChecked:o}=e.format;return a&&o?l>0?o.replace(/\${checked}/g,l.toString()).replace(/\${total}/g,n.toString()):a.replace(/\${total}/g,n.toString()):`${l}/${n}`})),s=k((()=>{const e=t.checked.length;return e>0&&e<o.value.length})),i=()=>{const e=o.value.map((e=>e[n.value.key]));t.allChecked=e.length>0&&e.every((e=>t.checked.includes(e)))};return w((()=>t.checked),((e,n)=>{if(i(),t.checkChangeByUser){const t=e.concat(n).filter((t=>!e.includes(t)||!n.includes(t)));l(Ds,e,t)}else l(Ds,e),t.checkChangeByUser=!0})),w(o,(()=>{i()})),w((()=>e.data),(()=>{const e=[],l=a.value.map((e=>e[n.value.key]));t.checked.forEach((t=>{l.includes(t)&&e.push(t)})),t.checkChangeByUser=!1,t.checked=e})),w((()=>e.defaultChecked),((e,l)=>{if(l&&e.length===l.length&&e.every((e=>l.includes(e))))return;const a=[],r=o.value.map((e=>e[n.value.key]));e.forEach((e=>{r.includes(e)&&a.push(e)})),t.checkChangeByUser=!1,t.checked=a}),{immediate:!0}),{filteredData:a,checkableData:o,checkedSummary:r,isIndeterminate:s,updateAllChecked:i,handleAllCheckedChange:e=>{t.checked=e?o.value.map((e=>e[n.value.key])):[]}}})(n,i,l),f=k((()=>!Se(i.query)&&Se(d.value))),v=k((()=>!Se(a.default()[0].children))),{checked:m,allChecked:g,query:b}=V(i);return t({query:b}),(e,t)=>(E(),T("div",{class:M(A(s).b("panel"))},[te("p",{class:M(A(s).be("panel","header"))},[K(A(qt),{modelValue:A(g),"onUpdate:modelValue":t[0]||(t[0]=e=>Le(g)?g.value=e:null),indeterminate:A(p),"validate-event":!1,onChange:A(h)},{default:G((()=>[Z(J(e.title)+" ",1),te("span",null,J(A(c)),1)])),_:1},8,["modelValue","indeterminate","onChange"])],2),te("div",{class:M([A(s).be("panel","body"),A(s).is("with-footer",A(v))])},[e.filterable?(E(),Y(A(Bt),{key:0,modelValue:A(b),"onUpdate:modelValue":t[1]||(t[1]=e=>Le(b)?b.value=e:null),class:M(A(s).be("panel","filter")),size:"default",placeholder:e.placeholder,"prefix-icon":A(pt),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):ee("v-if",!0),Ie(K(A(Ut),{modelValue:A(m),"onUpdate:modelValue":t[2]||(t[2]=e=>Le(m)?m.value=e:null),"validate-event":!1,class:M([A(s).is("filterable",e.filterable),A(s).be("panel","list")])},{default:G((()=>[(E(!0),T(R,null,pe(A(d),(t=>(E(),Y(A(qt),{key:t[A(u).key],class:M(A(s).be("panel","item")),label:t[A(u).key],disabled:t[A(u).disabled],"validate-event":!1},{default:G((()=>{var l;return[K(o,{option:null==(l=e.optionRender)?void 0:l.call(e,t)},null,8,["option"])]})),_:2},1032,["class","label","disabled"])))),128))])),_:1},8,["modelValue","class"]),[[Pe,!A(f)&&!A(Se)(e.data)]]),Ie(te("p",{class:M(A(s).be("panel","empty"))},J(A(f)?A(r)("el.transfer.noMatch"):A(r)("el.transfer.noData")),3),[[Pe,A(f)||A(Se)(e.data)]])],2),A(v)?(E(),T("p",{key:0,class:M(A(s).be("panel","footer"))},[I(e.$slots,"default")],2)):ee("v-if",!0)],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer-panel.vue"]]);const Fs={key:0},js={key:0},Ks=x({name:"ElTransfer"});const Rs=ne(D(x({...Ks,props:Is,emits:As,setup(e,{expose:t,emit:l}){const n=e,a=q(),{t:o}=ge(),r=C("transfer"),{formItem:s}=El(),i=O({leftChecked:[],rightChecked:[]}),u=_s(n),{sourceData:d,targetData:c}=(e=>{const t=_s(e),l=k((()=>e.data.reduce(((e,l)=>(e[l[t.value.key]]=l)&&e),{})));return{sourceData:k((()=>e.data.filter((l=>!e.modelValue.includes(l[t.value.key]))))),targetData:k((()=>"original"===e.targetOrder?e.data.filter((l=>e.modelValue.includes(l[t.value.key]))):e.modelValue.reduce(((e,t)=>{const n=l.value[t];return n&&e.push(n),e}),[])))}})(n),{onSourceCheckedChange:p,onTargetCheckedChange:h}=((e,t)=>({onSourceCheckedChange:(l,n)=>{e.leftChecked=l,n&&t(Es,l,n)},onTargetCheckedChange:(l,n)=>{e.rightChecked=l,n&&t(Ts,l,n)}}))(i,l),{addToLeft:f,addToRight:v}=((e,t,l)=>{const n=_s(e),a=(e,t,n)=>{l(bl,e),l(kl,e,t,n)};return{addToLeft:()=>{const l=e.modelValue.slice();t.rightChecked.forEach((e=>{const t=l.indexOf(e);t>-1&&l.splice(t,1)})),a(l,"left",t.rightChecked)},addToRight:()=>{let l=e.modelValue.slice();const o=e.data.filter((l=>{const a=l[n.value.key];return t.leftChecked.includes(a)&&!e.modelValue.includes(a)})).map((e=>e[n.value.key]));l="unshift"===e.targetOrder?o.concat(l):l.concat(o),"original"===e.targetOrder&&(l=e.data.filter((e=>l.includes(e[n.value.key]))).map((e=>e[n.value.key]))),a(l,"right",t.leftChecked)}}})(n,i,l),m=y(),g=y(),b=k((()=>2===n.buttonTexts.length)),x=k((()=>n.titles[0]||o("el.transfer.titles.0"))),N=k((()=>n.titles[1]||o("el.transfer.titles.1"))),V=k((()=>n.filterPlaceholder||o("el.transfer.filterPlaceholder")));w((()=>n.modelValue),(()=>{var e;n.validateEvent&&(null==(e=null==s?void 0:s.validate)||e.call(s,"change").catch((e=>S())))}));const D=k((()=>e=>n.renderContent?n.renderContent(ye,e):a.default?a.default({option:e}):ye("span",e[u.value.label]||e[u.value.key])));return t({clearQuery:e=>{switch(e){case"left":m.value.query="";break;case"right":g.value.query=""}},leftPanel:m,rightPanel:g}),(e,t)=>(E(),T("div",{class:M(A(r).b())},[K($s,{ref_key:"leftPanel",ref:m,data:A(d),"option-render":A(D),placeholder:A(V),title:A(x),filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,"default-checked":e.leftDefaultChecked,props:n.props,onCheckedChange:A(p)},{default:G((()=>[I(e.$slots,"left-footer")])),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),te("div",{class:M(A(r).e("buttons"))},[K(A(Qt),{type:"primary",class:M([A(r).e("button"),A(r).is("with-texts",A(b))]),disabled:A(Se)(i.rightChecked),onClick:A(f)},{default:G((()=>[K(A(de),null,{default:G((()=>[K(A(ht))])),_:1}),A(Ne)(e.buttonTexts[0])?ee("v-if",!0):(E(),T("span",Fs,J(e.buttonTexts[0]),1))])),_:1},8,["class","disabled","onClick"]),K(A(Qt),{type:"primary",class:M([A(r).e("button"),A(r).is("with-texts",A(b))]),disabled:A(Se)(i.leftChecked),onClick:A(v)},{default:G((()=>[A(Ne)(e.buttonTexts[1])?ee("v-if",!0):(E(),T("span",js,J(e.buttonTexts[1]),1)),K(A(de),null,{default:G((()=>[K(A(xe))])),_:1})])),_:1},8,["class","disabled","onClick"])],2),K($s,{ref_key:"rightPanel",ref:g,data:A(c),"option-render":A(D),placeholder:A(V),filterable:e.filterable,format:e.format,"filter-method":e.filterMethod,title:A(N),"default-checked":e.rightDefaultChecked,props:n.props,onCheckedChange:A(h)},{default:G((()=>[I(e.$slots,"right-footer")])),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/transfer/src/transfer.vue"]])),zs="$treeNodeId",qs=function(e,t){t&&!t[zs]&&Object.defineProperty(t,zs,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},Ws=function(e,t){return e?t[e]:t[zs]},Hs=(e,t,l)=>{const n=e.value.currentNode;l();const a=e.value.currentNode;n!==a&&t("current-change",a?a.data:null,a)},Us=e=>{let t=!0,l=!0,n=!0;for(let a=0,o=e.length;a<o;a++){const o=e[a];(!0!==o.checked||o.indeterminate)&&(t=!1,o.disabled||(n=!1)),(!1!==o.checked||o.indeterminate)&&(l=!1)}return{all:t,none:l,allWithoutDisable:n,half:!t&&!l}},Gs=function(e){if(0===e.childNodes.length||e.loading)return;const{all:t,none:l,half:n}=Us(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):n?(e.checked=!1,e.indeterminate=!0):l&&(e.checked=!1,e.indeterminate=!1);const a=e.parent;a&&0!==a.level&&(e.store.checkStrictly||Gs(a))},Ys=function(e,t){const l=e.store.props,n=e.data||{},a=l[t];if("function"==typeof a)return a(n,e);if("string"==typeof a)return n[a];if(void 0===a){const e=n[t];return void 0===e?"":e}};let Xs=0;class Qs{constructor(e){this.id=Xs++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const t in e)$e(e,t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const t=e.props;if(t&&void 0!==t.isLeaf){const e=Ys(this,"isLeaf");"boolean"==typeof e&&(this.isLeafByUser=e)}if(!0!==e.lazy&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||qs(this,this.data),!this.data)return;const l=e.defaultExpandedKeys,n=e.key;n&&l&&l.includes(this.key)&&this.expand(null,e.autoExpandParent),n&&void 0!==e.currentNodeKey&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),!this.parent||1!==this.level&&!0!==this.parent.expanded||(this.canFocus=!0)}setData(e){let t;Array.isArray(e)||qs(this,e),this.data=e,this.childNodes=[],t=0===this.level&&Array.isArray(this.data)?this.data:Ys(this,"children")||[];for(let l=0,n=t.length;l<n;l++)this.insertChild({data:t[l]})}get label(){return Ys(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return Ys(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some((l=>l===e||t&&l.contains(e)))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,t,l){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof Qs)){if(!l){const l=this.getChildren(!0);l.includes(e.data)||(void 0===t||t<0?l.push(e.data):l.splice(t,0,e.data))}Object.assign(e,{parent:this,store:this.store}),(e=O(new Qs(e)))instanceof Qs&&e.initialize()}e.level=this.level+1,void 0===t||t<0?this.childNodes.push(e):this.childNodes.splice(t,0,e),this.updateLeafState()}insertBefore(e,t){let l;t&&(l=this.childNodes.indexOf(t)),this.insertChild(e,l)}insertAfter(e,t){let l;t&&(l=this.childNodes.indexOf(t),-1!==l&&(l+=1)),this.insertChild(e,l)}removeChild(e){const t=this.getChildren()||[],l=t.indexOf(e.data);l>-1&&t.splice(l,1);const n=this.childNodes.indexOf(e);n>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(n,1)),this.updateLeafState()}removeChildByData(e){let t=null;for(let l=0;l<this.childNodes.length;l++)if(this.childNodes[l].data===e){t=this.childNodes[l];break}t&&this.removeChild(t)}expand(e,t){const l=()=>{if(t){let e=this.parent;for(;e.level>0;)e.expanded=!0,e=e.parent}this.expanded=!0,e&&e(),this.childNodes.forEach((e=>{e.canFocus=!0}))};this.shouldLoadData()?this.loadData((e=>{Array.isArray(e)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Gs(this),l())})):l()}doCreateChildren(e,t={}){e.forEach((e=>{this.insertChild(Object.assign({data:e},t),void 0,!0)}))}collapse(){this.expanded=!1,this.childNodes.forEach((e=>{e.canFocus=!1}))}shouldLoadData(){return!0===this.store.lazy&&this.store.load&&!this.loaded}updateLeafState(){if(!0===this.store.lazy&&!0!==this.loaded&&void 0!==this.isLeafByUser)return void(this.isLeaf=this.isLeafByUser);const e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}setChecked(e,t,l,n){if(this.indeterminate="half"===e,this.checked=!0===e,this.store.checkStrictly)return;if(!this.shouldLoadData()||this.store.checkDescendants){const{all:l,allWithoutDisable:a}=Us(this.childNodes);this.isLeaf||l||!a||(this.checked=!1,e=!1);const o=()=>{if(t){const l=this.childNodes;for(let r=0,s=l.length;r<s;r++){const a=l[r];n=n||!1!==e;const o=a.disabled?a.checked:n;a.setChecked(o,t,!0,n)}const{half:a,all:o}=Us(l);o||(this.checked=o,this.indeterminate=a)}};if(this.shouldLoadData())return void this.loadData((()=>{o(),Gs(this)}),{checked:!1!==e});o()}const a=this.parent;a&&0!==a.level&&(l||Gs(a))}getChildren(e=!1){if(0===this.level)return this.data;const t=this.data;if(!t)return null;const l=this.store.props;let n="children";return l&&(n=l.children||"children"),void 0===t[n]&&(t[n]=null),e&&!t[n]&&(t[n]=[]),t[n]}updateChildren(){const e=this.getChildren()||[],t=this.childNodes.map((e=>e.data)),l={},n=[];e.forEach(((e,a)=>{const o=e[zs];!!o&&t.findIndex((e=>e[zs]===o))>=0?l[o]={index:a,data:e}:n.push({index:a,data:e})})),this.store.lazy||t.forEach((e=>{l[e[zs]]||this.removeChildByData(e)})),n.forEach((({index:e,data:t})=>{this.insertChild({data:t},e)})),this.updateLeafState()}loadData(e,t={}){if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(t).length)e&&e.call(this);else{this.loading=!0;const l=l=>{this.childNodes=[],this.doCreateChildren(l,t),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,l)};this.store.load(this,l)}}}class Zs{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const t in e)$e(e,t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){if(this.root=new Qs({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){(0,this.load)(this.root,(e=>{this.root.doCreateChildren(e),this._initDefaultCheckedNodes()}))}else this._initDefaultCheckedNodes()}filter(e){const t=this.filterNodeMethod,l=this.lazy,n=function(a){const o=a.root?a.root.childNodes:a.childNodes;if(o.forEach((l=>{l.visible=t.call(l,e,l.data,l),n(l)})),!a.visible&&o.length){let e=!0;e=!o.some((e=>e.visible)),a.root?a.root.visible=!1===e:a.visible=!1===e}e&&(!a.visible||a.isLeaf||l||a.expand())};n(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof Qs)return e;const t=re(e)?Ws(this.key,e):e;return this.nodesMap[t]||null}insertBefore(e,t){const l=this.getNode(t);l.parent.insertBefore({data:e},l)}insertAfter(e,t){const l=this.getNode(t);l.parent.insertAfter({data:e},l)}remove(e){const t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){const l=t?this.getNode(t):this.root;l&&l.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach((e=>{const l=t[e];l&&l.setChecked(!0,!this.checkStrictly)}))}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const t=this.key;if(e&&e.data)if(t){void 0!==e.key&&(this.nodesMap[e.key]=e)}else this.nodesMap[e.id]=e}deregisterNode(e){this.key&&e&&e.data&&(e.childNodes.forEach((e=>{this.deregisterNode(e)})),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){const l=[],n=function(a){(a.root?a.root.childNodes:a.childNodes).forEach((a=>{(a.checked||t&&a.indeterminate)&&(!e||e&&a.isLeaf)&&l.push(a.data),n(a)}))};return n(this),l}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map((e=>(e||{})[this.key]))}getHalfCheckedNodes(){const e=[],t=function(l){(l.root?l.root.childNodes:l.childNodes).forEach((l=>{l.indeterminate&&e.push(l.data),t(l)}))};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map((e=>(e||{})[this.key]))}_getAllNodes(){const e=[],t=this.nodesMap;for(const l in t)$e(t,l)&&e.push(t[l]);return e}updateChildren(e,t){const l=this.nodesMap[e];if(!l)return;const n=l.childNodes;for(let a=n.length-1;a>=0;a--){const e=n[a];this.remove(e.data)}for(let a=0,o=t.length;a<o;a++){const e=t[a];this.append(e,l.data)}}_setCheckedKeys(e,t=!1,l){const n=this._getAllNodes().sort(((e,t)=>t.level-e.level)),a=Object.create(null),o=Object.keys(l);n.forEach((e=>e.setChecked(!1,!1)));for(let r=0,s=n.length;r<s;r++){const l=n[r],s=l.data[e].toString();if(!o.includes(s)){l.checked&&!a[s]&&l.setChecked(!1,!1);continue}let i=l.parent;for(;i&&i.level>0;)a[i.data[e]]=!0,i=i.parent;if(l.isLeaf||this.checkStrictly)l.setChecked(!0,!1);else if(l.setChecked(!0,!0),t){l.setChecked(!1,!1);const e=function(t){t.childNodes.forEach((t=>{t.isLeaf||t.setChecked(!1,!1),e(t)}))};e(l)}}}setCheckedNodes(e,t=!1){const l=this.key,n={};e.forEach((e=>{n[(e||{})[l]]=!0})),this._setCheckedKeys(l,t,n)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;const l=this.key,n={};e.forEach((e=>{n[e]=!0})),this._setCheckedKeys(l,t,n)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach((e=>{const t=this.getNode(e);t&&t.expand(null,this.autoExpandParent)}))}setChecked(e,t,l){const n=this.getNode(e);n&&n.setChecked(!!t,l)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){const l=e[this.key],n=this.nodesMap[l];this.setCurrentNode(n),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,t=!0){if(null==e)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);const l=this.getNode(e);l&&(this.setCurrentNode(l),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}var Js=D(x({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=C("tree"),l=P("NodeInstance"),n=P("RootTree");return()=>{const a=e.node,{data:o,store:r}=a;return e.renderContent?e.renderContent(ye,{_self:l,node:a,data:o,store:r}):n.ctx.slots.default?n.ctx.slots.default({node:a,data:o}):ye("span",{class:t.be("node","label")},[a.label])}}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function ei(e){const t=P("TreeNodeMap",null),l={treeNodeExpand:t=>{e.node!==t&&e.node.collapse()},children:[]};return t&&t.children.push(l),N("TreeNodeMap",l),{broadcastExpanded:t=>{if(e.accordion)for(const e of l.children)e.treeNodeExpand(t)}}}const ti=Symbol("dragEvents");const li=x({name:"ElTreeNode",components:{ElCollapseTransition:$l,ElCheckbox:qt,NodeContent:Js,ElIcon:de,Loading:ce},props:{node:{type:Qs,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const l=C("tree"),{broadcastExpanded:n}=ei(e),a=P("RootTree"),o=y(!1),r=y(!1),s=y(null),i=y(null),u=y(null),d=P(ti),c=we();N("NodeInstance",c),e.node.expanded&&(o.value=!0,r.value=!0);const p=a.props.props.children||"children";w((()=>{const t=e.node.data[p];return t&&[...t]}),(()=>{e.node.updateChildren()})),w((()=>e.node.indeterminate),(t=>{h(e.node.checked,t)})),w((()=>e.node.checked),(t=>{h(t,e.node.indeterminate)})),w((()=>e.node.expanded),(e=>{z((()=>o.value=e)),e&&(r.value=!0)}));const h=(t,l)=>{s.value===t&&i.value===l||a.ctx.emit("check-change",e.node.data,t,l),s.value=t,i.value=l},f=()=>{e.node.isLeaf||(o.value?(a.ctx.emit("node-collapse",e.node.data,e.node,c),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,c)))},v=(t,l)=>{e.node.setChecked(l.target.checked,!a.props.checkStrictly),z((()=>{const t=a.store.value;a.ctx.emit("check",e.node.data,{checkedNodes:t.getCheckedNodes(),checkedKeys:t.getCheckedKeys(),halfCheckedNodes:t.getHalfCheckedNodes(),halfCheckedKeys:t.getHalfCheckedKeys()})}))};return{ns:l,node$:u,tree:a,expanded:o,childNodeRendered:r,oldChecked:s,oldIndeterminate:i,getNodeKey:e=>Ws(a.props.nodeKey,e.data),getNodeClass:t=>{const l=e.props.class;if(!l)return{};let n;if(L(l)){const{data:e}=t;n=l(e,t)}else n=l;return g(n)?{[n]:!0}:n},handleSelectChange:h,handleClick:t=>{Hs(a.store,a.ctx.emit,(()=>a.store.value.setCurrentNode(e.node))),a.currentNode.value=e.node,a.props.expandOnClickNode&&f(),a.props.checkOnClickNode&&!e.node.disabled&&v(null,{target:{checked:!e.node.checked}}),a.ctx.emit("node-click",e.node.data,e.node,c,t)},handleContextMenu:t=>{a.instance.vnode.props.onNodeContextmenu&&(t.stopPropagation(),t.preventDefault()),a.ctx.emit("node-contextmenu",t,e.node.data,e.node,c)},handleExpandIconClick:f,handleCheckChange:v,handleChildNodeExpand:(e,t,l)=>{n(t),a.ctx.emit("node-expand",e,t,l)},handleDragStart:t=>{a.props.draggable&&d.treeNodeDragStart({event:t,treeNode:e})},handleDragOver:t=>{t.preventDefault(),a.props.draggable&&d.treeNodeDragOver({event:t,treeNode:{$el:u.value,node:e.node}})},handleDrop:e=>{e.preventDefault()},handleDragEnd:e=>{a.props.draggable&&d.treeNodeDragEnd(e)},CaretRight:mt}}}),ni=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],ai=["aria-expanded"];var oi=D(x({name:"ElTree",components:{ElTreeNode:D(li,[["render",function(e,t,l,n,a,o){const r=Ce("el-icon"),s=Ce("el-checkbox"),i=Ce("loading"),u=Ce("node-content"),d=Ce("el-tree-node"),c=Ce("el-collapse-transition");return Ie((E(),T("div",{ref:"node$",class:M([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=ve(((...t)=>e.handleClick&&e.handleClick(...t)),["stop"])),onContextmenu:t[2]||(t[2]=(...t)=>e.handleContextMenu&&e.handleContextMenu(...t)),onDragstart:t[3]||(t[3]=ve(((...t)=>e.handleDragStart&&e.handleDragStart(...t)),["stop"])),onDragover:t[4]||(t[4]=ve(((...t)=>e.handleDragOver&&e.handleDragOver(...t)),["stop"])),onDragend:t[5]||(t[5]=ve(((...t)=>e.handleDragEnd&&e.handleDragEnd(...t)),["stop"])),onDrop:t[6]||(t[6]=ve(((...t)=>e.handleDrop&&e.handleDrop(...t)),["stop"]))},[te("div",{class:M(e.ns.be("node","content")),style:Q({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(E(),Y(r,{key:0,class:M([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:ve(e.handleExpandIconClick,["stop"])},{default:G((()=>[(E(),Y(X(e.tree.props.icon||e.CaretRight)))])),_:1},8,["class","onClick"])):ee("v-if",!0),e.showCheckbox?(E(),Y(s,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=ve((()=>{}),["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):ee("v-if",!0),e.node.loading?(E(),Y(r,{key:2,class:M([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:G((()=>[K(i)])),_:1},8,["class"])):ee("v-if",!0),K(u,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),K(c,null,{default:G((()=>[!e.renderAfterExpand||e.childNodeRendered?Ie((E(),T("div",{key:0,class:M(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(E(!0),T(R,null,pe(e.node.childNodes,(t=>(E(),Y(d,{key:e.getNodeKey(t),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:t,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"])))),128))],10,ai)),[[Pe,e.expanded]]):ee("v-if",!0)])),_:1})],42,ni)),[[Pe,e.node.visible]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]])},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Xe}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:l}=ge(),n=C("tree"),a=y(new Zs({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));a.value.initialize();const o=y(a.value.root),r=y(null),s=y(null),i=y(null),{broadcastExpanded:u}=ei(e),{dragState:d}=function({props:e,ctx:t,el$:l,dropIndicator$:n,store:a}){const o=C("tree"),r=y({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return N(ti,{treeNodeDragStart:({event:l,treeNode:n})=>{if("function"==typeof e.allowDrag&&!e.allowDrag(n.node))return l.preventDefault(),!1;l.dataTransfer.effectAllowed="move";try{l.dataTransfer.setData("text/plain","")}catch(Au){}r.value.draggingNode=n,t.emit("node-drag-start",n.node,l)},treeNodeDragOver:({event:a,treeNode:s})=>{const i=s,u=r.value.dropNode;u&&u.node.id!==i.node.id&&ft(u.$el,o.is("drop-inner"));const d=r.value.draggingNode;if(!d||!i)return;let c=!0,p=!0,h=!0,f=!0;"function"==typeof e.allowDrop&&(c=e.allowDrop(d.node,i.node,"prev"),f=p=e.allowDrop(d.node,i.node,"inner"),h=e.allowDrop(d.node,i.node,"next")),a.dataTransfer.dropEffect=p||c||h?"move":"none",(c||p||h)&&(null==u?void 0:u.node.id)!==i.node.id&&(u&&t.emit("node-drag-leave",d.node,u.node,a),t.emit("node-drag-enter",d.node,i.node,a)),(c||p||h)&&(r.value.dropNode=i),i.node.nextSibling===d.node&&(h=!1),i.node.previousSibling===d.node&&(c=!1),i.node.contains(d.node,!1)&&(p=!1),(d.node===i.node||d.node.contains(i.node))&&(c=!1,p=!1,h=!1);const v=i.$el.querySelector(`.${o.be("node","content")}`).getBoundingClientRect(),m=l.value.getBoundingClientRect();let g;const b=c?p?.25:h?.45:1:-1,y=h?p?.75:c?.55:0:1;let k=-9999;const x=a.clientY-v.top;g=x<v.height*b?"before":x>v.height*y?"after":p?"inner":"none";const C=i.$el.querySelector(`.${o.be("node","expand-icon")}`).getBoundingClientRect(),w=n.value;"before"===g?k=C.top-m.top:"after"===g&&(k=C.bottom-m.top),w.style.top=`${k}px`,w.style.left=C.right-m.left+"px","inner"===g?vt(i.$el,o.is("drop-inner")):ft(i.$el,o.is("drop-inner")),r.value.showDropIndicator="before"===g||"after"===g,r.value.allowDrop=r.value.showDropIndicator||f,r.value.dropType=g,t.emit("node-drag-over",d.node,i.node,a)},treeNodeDragEnd:e=>{const{draggingNode:l,dropType:n,dropNode:s}=r.value;if(e.preventDefault(),e.dataTransfer.dropEffect="move",l&&s){const r={data:l.node.data};"none"!==n&&l.node.remove(),"before"===n?s.node.parent.insertBefore(r,s.node):"after"===n?s.node.parent.insertAfter(r,s.node):"inner"===n&&s.node.insertChild(r),"none"!==n&&a.value.registerNode(r),ft(s.$el,o.is("drop-inner")),t.emit("node-drag-end",l.node,s.node,n,e),"none"!==n&&t.emit("node-drop",l.node,s.node,n,e)}l&&!s&&t.emit("node-drag-end",l.node,null,n,e),r.value.showDropIndicator=!1,r.value.draggingNode=null,r.value.dropNode=null,r.value.allowDrop=!0}}),{dragState:r}}({props:e,ctx:t,el$:s,dropIndicator$:i,store:a});!function({el$:e},t){const l=C("tree"),n=Be([]),a=Be([]);B((()=>{o()})),F((()=>{n.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))})),w(a,(e=>{e.forEach((e=>{e.setAttribute("tabindex","-1")}))})),dt(e,"keydown",(a=>{const o=a.target;if(!o.className.includes(l.b("node")))return;const r=a.code;n.value=Array.from(e.value.querySelectorAll(`.${l.is("focusable")}[role=treeitem]`));const s=n.value.indexOf(o);let i;if([be.up,be.down].includes(r)){if(a.preventDefault(),r===be.up){i=-1===s?0:0!==s?s-1:n.value.length-1;const e=i;for(;!t.value.getNode(n.value[i].dataset.key).canFocus;){if(i--,i===e){i=-1;break}i<0&&(i=n.value.length-1)}}else{i=-1===s?0:s<n.value.length-1?s+1:0;const e=i;for(;!t.value.getNode(n.value[i].dataset.key).canFocus;){if(i++,i===e){i=-1;break}i>=n.value.length&&(i=0)}}-1!==i&&n.value[i].focus()}[be.left,be.right].includes(r)&&(a.preventDefault(),o.click());const u=o.querySelector('[type="checkbox"]');[be.enter,be.space].includes(r)&&u&&(a.preventDefault(),u.click())}));const o=()=>{var t;n.value=Array.from(e.value.querySelectorAll(`.${l.is("focusable")}[role=treeitem]`)),a.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const o=e.value.querySelectorAll(`.${l.is("checked")}[role=treeitem]`);o.length?o[0].setAttribute("tabindex","0"):null==(t=n.value[0])||t.setAttribute("tabindex","0")}}({el$:s},a);const c=k((()=>{const{childNodes:e}=o.value;return!e||0===e.length||e.every((({visible:e})=>!e))}));w((()=>e.currentNodeKey),(e=>{a.value.setCurrentNodeKey(e)})),w((()=>e.defaultCheckedKeys),(e=>{a.value.setDefaultCheckedKey(e)})),w((()=>e.defaultExpandedKeys),(e=>{a.value.setDefaultExpandedKeys(e)})),w((()=>e.data),(e=>{a.value.setData(e)}),{deep:!0}),w((()=>e.checkStrictly),(e=>{a.value.checkStrictly=e}));const p=()=>{const e=a.value.getCurrentNode();return e?e.data:null};return N("RootTree",{ctx:t,props:e,store:a,root:o,currentNode:r,instance:we()}),N(wl,void 0),{ns:n,store:a,root:o,currentNode:r,dragState:d,el$:s,dropIndicator$:i,isEmpty:c,filter:t=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(t)},getNodeKey:t=>Ws(e.nodeKey,t.data),getNodePath:t=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const l=a.value.getNode(t);if(!l)return[];const n=[l.data];let r=l.parent;for(;r&&r!==o.value;)n.push(r.data),r=r.parent;return n.reverse()},getCheckedNodes:(e,t)=>a.value.getCheckedNodes(e,t),getCheckedKeys:e=>a.value.getCheckedKeys(e),getCurrentNode:p,getCurrentKey:()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const t=p();return t?t[e.nodeKey]:null},setCheckedNodes:(t,l)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(t,l)},setCheckedKeys:(t,l)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(t,l)},setChecked:(e,t,l)=>{a.value.setChecked(e,t,l)},getHalfCheckedNodes:()=>a.value.getHalfCheckedNodes(),getHalfCheckedKeys:()=>a.value.getHalfCheckedKeys(),setCurrentNode:(l,n=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Hs(a,t.emit,(()=>a.value.setUserCurrentNode(l,n)))},setCurrentKey:(l,n=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Hs(a,t.emit,(()=>a.value.setCurrentNodeKey(l,n)))},t:l,getNode:e=>a.value.getNode(e),remove:e=>{a.value.remove(e)},append:(e,t)=>{a.value.append(e,t)},insertBefore:(e,t)=>{a.value.insertBefore(e,t)},insertAfter:(e,t)=>{a.value.insertAfter(e,t)},handleNodeExpand:(e,l,n)=>{u(l),t.emit("node-expand",e,l,n)},updateKeyChildren:(t,l)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(t,l)}}}}),[["render",function(e,t,l,n,a,o){const r=Ce("el-tree-node");return E(),T("div",{ref:"el$",class:M([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner","inner"===e.dragState.dropType),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(E(!0),T(R,null,pe(e.root.childNodes,(t=>(E(),Y(r,{key:e.getNodeKey(t),node:t,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"])))),128)),e.isEmpty?(E(),T("div",{key:0,class:M(e.ns.e("empty-block"))},[I(e.$slots,"empty",{},(()=>{var t;return[te("span",{class:M(e.ns.e("empty-text"))},J(null!=(t=e.emptyText)?t:e.t("el.tree.emptyText")),3)]}))],2)):ee("v-if",!0),Ie(te("div",{ref:"dropIndicator$",class:M(e.ns.e("drop-indicator"))},null,2),[[Pe,e.dragState.showDropIndicator]])],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);oi.install=e=>{e.component(oi.name,oi)};const ri=oi,si=ri,ii=x({extends:Io,setup(e,t){const l=Io.setup(e,t);delete l.selectOptionClick;const n=we().proxy;return z((()=>{l.select.cachedOptions.get(n.value)||l.select.onOptionCreate(n)})),l},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function ui(e){return e||0===e}function di(e){return Array.isArray(e)&&e.length}function ci(e){return Array.isArray(e)?e:ui(e)?[e]:[]}function pi(e,t,l,n,a){for(let o=0;o<e.length;o++){const r=e[o];if(t(r,o,e,a))return n?n(r,o,e,a):r;{const e=l(r);if(di(e)){const a=pi(e,t,l,n,r);if(a)return a}}}}function hi(e,t,l,n){for(let a=0;a<e.length;a++){const o=e[a];t(o,a,e,n);const r=l(o);di(r)&&hi(r,t,l,o)}}const fi=(e,{attrs:t,slots:l,emit:n},{select:a,tree:o,key:r})=>{w((()=>e.modelValue),(()=>{e.showCheckbox&&z((()=>{const t=o.value;t&&!_l(t.getCheckedKeys(),ci(e.modelValue))&&t.setCheckedKeys(ci(e.modelValue))}))}),{immediate:!0,deep:!0});const s=k((()=>({value:r.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...e.props}))),i=(e,t)=>{var l;const n=s.value[e];return L(n)?n(t,null==(l=o.value)?void 0:l.getNode(i("value",t))):t[n]},u=ci(e.modelValue).map((t=>pi(e.data||[],(e=>i("value",e)===t),(e=>i("children",e)),((e,t,l,n)=>n&&i("value",n))))).filter((e=>ui(e))),d=k((()=>{if(!e.renderAfterExpand&&!e.lazy)return[];const t=[];return hi(e.data.concat(e.cacheData),(e=>{const l=i("value",e);t.push({value:l,currentLabel:i("label",e),isDisabled:i("disabled",e)})}),(e=>i("children",e))),t})),c=k((()=>d.value.reduce(((e,t)=>({...e,[t.value]:t})),{})));return{...Gt(V(e),Object.keys(ri.props)),...t,nodeKey:r,expandOnClickNode:k((()=>!e.checkStrictly&&e.expandOnClickNode)),defaultExpandedKeys:k((()=>e.defaultExpandedKeys?e.defaultExpandedKeys.concat(u):u)),renderContent:(t,{node:n,data:a,store:o})=>t(ii,{value:i("value",a),label:i("label",a),disabled:i("disabled",a)},e.renderContent?()=>e.renderContent(t,{node:n,data:a,store:o}):l.default?()=>l.default({node:n,data:a,store:o}):void 0),filterNodeMethod:(t,l,n)=>{var a;return e.filterNodeMethod?e.filterNodeMethod(t,l,n):!t||(null==(a=i("label",l))?void 0:a.includes(t))},onNodeClick:(l,n,o)=>{var r,s,u;if(null==(r=t.onNodeClick)||r.call(t,l,n,o),!e.showCheckbox||!e.checkOnClickNode)if(e.showCheckbox||!e.checkStrictly&&!n.isLeaf)e.expandOnClickNode&&o.proxy.handleExpandIconClick();else if(!i("disabled",l)){const e=null==(s=a.value)?void 0:s.options.get(i("value",l));null==(u=a.value)||u.handleOptionSelect(e)}},onCheck:(l,a)=>{if(!e.showCheckbox)return;const r=i("value",l),s=a.checkedKeys,u=e.multiple?ci(e.modelValue).filter((e=>e in c.value&&!o.value.getNode(e)&&!s.includes(e))):[],d=s.concat(u);if(e.checkStrictly)n(bl,e.multiple?d:d.includes(r)?r:void 0);else if(e.multiple)n(bl,o.value.getCheckedKeys(!0));else{const t=pi([l],(e=>!di(i("children",e))&&!i("disabled",e)),(e=>i("children",e))),a=t?i("value",t):void 0,o=ui(e.modelValue)&&!!pi([l],(t=>i("value",t)===e.modelValue),(e=>i("children",e)));n(bl,a===e.modelValue||o?void 0:a)}z((()=>{var n;const a=ci(e.modelValue);o.value.setCheckedKeys(a),null==(n=t.onCheck)||n.call(t,l,{checkedKeys:o.value.getCheckedKeys(),checkedNodes:o.value.getCheckedNodes(),halfCheckedKeys:o.value.getHalfCheckedKeys(),halfCheckedNodes:o.value.getHalfCheckedNodes()})}))},cacheOptions:d}};var vi=x({props:{data:{type:Array,default:()=>[]}},setup(e){const t=P(go);return w((()=>e.data),(()=>{var l;e.data.forEach((e=>{t.cachedOptions.has(e.value)||t.cachedOptions.set(e.value,e)}));const n=(null==(l=t.selectWrapper)?void 0:l.querySelectorAll("input"))||[];Array.from(n).includes(document.activeElement)||t.setSelected()}),{flush:"post",immediate:!0}),()=>{}}});var mi=D(x({name:"ElTreeSelect",inheritAttrs:!1,props:{...To.props,...ri.props,cacheData:{type:Array,default:()=>[]}},setup(e,t){const{slots:l,expose:n}=t,a=y(),o=y(),r=k((()=>e.nodeKey||e.valueKey||"value")),s=((e,{attrs:t},{tree:l,key:n})=>{const a=C("tree-select"),o={...Gt(V(e),Object.keys(To.props)),...t,valueKey:n,popperClass:k((()=>{const t=[a.e("popper")];return e.popperClass&&t.push(e.popperClass),t.join(" ")})),filterMethod:(t="")=>{e.filterMethod&&e.filterMethod(t),z((()=>{var e;null==(e=l.value)||e.filter(t)}))},onVisibleChange:l=>{var n;null==(n=t.onVisibleChange)||n.call(t,l),e.filterable&&l&&o.filterMethod()}};return o})(e,t,{select:a,tree:o,key:r}),{cacheOptions:i,...u}=fi(e,t,{select:a,tree:o,key:r}),d=O({});return n(d),B((()=>{Object.assign(d,{...Gt(o.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...Gt(a.value,["focus","blur"])})})),()=>ye(To,O({...s,ref:e=>a.value=e}),{...l,default:()=>[ye(vi,{data:i.value}),ye(ri,O({...u,ref:e=>o.value=e}))]})}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree-select/src/tree-select.vue"]]);mi.install=e=>{e.component(mi.name,mi)};const gi=mi,bi=(e,t)=>e.push.apply(e,t),yi=e=>e.sort(((e,t)=>e.i-t.i||e.j-t.j)),ki=e=>{const t={};let l=1;return e.forEach((e=>{t[e]=l,l+=1})),t};const xi={4:[[1,2],[2,3]],5:[[1,3],[2,3],[2,4]],6:[[1,2],[2,4],[4,5]],7:[[1,3],[2,3],[4,5],[4,6]],8:[[2,4],[4,6]]},Ci=/^[A-Z\xbf-\xdf][^A-Z\xbf-\xdf]+$/,wi=/^[^A-Z\xbf-\xdf]+[A-Z\xbf-\xdf]$/,Si=/^[A-Z\xbf-\xdf]+$/,Ni=/^[^a-z\xdf-\xff]+$/,Oi=/^[a-z\xdf-\xff]+$/,Vi=/^[^A-Z\xbf-\xdf]+$/,Ei=/[a-z\xdf-\xff]/,Ti=/[A-Z\xbf-\xdf]/,Ii=/[^A-Za-z\xbf-\xdf]/gi,Mi=/^\d+$/,Ai=(new Date).getFullYear(),Di={recentYear:/19\d\d|200\d|201\d|202\d/g},Li=[" ",",",";",":","|","/","\\","_",".","-"],Pi=Li.length;class _i{match({password:e}){const t=[...this.getMatchesWithoutSeparator(e),...this.getMatchesWithSeparator(e)],l=this.filterNoise(t);return yi(l)}getMatchesWithSeparator(e){const t=[],l=/^(\d{1,4})([\s/\\_.-])(\d{1,2})\2(\d{1,4})$/;for(let n=0;n<=Math.abs(e.length-6);n+=1)for(let a=n+5;a<=n+9&&!(a>=e.length);a+=1){const o=e.slice(n,+a+1||9e9),r=l.exec(o);if(null!=r){const e=this.mapIntegersToDayMonthYear([parseInt(r[1],10),parseInt(r[3],10),parseInt(r[4],10)]);null!=e&&t.push({pattern:"date",token:o,i:n,j:a,separator:r[2],year:e.year,month:e.month,day:e.day})}}return t}getMatchesWithoutSeparator(e){const t=[],l=/^\d{4,8}$/,n=e=>Math.abs(e.year-Ai);for(let a=0;a<=Math.abs(e.length-4);a+=1)for(let o=a+3;o<=a+7&&!(o>=e.length);o+=1){const r=e.slice(a,+o+1||9e9);if(l.exec(r)){const e=[],l=r.length;if(xi[l].forEach((([t,l])=>{const n=this.mapIntegersToDayMonthYear([parseInt(r.slice(0,t),10),parseInt(r.slice(t,l),10),parseInt(r.slice(l),10)]);null!=n&&e.push(n)})),e.length>0){let l=e[0],s=n(e[0]);e.slice(1).forEach((e=>{const t=n(e);t<s&&(l=e,s=t)})),t.push({pattern:"date",token:r,i:a,j:o,separator:"",year:l.year,month:l.month,day:l.day})}}}return t}filterNoise(e){return e.filter((t=>{let l=!1;const n=e.length;for(let a=0;a<n;a+=1){const n=e[a];if(t!==n&&n.i<=t.i&&n.j>=t.j){l=!0;break}}return!l}))}mapIntegersToDayMonthYear(e){if(e[1]>31||e[1]<=0)return null;let t=0,l=0,n=0;for(let a=0,o=e.length;a<o;a+=1){const o=e[a];if(o>99&&o<1e3||o>2050)return null;o>31&&(l+=1),o>12&&(t+=1),o<=0&&(n+=1)}return l>=2||3===t||n>=2?null:this.getDayMonth(e)}getDayMonth(e){const t=[[e[2],e.slice(0,2)],[e[0],e.slice(1,3)]],l=t.length;for(let n=0;n<l;n+=1){const[e,l]=t[n];if(1e3<=e&&e<=2050){const t=this.mapIntegersToDayMonth(l);return null!=t?{year:e,month:t.month,day:t.day}:null}}for(let n=0;n<l;n+=1){const[e,l]=t[n],a=this.mapIntegersToDayMonth(l);if(null!=a)return{year:this.twoToFourDigitYear(e),month:a.month,day:a.day}}return null}mapIntegersToDayMonth(e){const t=[e,e.slice().reverse()];for(let l=0;l<t.length;l+=1){const e=t[l],n=e[0],a=e[1];if(n>=1&&n<=31&&a>=1&&a<=12)return{day:n,month:a}}return null}twoToFourDigitYear(e){return e>99?e:e>50?e+1900:e+2e3}}const Bi=new Uint32Array(65536),$i=(e,t)=>{if(e.length<t.length){const l=t;t=e,e=l}return 0===t.length?e.length:e.length<=32?((e,t)=>{const l=e.length,n=t.length,a=1<<l-1;let o=-1,r=0,s=l,i=l;for(;i--;)Bi[e.charCodeAt(i)]|=1<<i;for(i=0;i<n;i++){let e=Bi[t.charCodeAt(i)];const l=e|r;e|=(e&o)+o^o,r|=~(e|o),o&=e,r&a&&s++,o&a&&s--,r=r<<1|1,o=o<<1|~(l|r),r&=l}for(i=l;i--;)Bi[e.charCodeAt(i)]=0;return s})(e,t):((e,t)=>{const l=t.length,n=e.length,a=[],o=[],r=Math.ceil(l/32),s=Math.ceil(n/32);for(let f=0;f<r;f++)o[f]=-1,a[f]=0;let i=0;for(;i<s-1;i++){let r=0,s=-1;const u=32*i,d=Math.min(32,n)+u;for(let t=u;t<d;t++)Bi[e.charCodeAt(t)]|=1<<t;for(let e=0;e<l;e++){const l=Bi[t.charCodeAt(e)],n=o[e/32|0]>>>e&1,i=a[e/32|0]>>>e&1,u=l|r,d=((l|i)&s)+s^s|l|i;let c=r|~(d|s),p=s&d;c>>>31^n&&(o[e/32|0]^=1<<e),p>>>31^i&&(a[e/32|0]^=1<<e),c=c<<1|n,p=p<<1|i,s=p|~(u|c),r=c&u}for(let t=u;t<d;t++)Bi[e.charCodeAt(t)]=0}let u=0,d=-1;const c=32*i,p=Math.min(32,n-c)+c;for(let f=c;f<p;f++)Bi[e.charCodeAt(f)]|=1<<f;let h=n;for(let f=0;f<l;f++){const e=Bi[t.charCodeAt(f)],l=o[f/32|0]>>>f&1,r=a[f/32|0]>>>f&1,s=e|u,i=((e|r)&d)+d^d|e|r;let c=u|~(i|d),p=d&i;h+=c>>>n-1&1,h-=p>>>n-1&1,c>>>31^l&&(o[f/32|0]^=1<<f),p>>>31^r&&(a[f/32|0]^=1<<f),c=c<<1|l,p=p<<1|r,d=p|~(s|c),u=c&s}for(let f=c;f<p;f++)Bi[e.charCodeAt(f)]=0;return h})(e,t)},Fi=(e,t,l)=>{let n=0;const a=Object.keys(t).find((t=>{const a=((e,t,l)=>{const n=e.length<=t.length,a=e.length<=l;return n||a?Math.ceil(e.length/4):l})(e,t,l);if(Math.abs(e.length-t.length)>a)return!1;const o=$i(e,t),r=o<=a;return r&&(n=o),r}));return a?{levenshteinDistance:n,levenshteinDistanceEntry:a}:{}};var ji={a:["4","@"],b:["8"],c:["(","{","[","<"],d:["6","|)"],e:["3"],f:["#"],g:["6","9","&"],h:["#","|-|"],i:["1","!","|"],k:["<","|<"],l:["!","1","|","7"],m:["^^","nn","2n","/\\\\/\\\\"],n:["//"],o:["0","()"],q:["9"],u:["|_|"],s:["$","5"],t:["+","7"],v:["<",">","/"],w:["^/","uu","vv","2u","2v","\\\\/\\\\/"],x:["%","><"],z:["2"]},Ki={warnings:{straightRow:"straightRow",keyPattern:"keyPattern",simpleRepeat:"simpleRepeat",extendedRepeat:"extendedRepeat",sequences:"sequences",recentYears:"recentYears",dates:"dates",topTen:"topTen",topHundred:"topHundred",common:"common",similarToCommon:"similarToCommon",wordByItself:"wordByItself",namesByThemselves:"namesByThemselves",commonNames:"commonNames",userInputs:"userInputs",pwned:"pwned"},suggestions:{l33t:"l33t",reverseWords:"reverseWords",allUppercase:"allUppercase",capitalization:"capitalization",dates:"dates",recentYears:"recentYears",associatedYears:"associatedYears",sequences:"sequences",repeated:"repeated",longerKeyboardPattern:"longerKeyboardPattern",anotherWord:"anotherWord",useWords:"useWords",noNeed:"noNeed",pwned:"pwned"},timeEstimation:{ltSecond:"ltSecond",second:"second",seconds:"seconds",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",day:"day",days:"days",month:"month",months:"months",year:"year",years:"years",centuries:"centuries"}};class Ri{constructor(e=[]){this.parents=e,this.children=new Map}addSub(e,...t){const l=e.charAt(0);this.children.has(l)||this.children.set(l,new Ri([...this.parents,l]));let n=this.children.get(l);for(let a=1;a<e.length;a+=1){const t=e.charAt(a);n.hasChild(t)||n.addChild(t),n=n.getChild(t)}return n.subs=(n.subs||[]).concat(t),this}getChild(e){return this.children.get(e)}isTerminal(){return!!this.subs}addChild(e){this.hasChild(e)||this.children.set(e,new Ri([...this.parents,e]))}hasChild(e){return this.children.has(e)}}var zi=(e,t)=>(Object.entries(e).forEach((([e,l])=>{l.forEach((l=>{t.addSub(l,e)}))})),t);const qi=new class{constructor(){this.matchers={},this.l33tTable=ji,this.trieNodeRoot=zi(ji,new Ri),this.dictionary={userInputs:[]},this.rankedDictionaries={},this.rankedDictionariesMaxWordSize={},this.translations=Ki,this.graphs={},this.useLevenshteinDistance=!1,this.levenshteinThreshold=2,this.l33tMaxSubstitutions=100,this.maxLength=256,this.setRankedDictionaries()}setOptions(e={}){e.l33tTable&&(this.l33tTable=e.l33tTable,this.trieNodeRoot=zi(e.l33tTable,new Ri)),e.dictionary&&(this.dictionary=e.dictionary,this.setRankedDictionaries()),e.translations&&this.setTranslations(e.translations),e.graphs&&(this.graphs=e.graphs),void 0!==e.useLevenshteinDistance&&(this.useLevenshteinDistance=e.useLevenshteinDistance),void 0!==e.levenshteinThreshold&&(this.levenshteinThreshold=e.levenshteinThreshold),void 0!==e.l33tMaxSubstitutions&&(this.l33tMaxSubstitutions=e.l33tMaxSubstitutions),void 0!==e.maxLength&&(this.maxLength=e.maxLength)}setTranslations(e){if(!this.checkCustomTranslations(e))throw new Error("Invalid translations object fallback to keys");this.translations=e}checkCustomTranslations(e){let t=!0;return Object.keys(Ki).forEach((l=>{if(l in e){const n=l;Object.keys(Ki[n]).forEach((l=>{l in e[n]||(t=!1)}))}else t=!1})),t}setRankedDictionaries(){const e={},t={};Object.keys(this.dictionary).forEach((l=>{e[l]=ki(this.dictionary[l]),t[l]=this.getRankedDictionariesMaxWordSize(this.dictionary[l])})),this.rankedDictionaries=e,this.rankedDictionariesMaxWordSize=t}getRankedDictionariesMaxWordSize(e){const t=e.map((e=>"string"!=typeof e?e.toString().length:e.length));return 0===t.length?0:t.reduce(((e,t)=>Math.max(e,t)),-1/0)}buildSanitizedRankedDictionary(e){const t=[];return e.forEach((e=>{const l=typeof e;"string"!==l&&"number"!==l&&"boolean"!==l||t.push(e.toString().toLowerCase())})),ki(t)}extendUserInputsDictionary(e){this.dictionary.userInputs||(this.dictionary.userInputs=[]);const t=[...this.dictionary.userInputs,...e];this.rankedDictionaries.userInputs=this.buildSanitizedRankedDictionary(t),this.rankedDictionariesMaxWordSize.userInputs=this.getRankedDictionariesMaxWordSize(t)}addMatcher(e,t){this.matchers[e]||(this.matchers[e]=t)}};class Wi{constructor(e){this.defaultMatch=e}match({password:e}){const t=e.split("").reverse().join("");return this.defaultMatch({password:t}).map((t=>({...t,token:t.token.split("").reverse().join(""),reversed:!0,i:e.length-1-t.j,j:e.length-1-t.i})))}}class Hi{constructor({substr:e,limit:t,trieRoot:l}){this.buffer=[],this.finalPasswords=[],this.substr=e,this.limit=t,this.trieRoot=l}getAllPossibleSubsAtIndex(e){const t=[];let l=this.trieRoot;for(let n=e;n<this.substr.length;n+=1){const e=this.substr.charAt(n);if(l=l.getChild(e),!l)break;t.push(l)}return t}helper({onlyFullSub:e,isFullSub:t,index:l,subIndex:n,changes:a,lastSubLetter:o,consecutiveSubCount:r}){if(this.finalPasswords.length>=this.limit)return;if(l===this.substr.length)return void(e===t&&this.finalPasswords.push({password:this.buffer.join(""),changes:a}));const s=[...this.getAllPossibleSubsAtIndex(l)];let i=!1;for(let u=l+s.length-1;u>=l;u-=1){const d=s[u-l];if(d.isTerminal()){if(o===d.parents.join("")&&r>=3)continue;i=!0;const l=d.subs;for(const s of l){this.buffer.push(s);const l=a.concat({i:n,letter:s,substitution:d.parents.join("")});if(this.helper({onlyFullSub:e,isFullSub:t,index:u+1,subIndex:n+s.length,changes:l,lastSubLetter:d.parents.join(""),consecutiveSubCount:o===d.parents.join("")?r+1:1}),this.buffer.pop(),this.finalPasswords.length>=this.limit)return}}}if(!e||!i){const s=this.substr.charAt(l);this.buffer.push(s),this.helper({onlyFullSub:e,isFullSub:t&&!i,index:l+1,subIndex:n+1,changes:a,lastSubLetter:o,consecutiveSubCount:r}),this.buffer.pop()}}getAll(){return this.helper({onlyFullSub:!0,isFullSub:!0,index:0,subIndex:0,changes:[],lastSubLetter:void 0,consecutiveSubCount:0}),this.helper({onlyFullSub:!1,isFullSub:!0,index:0,subIndex:0,changes:[],lastSubLetter:void 0,consecutiveSubCount:0}),this.finalPasswords}}class Ui{constructor(e){this.defaultMatch=e}isAlreadyIncluded(e,t){return e.some((e=>Object.entries(e).every((([e,l])=>"subs"===e||l===t[e]))))}match({password:e}){const t=[],l=((e,t,l)=>new Hi({substr:e,limit:t,trieRoot:l}).getAll())(e,qi.l33tMaxSubstitutions,qi.trieNodeRoot);let n=!1,a=!0;return l.forEach((l=>{if(n)return;const o=this.defaultMatch({password:l.password,useLevenshtein:a});a=!1,o.forEach((a=>{n||(n=0===a.i&&a.j===e.length-1);const o=((e,t,l)=>{const n=e.changes.filter((e=>e.i<t)).reduce(((e,t)=>e-t.letter.length+t.substitution.length),t),a=e.changes.filter((e=>e.i>=t&&e.i<=l)),o=a.reduce(((e,t)=>e-t.letter.length+t.substitution.length),l-t+n),r=[],s=[];return a.forEach((e=>{r.findIndex((t=>t.letter===e.letter&&t.substitution===e.substitution))<0&&(r.push({letter:e.letter,substitution:e.substitution}),s.push(`${e.substitution} -> ${e.letter}`))})),{i:n,j:o,subs:r,subDisplay:s.join(", ")}})(l,a.i,a.j),r=e.slice(o.i,+o.j+1||9e9),s={...a,l33t:!0,token:r,...o},i=this.isAlreadyIncluded(t,s);r.toLowerCase()===a.matchedWord||i||t.push(s)}))})),t.filter((e=>e.token.length>1))}}class Gi{constructor(){this.l33t=new Ui(this.defaultMatch),this.reverse=new Wi(this.defaultMatch)}match({password:e}){const t=[...this.defaultMatch({password:e}),...this.reverse.match({password:e}),...this.l33t.match({password:e})];return yi(t)}defaultMatch({password:e,useLevenshtein:t=!0}){const l=[],n=e.length,a=e.toLowerCase();return Object.keys(qi.rankedDictionaries).forEach((o=>{const r=qi.rankedDictionaries[o],s=qi.rankedDictionariesMaxWordSize[o],i=Math.min(s,n);for(let u=0;u<n;u+=1){const s=Math.min(u+i,n);for(let i=u;i<s;i+=1){const s=a.slice(u,+i+1||9e9),d=s in r;let c={};const p=0===u&&i===n-1;qi.useLevenshteinDistance&&p&&!d&&t&&(c=Fi(s,r,qi.levenshteinThreshold));const h=0!==Object.keys(c).length;if(d||h){const t=r[h?c.levenshteinDistanceEntry:s];l.push({pattern:"dictionary",i:u,j:i,token:e.slice(u,+i+1||9e9),matchedWord:s,rank:t,dictionaryName:o,reversed:!1,l33t:!1,...c})}}}})),l}}class Yi{match({password:e,regexes:t=Di}){const l=[];return Object.keys(t).forEach((n=>{const a=t[n];let o;for(a.lastIndex=0;o=a.exec(e);)if(o){const e=o[0];l.push({pattern:"regex",token:e,i:o.index,j:o.index+o[0].length-1,regexName:n,regexMatch:o})}})),yi(l)}}var Xi={nCk(e,t){let l=e;if(t>l)return 0;if(0===t)return 1;let n=1;for(let a=1;a<=t;a+=1)n*=l,n/=a,l-=1;return n},log10:e=>0===e?0:Math.log(e)/Math.log(10),log2:e=>Math.log(e)/Math.log(2),factorial(e){let t=1;for(let l=2;l<=e;l+=1)t*=l;return t}};var Qi=e=>{const t=e.replace(Ii,"");if(t.match(Vi)||t.toLowerCase()===t)return 1;const l=[Ci,wi,Ni],n=l.length;for(let a=0;a<n;a+=1){const e=l[a];if(t.match(e))return 2}return(e=>{const t=e.split(""),l=t.filter((e=>e.match(Ti))).length,n=t.filter((e=>e.match(Ei))).length;let a=0;const o=Math.min(l,n);for(let r=1;r<=o;r+=1)a+=Xi.nCk(l+n,r);return a})(t)};const Zi=(e,t)=>{let l=0,n=e.indexOf(t);for(;n>=0;)l+=1,n=e.indexOf(t,n+t.length);return l};var Ji=({l33t:e,subs:t,token:l})=>{if(!e)return 1;let n=1;return t.forEach((e=>{const{subbedCount:t,unsubbedCount:a}=(({sub:e,token:t})=>{const l=t.toLowerCase();return{subbedCount:Zi(l,e.substitution),unsubbedCount:Zi(l,e.letter)}})({sub:e,token:l});if(0===t||0===a)n*=2;else{const e=Math.min(a,t);let l=0;for(let n=1;n<=e;n+=1)l+=Xi.nCk(a+t,n);n*=l}})),n};const eu=({token:e,graph:t,turns:l})=>{const n=Object.keys(qi.graphs[t]).length,a=(e=>{let t=0;return Object.keys(e).forEach((l=>{const n=e[l];t+=n.filter((e=>!!e)).length})),t/=Object.entries(e).length,t})(qi.graphs[t]);let o=0;const r=e.length;for(let s=2;s<=r;s+=1){const e=Math.min(l,s-1);for(let t=1;t<=e;t+=1)o+=Xi.nCk(s-1,t-1)*n*a**t}return o};const tu={bruteforce:({token:e})=>{let t,l=10**e.length;return l===Number.POSITIVE_INFINITY&&(l=Number.MAX_VALUE),t=1===e.length?11:51,Math.max(l,t)},date:({year:e,separator:t})=>{let l=365*Math.max(Math.abs(e-Ai),20);return t&&(l*=4),l},dictionary:({rank:e,reversed:t,l33t:l,subs:n,token:a,dictionaryName:o})=>{const r=e,s=Qi(a),i=Ji({l33t:l,subs:n,token:a});let u;return u="diceware"===o?3888:r*s*i*(t?2:1),{baseGuesses:r,uppercaseVariations:s,l33tVariations:i,calculation:u}},regex:({regexName:e,regexMatch:t,token:l})=>{const n={alphaLower:26,alphaUpper:26,alpha:52,alphanumeric:62,digits:10,symbols:33};return e in n?n[e]**l.length:"recentYear"===e?Math.max(Math.abs(parseInt(t[0],10)-Ai),20):0},repeat:({baseGuesses:e,repeatCount:t})=>e*t,sequence:({token:e,ascending:t})=>{const l=e.charAt(0);let n=0;return n=["a","A","z","Z","0","1","9"].includes(l)?4:l.match(/\d/)?10:26,t||(n*=2),n*e.length},spatial:({graph:e,token:t,shiftedCount:l,turns:n})=>{let a=eu({token:t,graph:e,turns:n});if(l){const e=t.length-l;if(0===l||0===e)a*=2;else{let t=0;for(let n=1;n<=Math.min(l,e);n+=1)t+=Xi.nCk(l+e,n);a*=t}}return Math.round(a)},separator:()=>Pi};var lu=(e,t)=>{const l={};if("guesses"in e&&null!=e.guesses)return e;const n=((e,t)=>{let l=1;return e.token.length<t.length&&(l=1===e.token.length?10:50),l})(e,t),a=((e,t)=>tu[e]?tu[e](t):qi.matchers[e]&&"scoring"in qi.matchers[e]?qi.matchers[e].scoring(t):0)(e.pattern,e);let o=0;"number"==typeof a?o=a:"dictionary"===e.pattern&&(o=a.calculation,l.baseGuesses=a.baseGuesses,l.uppercaseVariations=a.uppercaseVariations,l.l33tVariations=a.l33tVariations);const r=Math.max(o,n);return{...e,...l,guesses:r,guessesLog10:Xi.log10(r)}};const nu={password:"",optimal:{},excludeAdditive:!1,separatorRegex:void 0,fillArray(e,t){const l=[];for(let n=0;n<e;n+=1){let e=[];"object"===t&&(e={}),l.push(e)}return l},makeBruteforceMatch(e,t){return{pattern:"bruteforce",token:this.password.slice(e,+t+1||9e9),i:e,j:t}},update(e,t){const l=e.j,n=lu(e,this.password);let a=n.guesses;t>1&&(a*=this.optimal.pi[n.i-1][t-1]);let o=Xi.factorial(t)*a;this.excludeAdditive||(o+=1e4**(t-1));let r=!1;Object.keys(this.optimal.g[l]).forEach((e=>{const n=this.optimal.g[l][e];parseInt(e,10)<=t&&n<=o&&(r=!0)})),r||(this.optimal.g[l][t]=o,this.optimal.m[l][t]=n,this.optimal.pi[l][t]=a)},bruteforceUpdate(e){let t=this.makeBruteforceMatch(0,e);this.update(t,1);for(let l=1;l<=e;l+=1){t=this.makeBruteforceMatch(l,e);const n=this.optimal.m[l-1];Object.keys(n).forEach((e=>{"bruteforce"!==n[e].pattern&&this.update(t,parseInt(e,10)+1)}))}},unwind(e){const t=[];let l=e-1,n=0,a=1/0;const o=this.optimal.g[l];for(o&&Object.keys(o).forEach((e=>{const t=o[e];t<a&&(n=parseInt(e,10),a=t)}));l>=0;){const e=this.optimal.m[l][n];t.unshift(e),l=e.i-1,n-=1}return t}};var au={mostGuessableMatchSequence(e,t,l=!1){nu.password=e,nu.excludeAdditive=l;const n=e.length;let a=nu.fillArray(n,"array");t.forEach((e=>{a[e.j].push(e)})),a=a.map((e=>e.sort(((e,t)=>e.i-t.i)))),nu.optimal={m:nu.fillArray(n,"object"),pi:nu.fillArray(n,"object"),g:nu.fillArray(n,"object")};for(let i=0;i<n;i+=1)a[i].forEach((e=>{e.i>0?Object.keys(nu.optimal.m[e.i-1]).forEach((t=>{nu.update(e,parseInt(t,10)+1)})):nu.update(e,1)})),nu.bruteforceUpdate(i);const o=nu.unwind(n),r=o.length,s=this.getGuesses(e,r);return{password:e,guesses:s,guessesLog10:Xi.log10(s),sequence:o}},getGuesses(e,t){const l=e.length;let n=0;return n=0===e.length?1:nu.optimal.g[l-1][t],n}};class ou{match({password:e,omniMatch:t}){const l=[];let n=0;for(;n<e.length;){const a=this.getGreedyMatch(e,n),o=this.getLazyMatch(e,n);if(null==a)break;const{match:r,baseToken:s}=this.setMatchToken(a,o);if(r){const e=r.index+r[0].length-1,a=this.getBaseGuesses(s,t);l.push(this.normalizeMatch(s,e,r,a)),n=e+1}}return l.some((e=>e instanceof Promise))?Promise.all(l):l}normalizeMatch(e,t,l,n){const a={pattern:"repeat",i:l.index,j:t,token:l[0],baseToken:e,baseGuesses:0,repeatCount:l[0].length/e.length};return n instanceof Promise?n.then((e=>({...a,baseGuesses:e}))):{...a,baseGuesses:n}}getGreedyMatch(e,t){const l=/(.+)\1+/g;return l.lastIndex=t,l.exec(e)}getLazyMatch(e,t){const l=/(.+?)\1+/g;return l.lastIndex=t,l.exec(e)}setMatchToken(e,t){const l=/^(.+?)\1+$/;let n,a="";if(t&&e[0].length>t[0].length){n=e;const t=l.exec(n[0]);t&&(a=t[1])}else n=t,n&&(a=n[1]);return{match:n,baseToken:a}}getBaseGuesses(e,t){const l=t.match(e);if(l instanceof Promise)return l.then((t=>au.mostGuessableMatchSequence(e,t).guesses));return au.mostGuessableMatchSequence(e,l).guesses}}class ru{constructor(){this.MAX_DELTA=5}match({password:e}){const t=[];if(1===e.length)return[];let l=0,n=null;const a=e.length;for(let o=1;o<a;o+=1){const a=e.charCodeAt(o)-e.charCodeAt(o-1);if(null==n&&(n=a),a!==n){const r=o-1;this.update({i:l,j:r,delta:n,password:e,result:t}),l=r,n=a}}return this.update({i:l,j:a-1,delta:n,password:e,result:t}),t}update({i:e,j:t,delta:l,password:n,result:a}){if(t-e>1||1===Math.abs(l)){const o=Math.abs(l);if(o>0&&o<=this.MAX_DELTA){const o=n.slice(e,+t+1||9e9),{sequenceName:r,sequenceSpace:s}=this.getSequence(o);return a.push({pattern:"sequence",i:e,j:t,token:n.slice(e,+t+1||9e9),sequenceName:r,sequenceSpace:s,ascending:l>0})}}return null}getSequence(e){let t="unicode",l=26;return Oi.test(e)?(t="lower",l=26):Si.test(e)?(t="upper",l=26):Mi.test(e)&&(t="digits",l=10),{sequenceName:t,sequenceSpace:l}}}class su{constructor(){this.SHIFTED_RX=/[~!@#$%^&*()_+QWERTYUIOP{}|ASDFGHJKL:"ZXCVBNM<>?]/}match({password:e}){const t=[];return Object.keys(qi.graphs).forEach((l=>{const n=qi.graphs[l];bi(t,this.helper(e,n,l))})),yi(t)}checkIfShifted(e,t,l){return!e.includes("keypad")&&this.SHIFTED_RX.test(t.charAt(l))?1:0}helper(e,t,l){let n;const a=[];let o=0;const r=e.length;for(;o<r-1;){let s=o+1,i=null,u=0;for(n=this.checkIfShifted(l,e,o);;){const d=t[e.charAt(s-1)]||[];let c=!1,p=-1,h=-1;if(s<r){const t=e.charAt(s),l=d.length;for(let e=0;e<l;e+=1){const l=d[e];if(h+=1,l){const e=l.indexOf(t);if(-1!==e){c=!0,p=h,1===e&&(n+=1),i!==p&&(u+=1,i=p);break}}}}if(!c){s-o>2&&a.push({pattern:"spatial",i:o,j:s-1,token:e.slice(o,s),graph:l,turns:u,shiftedCount:n}),o=s;break}s+=1}}return a}}const iu=new RegExp(`[${Li.join("")}]`);class uu{static getMostUsedSeparatorChar(e){const t=[...e.split("").filter((e=>iu.test(e))).reduce(((e,t)=>{const l=e.get(t);return l?e.set(t,l+1):e.set(t,1),e}),new Map).entries()].sort((([e,t],[l,n])=>n-t));if(!t.length)return;const l=t[0];return l[1]<2?void 0:l[0]}static getSeparatorRegex(e){return new RegExp(`([^${e}\n])(${e})(?!${e})`,"g")}match({password:e}){const t=[];if(0===e.length)return t;const l=uu.getMostUsedSeparatorChar(e);if(void 0===l)return t;const n=uu.getSeparatorRegex(l);for(const a of e.matchAll(n)){if(void 0===a.index)continue;const e=a.index+1;t.push({pattern:"separator",token:l,i:e,j:e})}return t}}class du{constructor(){this.matchers={date:_i,dictionary:Gi,regex:Yi,repeat:ou,sequence:ru,spatial:su,separator:uu}}match(e){const t=[],l=[];return[...Object.keys(this.matchers),...Object.keys(qi.matchers)].forEach((n=>{if(!this.matchers[n]&&!qi.matchers[n])return;const a=(new(this.matchers[n]?this.matchers[n]:qi.matchers[n].Matching)).match({password:e,omniMatch:this});a instanceof Promise?(a.then((e=>{bi(t,e)})),l.push(a)):bi(t,a)})),l.length>0?new Promise(((e,n)=>{Promise.all(l).then((()=>{e(yi(t))})).catch((e=>{n(e)}))})):yi(t)}}const cu=2678400,pu=32140800,hu={second:1,minute:60,hour:3600,day:86400,month:cu,year:pu,century:321408e4};class fu{translate(e,t){let l=e;void 0!==t&&1!==t&&(l+="s");const{timeEstimation:n}=qi.translations;return n[l].replace("{base}",`${t}`)}estimateAttackTimes(e){const t={onlineThrottling100PerHour:e/(100/3600),onlineNoThrottling10PerSecond:e/10,offlineSlowHashing1e4PerSecond:e/1e4,offlineFastHashing1e10PerSecond:e/1e10},l={onlineThrottling100PerHour:"",onlineNoThrottling10PerSecond:"",offlineSlowHashing1e4PerSecond:"",offlineFastHashing1e10PerSecond:""};return Object.keys(t).forEach((e=>{const n=t[e];l[e]=this.displayTime(n)})),{crackTimesSeconds:t,crackTimesDisplay:l,score:this.guessesToScore(e)}}guessesToScore(e){return e<1005?0:e<1000005?1:e<100000005?2:e<10000000005?3:4}displayTime(e){let t,l="centuries";const n=Object.keys(hu),a=n.findIndex((t=>e<hu[t]));return a>-1&&(l=n[a-1],0!==a?t=Math.round(e/hu[l]):l="ltSecond"),this.translate(l,t)}}var vu=()=>null,mu=()=>({warning:qi.translations.warnings.dates,suggestions:[qi.translations.suggestions.dates]});const gu=(e,t)=>{let l=null;const n=e.dictionaryName,a="lastnames"===n||n.toLowerCase().includes("firstnames");return"passwords"===n?l=((e,t)=>{let l=null;return!t||e.l33t||e.reversed?e.guessesLog10<=4&&(l=qi.translations.warnings.similarToCommon):l=e.rank<=10?qi.translations.warnings.topTen:e.rank<=100?qi.translations.warnings.topHundred:qi.translations.warnings.common,l})(e,t):n.includes("wikipedia")?l=((e,t)=>{let l=null;return t&&(l=qi.translations.warnings.wordByItself),l})(0,t):a?l=((e,t)=>t?qi.translations.warnings.namesByThemselves:qi.translations.warnings.commonNames)(0,t):"userInputs"===n&&(l=qi.translations.warnings.userInputs),l};var bu=(e,t)=>{const l=gu(e,t),n=[],a=e.token;return a.match(Ci)?n.push(qi.translations.suggestions.capitalization):a.match(Ni)&&a.toLowerCase()!==a&&n.push(qi.translations.suggestions.allUppercase),e.reversed&&e.token.length>=4&&n.push(qi.translations.suggestions.reverseWords),e.l33t&&n.push(qi.translations.suggestions.l33t),{warning:l,suggestions:n}},yu=e=>"recentYear"===e.regexName?{warning:qi.translations.warnings.recentYears,suggestions:[qi.translations.suggestions.recentYears,qi.translations.suggestions.associatedYears]}:{warning:null,suggestions:[]},ku=e=>{let t=qi.translations.warnings.extendedRepeat;return 1===e.baseToken.length&&(t=qi.translations.warnings.simpleRepeat),{warning:t,suggestions:[qi.translations.suggestions.repeated]}},xu=()=>({warning:qi.translations.warnings.sequences,suggestions:[qi.translations.suggestions.sequences]}),Cu=e=>{let t=qi.translations.warnings.keyPattern;return 1===e.turns&&(t=qi.translations.warnings.straightRow),{warning:t,suggestions:[qi.translations.suggestions.longerKeyboardPattern]}},wu=()=>null;const Su={warning:null,suggestions:[]};class Nu{constructor(){this.matchers={bruteforce:vu,date:mu,dictionary:bu,regex:yu,repeat:ku,sequence:xu,spatial:Cu,separator:wu},this.defaultFeedback={warning:null,suggestions:[]},this.setDefaultSuggestions()}setDefaultSuggestions(){this.defaultFeedback.suggestions.push(qi.translations.suggestions.useWords,qi.translations.suggestions.noNeed)}getFeedback(e,t){if(0===t.length)return this.defaultFeedback;if(e>2)return Su;const l=qi.translations.suggestions.anotherWord,n=this.getLongestMatch(t);let a=this.getMatchFeedback(n,1===t.length);return null!=a?a.suggestions.unshift(l):a={warning:null,suggestions:[l]},a}getLongestMatch(e){let t=e[0];return e.slice(1).forEach((e=>{e.token.length>t.token.length&&(t=e)})),t}getMatchFeedback(e,t){return this.matchers[e.pattern]?this.matchers[e.pattern](e,t):qi.matchers[e.pattern]&&"feedback"in qi.matchers[e.pattern]?qi.matchers[e.pattern].feedback(e,t):Su}}const Ou=()=>(new Date).getTime(),Vu=(e,t)=>{const l=Ou(),n=((e,t)=>(t&&qi.extendUserInputsDictionary(t),(new du).match(e)))(e,t);if(n instanceof Promise)throw new Error("You are using a Promised matcher, please use `zxcvbnAsync` for it.");return((e,t,l)=>{const n=new Nu,a=new fu,o=au.mostGuessableMatchSequence(t,e),r=Ou()-l,s=a.estimateAttackTimes(o.guesses);return{calcTime:r,...o,...s,feedback:n.getFeedback(s.score,o.sequence)}})(n,e,l)},Eu=["data-score"],Tu=yt(x({__name:"InputPassword",props:{strength:gt.bool.def(!1),modelValue:gt.string.def("")},emits:["update:modelValue"],setup(e,{emit:t}){const l=e,{getPrefixCls:n}=bt(),a=n("input-password");w((()=>l.modelValue),(e=>{e!==A(s)&&(s.value=e)}));const{configGlobal:o}={configGlobal:P("configGlobal",{})},r=y("password"),s=y(l.modelValue);w((()=>s.value),(e=>{t("update:modelValue",e)}));const i=k((()=>{const e=A(s),t=Vu(A(s));return e?t.score:-1}));return(t,l)=>{var n;return E(),T("div",{class:M([A(a),`${A(a)}--${null==(n=A(o))?void 0:n.size}`])},[K(A(Bt),he(t.$attrs,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),showPassword:"",type:r.value}),null,16,["modelValue","type"]),e.strength?(E(),T("div",{key:0,class:M([`${A(a)}__bar`,"relative h-6px mt-10px mb-6px mr-auto ml-auto"])},[te("div",{class:M(`${A(a)}__bar--fill`),"data-score":i.value},null,10,Eu)],2)):ee("",!0)],2)}}}),[["__scopeId","data-v-b0991a8b"]]),Iu=["innerHTML"],Mu=x({__name:"Text",props:{modelValue:gt.string.def("")},setup(e){const t=y(e.modelValue);return(e,l)=>(E(),T("span",{innerHTML:t.value},null,8,Iu))}});var Au,Du={exports:{}};const Lu=Ct(Du.exports=(Au=kt,function(){var e={789:function(e){e.exports=Au}},t={};function l(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,l),o.exports}l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return function(){function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,n=new Array(t);l<t;l++)n[l]=e[l];return n}function t(t,l){if(t){if("string"==typeof t)return e(t,l);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,l):void 0}}function a(l){return function(t){if(Array.isArray(t))return e(t)}(l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(l)||t(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}l.r(n),l.d(n,{default:function(){return x}});var r=l(789),s=(0,r.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var e=this.data,t=this.onClick;return(0,r.createVNode)("span",{class:"vjs-tree-brackets",onClick:t},[e])}}),i=(0,r.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(e,t){var l=t.emit;return{uiType:(0,r.computed)((function(){return e.isMultiple?"checkbox":"radio"})),model:(0,r.computed)({get:function(){return e.checked},set:function(e){return l("update:modelValue",e)}})}},render:function(){var e=this.uiType,t=this.model,l=this.$emit;return(0,r.createVNode)("label",{class:["vjs-check-controller",t?"is-checked":""],onClick:function(e){return e.stopPropagation()}},[(0,r.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(e)},null),(0,r.createVNode)("input",{checked:t,class:"vjs-check-controller-original is-".concat(e),type:e,onChange:function(){return l("change",t)}},null)])}}),u=(0,r.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var e=this.nodeType,t=this.onClick,l="objectStart"===e||"arrayStart"===e;return l||"objectCollapsed"===e||"arrayCollapsed"===e?(0,r.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(l?"open":"close"),onClick:t},[(0,r.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,r.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"root",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=(arguments.length>3?arguments[3]:void 0)||{},a=n.key,o=n.index,r=n.type,s=void 0===r?"content":r,i=n.showComma,u=void 0!==i&&i,d=n.length,f=void 0===d?1:d,v=c(e);if("array"===v){var m=h(e.map((function(e,n,a){return p(e,"".concat(t,"[").concat(n,"]"),l+1,{index:n,showComma:n!==a.length-1,length:f,type:s})})));return[p("[",t,l,{showComma:!1,key:a,length:e.length,type:"arrayStart"})[0]].concat(m,p("]",t,l,{showComma:u,length:e.length,type:"arrayEnd"})[0])}if("object"===v){var g=Object.keys(e),b=h(g.map((function(n,a,o){return p(e[n],/^[a-zA-Z_]\w*$/.test(n)?"".concat(t,".").concat(n):"".concat(t,'["').concat(n,'"]'),l+1,{key:n,showComma:a!==o.length-1,length:f,type:s})})));return[p("{",t,l,{showComma:!1,key:a,index:o,length:g.length,type:"objectStart"})[0]].concat(b,p("}",t,l,{showComma:u,length:g.length,type:"objectEnd"})[0])}return[{content:e,level:l,key:a,index:o,path:t,showComma:u,length:f,type:s}]}function h(e){if("function"==typeof Array.prototype.flat)return e.flat();for(var t=a(e),l=[];t.length;){var n=t.shift();Array.isArray(n)?t.unshift.apply(t,a(n)):l.push(n)}return l}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new WeakMap;if(null==e)return e;if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if("object"!==d(e))return e;if(t.get(e))return t.get(e);if(Array.isArray(e)){var l=e.map((function(e){return f(e,t)}));return t.set(e,l),l}var n={};for(var a in e)n[a]=f(e[a],t);return t.set(e,n),n}function v(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,n)}return l}function m(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?v(Object(l),!0).forEach((function(t){o(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):v(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}var g={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}},b=(0,r.defineComponent)({name:"TreeNode",props:m(m({},g),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(e,t){var l=t.emit,n=(0,r.computed)((function(){return c(e.node.content)})),a=(0,r.computed)((function(){return"vjs-value vjs-value-".concat(n.value)})),o=(0,r.computed)((function(){return e.showDoubleQuotes?'"'.concat(e.node.key,'"'):e.node.key})),d=(0,r.computed)((function(){return"multiple"===e.selectableType})),p=(0,r.computed)((function(){return"single"===e.selectableType})),h=(0,r.computed)((function(){return e.nodeSelectable(e.node)&&(d.value||p.value)})),f=(0,r.reactive)({editing:!1}),v=function(t){var n,a,o="null"===(a=null===(n=t.target)||void 0===n?void 0:n.value)?null:"undefined"===a?void 0:"true"===a||"false"!==a&&(a[0]+a[a.length-1]==='""'||a[0]+a[a.length-1]==="''"?a.slice(1,-1):"number"==typeof Number(a)&&!isNaN(Number(a))||"NaN"===a?Number(a):a);l("valueChange",o,e.node.path)},m=(0,r.computed)((function(){var t,l=null===(t=e.node)||void 0===t?void 0:t.content;return null===l?l="null":void 0===l&&(l="undefined"),"string"===n.value?'"'.concat(l,'"'):l+""})),g=function(){var t=e.renderNodeValue;return t?t({node:e.node,defaultValue:m.value}):m.value},b=function(){l("bracketsClick",!e.collapsed,e.node.path)},y=function(){l("iconClick",!e.collapsed,e.node.path)},k=function(){l("selectedChange",e.node)},x=function(){l("nodeClick",e.node),h.value&&e.selectOnClickNode&&l("selectedChange",e.node)},C=function(t){if(e.editable&&!f.editing){f.editing=!0;var l=function e(l){var n;l.target!==t.target&&(null===(n=l.target)||void 0===n?void 0:n.parentElement)!==t.target&&(f.editing=!1,document.removeEventListener("click",e))};document.removeEventListener("click",l),document.addEventListener("click",l)}};return function(){var t,l=e.node;return(0,r.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":e.showSelectController,"has-carets":e.showIcon,"is-highlight":e.highlightSelectedNode&&e.checked},onClick:x,style:e.style},[e.showLineNumber&&(0,r.createVNode)("span",{class:"vjs-node-index"},[l.id+1]),e.showSelectController&&h.value&&"objectEnd"!==l.type&&"arrayEnd"!==l.type&&(0,r.createVNode)(i,{isMultiple:d.value,checked:e.checked,onChange:k},null),(0,r.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(l.level)).map((function(t,l){return(0,r.createVNode)("div",{key:l,class:{"vjs-indent-unit":!0,"has-line":e.showLine}},null)})),e.showIcon&&(0,r.createVNode)(u,{nodeType:l.type,onClick:y},null)]),l.key&&(0,r.createVNode)("span",{class:"vjs-key"},[(t=e.renderNodeKey,t?t({node:e.node,defaultKey:o.value||""}):o.value),(0,r.createVNode)("span",{class:"vjs-colon"},[":".concat(e.showKeyValueSpace?" ":"")])]),(0,r.createVNode)("span",null,["content"!==l.type&&l.content?(0,r.createVNode)(s,{data:l.content.toString(),onClick:b},null):(0,r.createVNode)("span",{class:a.value,onClick:!e.editable||e.editableTrigger&&"click"!==e.editableTrigger?void 0:C,onDblclick:e.editable&&"dblclick"===e.editableTrigger?C:void 0},[e.editable&&f.editing?(0,r.createVNode)("input",{value:m.value,onChange:v,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):g()]),l.showComma&&(0,r.createVNode)("span",null,[","]),e.showLength&&e.collapsed&&(0,r.createVNode)("span",{class:"vjs-comment"},[(0,r.createTextVNode)(" // "),l.length,(0,r.createTextVNode)(" items ")])])])}}});function y(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,n)}return l}function k(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?y(Object(l),!0).forEach((function(t){o(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):y(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}var x=(0,r.defineComponent)({name:"Tree",props:k(k({},g),{},{data:{type:[String,Number,Boolean,Array,Object],default:null},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function}}),slots:["renderNodeKey","renderNodeValue"],emits:["nodeClick","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(e,l){var n=l.emit,s=l.slots,i=(0,r.ref)(),u=(0,r.computed)((function(){return p(e.data,e.rootPath)})),d=function(t){return u.value.reduce((function(l,n){var a,r=n.level>=t,s=null===(a=e.pathCollapsible)||void 0===a?void 0:a.call(e,n);return"objectStart"!==n.type&&"arrayStart"!==n.type||!r&&!s?l:k(k({},l),{},o({},n.path,1))}),{})},c=(0,r.reactive)({translateY:0,visibleData:null,hiddenPaths:d(e.deep)}),h=(0,r.computed)((function(){for(var e=null,t=[],l=u.value.length,n=0;n<l;n++){var a=k(k({},u.value[n]),{},{id:n}),o=c.hiddenPaths[a.path];if(e&&e.path===a.path){var r="objectStart"===e.type,s=k(k(k({},a),e),{},{showComma:a.showComma,content:r?"{...}":"[...]",type:r?"objectCollapsed":"arrayCollapsed"});e=null,t.push(s)}else{if(o&&!e){e=a;continue}if(e)continue;t.push(a)}}return t})),v=(0,r.computed)((function(){var t=e.selectedValue;return t&&"multiple"===e.selectableType&&Array.isArray(t)?t:[t]})),m=(0,r.computed)((function(){return!e.selectableType||e.selectOnClickNode||e.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."})),g=function(){var t=h.value;if(e.virtual){var l,n=e.height/e.itemHeight,a=(null===(l=i.value)||void 0===l?void 0:l.scrollTop)||0,o=Math.floor(a/e.itemHeight),r=o<0?0:o+n>t.length?t.length-n:o;r<0&&(r=0);var s=r+n;c.translateY=r*e.itemHeight,c.visibleData=t.filter((function(e,t){return t>=r&&t<s}))}else c.visibleData=t},y=function(){g()},x=function(l){var o,r,s=l.path,i=e.selectableType;if("multiple"===i){var u=v.value.findIndex((function(e){return e===s})),d=a(v.value);-1!==u?d.splice(u,1):d.push(s),n("update:selectedValue",d),n("selectedChange",d,a(v.value))}else if("single"===i&&v.value[0]!==s){var c=(o=v.value,r=1,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var n,a,o=[],r=!0,s=!1;try{for(l=l.call(e);!(r=(n=l.next()).done)&&(o.push(n.value),!t||o.length!==t);r=!0);}catch(i){s=!0,a=i}finally{try{r||null==l.return||l.return()}finally{if(s)throw a}}return o}}(o,r)||t(o,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],p=s;n("update:selectedValue",p),n("selectedChange",p,c)}},C=function(e){n("nodeClick",e)},w=function(e,t){if(e)c.hiddenPaths=k(k({},c.hiddenPaths),{},o({},t,1));else{var l=k({},c.hiddenPaths);delete l[t],c.hiddenPaths=l}},S=function(t,l){e.collapsedOnClickBrackets&&w(t,l),n("bracketsClick",t)},N=function(e,t){w(e,t),n("iconClick",e)},O=function(t,l){var a=f(e.data),o=e.rootPath;new Function("data","val","data".concat(l.slice(o.length),"=val"))(a,t),n("update:data",a)};return(0,r.watchEffect)((function(){m.value&&function(e){throw new Error("[VueJSONPretty] ".concat(e))}(m.value)})),(0,r.watchEffect)((function(){h.value&&g()})),(0,r.watch)((function(){return e.deep}),(function(e){e&&(c.hiddenPaths=d(e))})),function(){var t,l,n=null!==(t=e.renderNodeKey)&&void 0!==t?t:s.renderNodeKey,a=null!==(l=e.renderNodeValue)&&void 0!==l?l:s.renderNodeValue,o=c.visibleData&&c.visibleData.map((function(t){return(0,r.createVNode)(b,{key:t.id,node:t,collapsed:!!c.hiddenPaths[t.path],showDoubleQuotes:e.showDoubleQuotes,showLength:e.showLength,checked:v.value.includes(t.path),selectableType:e.selectableType,showLine:e.showLine,showLineNumber:e.showLineNumber,showSelectController:e.showSelectController,selectOnClickNode:e.selectOnClickNode,nodeSelectable:e.nodeSelectable,highlightSelectedNode:e.highlightSelectedNode,editable:e.editable,editableTrigger:e.editableTrigger,showIcon:e.showIcon,showKeyValueSpace:e.showKeyValueSpace,renderNodeKey:n,renderNodeValue:a,onNodeClick:C,onBracketsClick:S,onIconClick:N,onSelectedChange:x,onValueChange:O,style:e.itemHeight&&20!==e.itemHeight?{lineHeight:"".concat(e.itemHeight,"px")}:{}},null)}));return(0,r.createVNode)("div",{ref:i,class:{"vjs-tree":!0,"is-virtual":e.virtual},onScroll:e.virtual?y:void 0,style:e.showLineNumber?k({paddingLeft:"".concat(12*Number(u.value.length.toString().length),"px")},e.style):e.style},[e.virtual?(0,r.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(e.height,"px")}},[(0,r.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(h.value.length*e.itemHeight,"px")}},[(0,r.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(c.translateY,"px)")}},[o])])]):o])}}})}(),n}())),Pu=x({__name:"JsonEditor",props:{modelValue:{type:Object,default:()=>({})},deep:gt.number.def(5),showLength:gt.bool.def(!0),showLineNumbers:gt.bool.def(!0),showLineNumber:gt.bool.def(!0),showIcon:gt.bool.def(!0),showDoubleQuotes:gt.bool.def(!0),virtual:gt.bool.def(!1),height:gt.number.def(400),itemHeight:gt.number.def(20),rootPath:gt.string.def("root"),nodeSelectable:gt.func.def(),selectableType:gt.oneOf(["multiple","single"]).def(),showSelectController:gt.bool.def(!1),selectOnClickNode:gt.bool.def(!0),highlightSelectedNode:gt.bool.def(!0),collapsedOnClickBrackets:gt.bool.def(!0),renderNodeKey:gt.func.def(),renderNodeValue:gt.func.def(),editable:gt.bool.def(!0),editableTrigger:gt.oneOf(["click","dblclick"]).def("click")},emits:["update:modelValue","node-click","brackets-click","icon-click","selected-value"],setup(e,{emit:t}){const l=e,n=k((()=>l.modelValue)),a=k({get:()=>n.value,set:e=>{t("update:modelValue",e)}}),o=e=>{t("node-click",e)},r=e=>{t("brackets-click",e)},s=e=>{t("icon-click",e)},i=(e,l)=>{t("selected-value",e,l)};return(t,l)=>(E(),Y(A(Lu),{data:a.value,"onUpdate:data":l[0]||(l[0]=e=>a.value=e),deep:e.deep,"show-length":e.showLength,"show-line-numbers":e.showLineNumbers,"show-line-number":e.showLineNumber,"show-icon":e.showIcon,"show-double-quotes":e.showDoubleQuotes,virtual:e.virtual,height:e.height,"item-height":e.itemHeight,"root-path":e.rootPath,"node-selectable":e.nodeSelectable,"selectable-type":e.selectableType,"show-select-controller":e.showSelectController,"select-on-click-node":e.selectOnClickNode,"highlight-selected-node":e.highlightSelectedNode,"collapsed-on-click-brackets":e.collapsedOnClickBrackets,"render-node-key":e.renderNodeKey,"render-node-value":e.renderNodeValue,editable:e.editable,"editable-trigger":e.editableTrigger,onNodeClick:o,onBracketsClick:r,onIconClick:s,onSelectedChange:i},null,8,["data","deep","show-length","show-line-numbers","show-line-number","show-icon","show-double-quotes","virtual","height","item-height","root-path","node-selectable","selectable-type","show-select-controller","select-on-click-node","highlight-selected-node","collapsed-on-click-brackets","render-node-key","render-node-value","editable","editable-trigger"]))}}),_u={RadioGroup:Kt,RadioButton:Kt,CheckboxGroup:Ut,CheckboxButton:Ut,Input:Bt,Autocomplete:ta,InputNumber:vo,Select:To,Cascader:Da,Switch:fl,Slider:bs,TimePicker:sa,DatePicker:pl,Rate:$o,ColorPicker:io,Transfer:Rs,Divider:vl,TimeSelect:Vs,SelectV2:Ur,InputPassword:Tu,Editor:gl,TreeSelect:gi,Upload:ml,JsonEditor:Pu,Text:Mu},Bu=(e,t="default",l)=>{if(!e||!Reflect.has(e,t))return null;if(!wt(e[t]))return null;const n=e[t];return n?n(l):null};var $u=(e=>(e.RADIO_GROUP="RadioGroup",e.RADIO_BUTTON="RadioButton",e.CHECKBOX_GROUP="CheckboxGroup",e.CHECKBOX_BUTTON="CheckboxButton",e.INPUT="Input",e.AUTOCOMPLETE="Autocomplete",e.INPUT_NUMBER="InputNumber",e.SELECT="Select",e.CASCADER="Cascader",e.SWITCH="Switch",e.SLIDER="Slider",e.TIME_PICKER="TimePicker",e.DATE_PICKER="DatePicker",e.RATE="Rate",e.COLOR_PICKER="ColorPicker",e.TRANSFER="Transfer",e.DIVIDER="Divider",e.TIME_SELECT="TimeSelect",e.SELECT_V2="SelectV2",e.INPUT_PASSWORD="InputPassword",e.EDITOR="Editor",e.TREE_SELECT="TreeSelect",e.UPLOAD="Upload",e.JSON_EDITOR="JsonEditor",e.Text="Text",e))($u||{});const{t:Fu}=St(),ju=(e={})=>{const t={};for(const l in e)e[l]&&(wt(e[l])?t[Ot(l)]=(...t)=>{var n;return null==(n=e[l])?void 0:n.call(e,...t)}:t[Ot(l)]=()=>e[l]);return t},Ku=(e,t)=>{const l={...t};return e.map((e=>{if(e.remove)delete l[e.field];else if("Divider"!==e.component){const t=He(l,e.field);Nt(l,e.field,void 0!==t?He(l,e.field):void 0!==e.value?e.value:void 0)}})),l};function Ru(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Tt(e)}const{renderSelectOptions:zu}=(()=>{const e=(e,t)=>{var l,n,a,o;const r=e.componentProps,s=null==(l=null==r?void 0:r.props)?void 0:l.label,i=null==(n=null==r?void 0:r.props)?void 0:n.value,u=null==(a=null==r?void 0:r.props)?void 0:a.key,d=null==(o=r.slots)?void 0:o.optionDefault;return K(Io,he(t,{key:t[u||"key"],label:t[s||"label"],value:t[i||"value"]}),{default:()=>d?d(t):void 0})};return{renderSelectOptions:t=>{var l,n,a,o;const r=null==t?void 0:t.componentProps,s=null==(l=null==r?void 0:r.slots)?void 0:l.optionGroupDefault,i=null==(n=null==r?void 0:r.props)?void 0:n.label,u=null==(a=null==r?void 0:r.props)?void 0:a.key;return null==(o=null==r?void 0:r.options)?void 0:o.map((l=>{var n;return(null==(n=null==l?void 0:l.options)?void 0:n.length)?s?s(l):K(Mo,{label:l[i||"label"],key:l[u||"key"]},{default:()=>{var n;return null==(n=null==l?void 0:l.options)?void 0:n.map((l=>e(t,l)))}}):e(t,l)}))}}})(),{renderRadioOptions:qu}={renderRadioOptions:e=>{var t,l,n,a;const o=null==e?void 0:e.componentProps,r=(null==(t=null==o?void 0:o.props)?void 0:t.value)||"value",s=(null==(l=null==o?void 0:o.props)?void 0:l.label)||"label",i=(null==(n=null==o?void 0:o.props)?void 0:n.disabled)||"disabled",u=e.component===$u.RADIO_GROUP?$t:Rt;return null==(a=null==o?void 0:o.options)?void 0:a.map((e=>{const{value:t,...l}=e;return K(u,he(l,{disabled:e[i||"disabled"],label:e[r||"value"]}),{default:()=>[e[s||"label"]]})}))}},{renderCheckboxOptions:Wu}={renderCheckboxOptions:e=>{var t,l,n,a;const o=null==e?void 0:e.componentProps,r=(null==(t=null==o?void 0:o.props)?void 0:t.value)||"value",s=(null==(l=null==o?void 0:o.props)?void 0:l.label)||"label",i=(null==(n=null==o?void 0:o.props)?void 0:n.disabled)||"disabled",u=e.component===$u.CHECKBOX_GROUP?qt:Yt;return null==(a=null==o?void 0:o.options)?void 0:a.map((e=>{const{value:t,...l}=e;return K(u,he(l,{disabled:e[i||"disabled"],label:e[r||"value"]}),{default:()=>[e[s||"label"]]})}))}},{getPrefixCls:Hu}=bt(),Uu=Hu("form"),Gu=yt(x({name:"Form",props:{schema:{type:Array,default:()=>[]},isCol:gt.bool.def(!0),model:{type:Object,default:()=>({})},autoSetPlaceholder:gt.bool.def(!0),isCustom:gt.bool.def(!1),labelWidth:gt.oneOfType([String,Number]).def("auto"),rules:{type:Object,default:()=>({})},labelPosition:gt.oneOf(["left","right","top"]).def("right"),labelSuffix:gt.string.def(""),hideRequiredAsterisk:gt.bool.def(!1),requireAsteriskPosition:gt.oneOf(["left","right"]).def("left"),showMessage:gt.bool.def(!0),inlineMessage:gt.bool.def(!1),statusIcon:gt.bool.def(!1),validateOnRuleChange:gt.bool.def(!0),size:{type:String,default:void 0},disabled:gt.bool.def(!1),scrollToError:gt.bool.def(!1),scrollToErrorOffset:gt.oneOfType([Boolean,Object]).def(void 0)},emits:["register"],setup(e,{slots:t,expose:l,emit:n}){const a=y(),o=y({}),r=y({}),s=k((()=>{const t={...e};return Object.assign(t,A(r)),t})),i=y({}),u=y({}),d=y(e.model);B((()=>{var e;(()=>{const{schema:e=[]}=A(s);e.filter((e=>!0!==e.remove&&!0!==e.hidden&&!!e.optionApi)).forEach((e=>{e.optionApi&&p(e.optionApi,e)}))})(),n("register",null==(e=A(a))?void 0:e.$parent,A(a))}));const c=e=>{const{schema:t}=A(s);for(const l of t)for(const t of e)l.field===t.field&&Nt(l,t.path,t.value)},p=async(e,t)=>{const l=await e();c([{field:t.field,path:t.component===$u.TREE_SELECT?"componentProps.data":"componentProps.options",value:l}])};l({setValues:(e={})=>{d.value=Object.assign(A(d),e)},setValue:(e,t)=>{d.value[e]=t},formModel:d,setProps:(e={})=>{r.value=Object.assign(A(r),e),o.value=e},delSchema:e=>{const{schema:t}=A(s),l=Et(t,(t=>t.field===e));l>-1&&t.splice(l,1)},addSchema:(e,t)=>{const{schema:l}=A(s);void 0===t?l.push(e):l.splice(t,0,e)},setSchema:c,getComponentExpose:e=>A(i)[e],getFormItemExpose:e=>A(u)[e]}),w((()=>A(s).schema),((e=[])=>{d.value=Ku(e,A(d))}),{immediate:!0,deep:!0});const h=()=>{const{schema:e=[],isCol:t}=A(s);return e.filter((e=>!0!==e.remove&&(!0!==e.hidden&&(!e.ifshow||e.ifshow(d.value))))).map((e=>{let l;return"Divider"===e.component?K(_u.Divider,{contentPosition:"left",...e.componentProps},{default:()=>[null==e?void 0:e.label]}):t?K(At,((e={})=>({...e.span?{}:{xs:24,sm:12,md:12,lg:12,xl:12},...e}))(e.colProps),Ru(l=f(e))?l:{default:()=>[l]}):f(e)}))},f=e=>{var t,l,n,a;const o={default:()=>{var t,l,n,a,o;if(null==(l=null==(t=null==e?void 0:e.formItemProps)?void 0:t.slots)?void 0:l.default)return null==(a=null==(n=null==e?void 0:e.formItemProps)?void 0:n.slots)?void 0:a.default(d.value);{const t=_u[e.component],{autoSetPlaceholder:l}=A(s),n=(null==(o=null==e?void 0:e.componentProps)?void 0:o.slots)||{},a={...ju(n)};e.component===$u.SELECT&&(a.default=n.default?()=>{var t;return n.default(A(null==(t=null==e?void 0:e.componentProps)?void 0:t.options))}:()=>zu(e)),e.component===$u.SELECT_V2&&n.default&&(a.default=({item:e})=>n.default(e)),e.component!==$u.RADIO_GROUP&&e.component!==$u.RADIO_BUTTON||(a.default=n.default?()=>{var t;return n.default(A(null==(t=null==e?void 0:e.componentProps)?void 0:t.options))}:()=>qu(e)),e.component!==$u.CHECKBOX_GROUP&&e.component!==$u.CHECKBOX_BUTTON||(a.default=n.default?()=>{var t;return n.default(A(null==(t=null==e?void 0:e.componentProps)?void 0:t.options))}:()=>Wu(e));const r=()=>{var n;const o=k({get:()=>He(d.value,e.field),set:t=>{Nt(d.value,e.field,t)}});return K(t,he({modelValue:o.value,"onUpdate:modelValue":e=>o.value=e,ref:t=>{return l=t,n=e.field,void(i.value[n]=l);var l,n}},l&&(e=>{var t,l;const n=[$u.INPUT,$u.AUTOCOMPLETE,$u.INPUT_NUMBER,$u.INPUT_PASSWORD],a=[$u.SELECT,$u.TIME_PICKER,$u.DATE_PICKER,$u.TIME_SELECT,$u.SELECT_V2];if(n.includes(null==e?void 0:e.component))return{placeholder:`${e.label}`};if(a.includes(null==e?void 0:e.component))return["datetimerange","daterange","monthrange","datetimerange","daterange"].includes((null==(t=null==e?void 0:e.componentProps)?void 0:t.type)||(null==(l=null==e?void 0:e.componentProps)?void 0:l.isRange))?{startPlaceholder:Fu("common.startTimeText"),endPlaceholder:Fu("common.endTimeText"),rangeSeparator:"-"}:{placeholder:`${e.label}`};return{}})(e),(e=>{var t;const l=(null==(t=null==e?void 0:e.componentProps)?void 0:t.on)||{},n={};for(const o in l)l[o]&&(n[`on${Vt(o)}`]=(...e)=>{l[o](...e)});const a={clearable:!0,...e.componentProps,...n};return a.slots&&delete a.slots,a.on&&delete a.on,a})(e),{style:(null==(n=e.componentProps)?void 0:n.style)||{}}),{...a})};return K(R,null,[r()])}}};return(null==e?void 0:e.labelMessage)&&(o.label=()=>K(R,null,[K("span",null,[e.label]),K(Lt,{placement:"top","raw-content":!0},{content:()=>K("span",{innerHTML:e.labelMessage},null),default:()=>K(It,{icon:"ep:warning",size:16,color:"var(--el-color-primary)",class:"ml-2px relative top-1px"},null)})])),(null==(l=null==(t=null==e?void 0:e.formItemProps)?void 0:t.slots)?void 0:l.label)&&(o.label=(...t)=>{var l,n;return null==(n=null==(l=null==e?void 0:e.formItemProps)?void 0:l.slots)?void 0:n.label(...t)}),(null==(a=null==(n=null==e?void 0:e.formItemProps)?void 0:n.slots)?void 0:a.error)&&(o.error=(...t)=>{var l,n;return null==(n=null==(l=null==e?void 0:e.formItemProps)?void 0:l.slots)?void 0:n.error(...t)}),K(Un,he({ref:t=>{return l=t,n=e.field,void(u.value[n]=l);var l,n}},e.formItemProps||{},{prop:e.field,label:e.label||""}),Ru(o)?o:{default:()=>[o]})};return()=>K(Hn,he({ref:a},(()=>{const e=["schema","isCol","autoSetPlaceholder","isCustom","model"],t={...A(s)};for(const l in t)-1!==e.indexOf(l)&&delete t[l];return t})(),{model:A(s).isCustom?A(s).model:d,class:Uu}),{default:()=>{const{isCustom:e}=A(s);return e?Bu(t,"default"):(()=>{let e;const{isCol:t}=A(s);return t?K(Mt,{gutter:20},Ru(e=h())?e:{default:()=>[e]}):h()})()}})}}),[["__scopeId","data-v-eaeb8dcf"]]),Yu=()=>{const e=y(),t=y(),l=async()=>{await z();const t=A(e);return t};return{formRegister:(l,n)=>{e.value=l,t.value=n},formMethods:{setProps:async(e={})=>{const t=await l();null==t||t.setProps(e),e.model&&(null==t||t.setValues(e.model))},setValues:async e=>{const t=await l();null==t||t.setValues(e)},setValue:async(e,t)=>{const n=await l();null==n||n.setValue(e,t)},setSchema:async e=>{const t=await l();null==t||t.setSchema(e)},addSchema:async(e,t)=>{const n=await l();null==n||n.addSchema(e,t)},delSchema:async e=>{const t=await l();null==t||t.delSchema(e)},getFormData:async()=>{const e=await l();return null==e?void 0:e.formModel},getComponentExpose:async e=>{const t=await l();return null==t?void 0:t.getComponentExpose(e)},getFormItemExpose:async e=>{const t=await l();return null==t?void 0:t.getFormItemExpose(e)},getElFormExpose:async()=>(await l(),A(t)),getFormExpose:async()=>(await l(),A(e))}}};export{si as E,Gu as F,Io as a,To as b,Ql as c,Ku as d,Bu as g,Hl as i,jl as o,Rl as t,Yu as u};
